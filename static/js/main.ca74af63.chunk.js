(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[136],{274:function(e,s,t){var r={"./af":[276,0],"./af.js":[276,0],"./ar":[283,7],"./ar-dz":[277,1],"./ar-dz.js":[277,1],"./ar-kw":[278,2],"./ar-kw.js":[278,2],"./ar-ly":[279,3],"./ar-ly.js":[279,3],"./ar-ma":[280,4],"./ar-ma.js":[280,4],"./ar-sa":[281,5],"./ar-sa.js":[281,5],"./ar-tn":[282,6],"./ar-tn.js":[282,6],"./ar.js":[283,7],"./az":[284,8],"./az.js":[284,8],"./be":[285,9],"./be.js":[285,9],"./bg":[286,10],"./bg.js":[286,10],"./bm":[287,11],"./bm.js":[287,11],"./bn":[289,13],"./bn-bd":[288,12],"./bn-bd.js":[288,12],"./bn.js":[289,13],"./bo":[290,14],"./bo.js":[290,14],"./br":[291,15],"./br.js":[291,15],"./bs":[292,16],"./bs.js":[292,16],"./ca":[293,17],"./ca.js":[293,17],"./cs":[294,18],"./cs.js":[294,18],"./cv":[295,19],"./cv.js":[295,19],"./cy":[296,20],"./cy.js":[296,20],"./da":[297,21],"./da.js":[297,21],"./de":[300,24],"./de-at":[298,22],"./de-at.js":[298,22],"./de-ch":[299,23],"./de-ch.js":[299,23],"./de.js":[300,24],"./dv":[301,25],"./dv.js":[301,25],"./el":[302,26],"./el.js":[302,26],"./en-au":[303,27],"./en-au.js":[303,27],"./en-ca":[304,28],"./en-ca.js":[304,28],"./en-gb":[305,29],"./en-gb.js":[305,29],"./en-ie":[306,30],"./en-ie.js":[306,30],"./en-il":[307,31],"./en-il.js":[307,31],"./en-in":[308,32],"./en-in.js":[308,32],"./en-nz":[309,33],"./en-nz.js":[309,33],"./en-sg":[310,34],"./en-sg.js":[310,34],"./eo":[311,35],"./eo.js":[311,35],"./es":[315,39],"./es-do":[312,36],"./es-do.js":[312,36],"./es-mx":[313,37],"./es-mx.js":[313,37],"./es-us":[314,38],"./es-us.js":[314,38],"./es.js":[315,39],"./et":[316,40],"./et.js":[316,40],"./eu":[317,41],"./eu.js":[317,41],"./fa":[318,42],"./fa.js":[318,42],"./fi":[319,43],"./fi.js":[319,43],"./fil":[320,44],"./fil.js":[320,44],"./fo":[321,45],"./fo.js":[321,45],"./fr":[324,48],"./fr-ca":[322,46],"./fr-ca.js":[322,46],"./fr-ch":[323,47],"./fr-ch.js":[323,47],"./fr.js":[324,48],"./fy":[325,49],"./fy.js":[325,49],"./ga":[326,50],"./ga.js":[326,50],"./gd":[327,51],"./gd.js":[327,51],"./gl":[328,52],"./gl.js":[328,52],"./gom-deva":[329,53],"./gom-deva.js":[329,53],"./gom-latn":[330,54],"./gom-latn.js":[330,54],"./gu":[331,55],"./gu.js":[331,55],"./he":[332,56],"./he.js":[332,56],"./hi":[333,57],"./hi.js":[333,57],"./hr":[334,58],"./hr.js":[334,58],"./hu":[335,59],"./hu.js":[335,59],"./hy-am":[336,60],"./hy-am.js":[336,60],"./id":[337,61],"./id.js":[337,61],"./is":[338,62],"./is.js":[338,62],"./it":[340,64],"./it-ch":[339,63],"./it-ch.js":[339,63],"./it.js":[340,64],"./ja":[341,65],"./ja.js":[341,65],"./jv":[342,66],"./jv.js":[342,66],"./ka":[343,67],"./ka.js":[343,67],"./kk":[344,68],"./kk.js":[344,68],"./km":[345,69],"./km.js":[345,69],"./kn":[346,70],"./kn.js":[346,70],"./ko":[347,71],"./ko.js":[347,71],"./ku":[348,72],"./ku.js":[348,72],"./ky":[349,73],"./ky.js":[349,73],"./lb":[350,74],"./lb.js":[350,74],"./lo":[351,75],"./lo.js":[351,75],"./lt":[352,76],"./lt.js":[352,76],"./lv":[353,77],"./lv.js":[353,77],"./me":[354,78],"./me.js":[354,78],"./mi":[355,79],"./mi.js":[355,79],"./mk":[356,80],"./mk.js":[356,80],"./ml":[357,81],"./ml.js":[357,81],"./mn":[358,82],"./mn.js":[358,82],"./mr":[359,83],"./mr.js":[359,83],"./ms":[361,85],"./ms-my":[360,84],"./ms-my.js":[360,84],"./ms.js":[361,85],"./mt":[362,86],"./mt.js":[362,86],"./my":[363,87],"./my.js":[363,87],"./nb":[364,88],"./nb.js":[364,88],"./ne":[365,89],"./ne.js":[365,89],"./nl":[367,91],"./nl-be":[366,90],"./nl-be.js":[366,90],"./nl.js":[367,91],"./nn":[368,92],"./nn.js":[368,92],"./oc-lnc":[369,93],"./oc-lnc.js":[369,93],"./pa-in":[370,94],"./pa-in.js":[370,94],"./pl":[371,95],"./pl.js":[371,95],"./pt":[373,97],"./pt-br":[372,96],"./pt-br.js":[372,96],"./pt.js":[373,97],"./ro":[374,98],"./ro.js":[374,98],"./ru":[375,99],"./ru.js":[375,99],"./sd":[376,100],"./sd.js":[376,100],"./se":[377,101],"./se.js":[377,101],"./si":[378,102],"./si.js":[378,102],"./sk":[379,103],"./sk.js":[379,103],"./sl":[380,104],"./sl.js":[380,104],"./sq":[381,105],"./sq.js":[381,105],"./sr":[383,107],"./sr-cyrl":[382,106],"./sr-cyrl.js":[382,106],"./sr.js":[383,107],"./ss":[384,108],"./ss.js":[384,108],"./sv":[385,109],"./sv.js":[385,109],"./sw":[386,110],"./sw.js":[386,110],"./ta":[387,111],"./ta.js":[387,111],"./te":[388,112],"./te.js":[388,112],"./tet":[389,113],"./tet.js":[389,113],"./tg":[390,114],"./tg.js":[390,114],"./th":[391,115],"./th.js":[391,115],"./tk":[392,116],"./tk.js":[392,116],"./tl-ph":[393,117],"./tl-ph.js":[393,117],"./tlh":[394,118],"./tlh.js":[394,118],"./tr":[395,119],"./tr.js":[395,119],"./tzl":[396,120],"./tzl.js":[396,120],"./tzm":[398,122],"./tzm-latn":[397,121],"./tzm-latn.js":[397,121],"./tzm.js":[398,122],"./ug-cn":[399,123],"./ug-cn.js":[399,123],"./uk":[400,124],"./uk.js":[400,124],"./ur":[401,125],"./ur.js":[401,125],"./uz":[403,127],"./uz-latn":[402,126],"./uz-latn.js":[402,126],"./uz.js":[403,127],"./vi":[404,128],"./vi.js":[404,128],"./x-pseudo":[405,129],"./x-pseudo.js":[405,129],"./yo":[406,130],"./yo.js":[406,130],"./zh-cn":[407,131],"./zh-cn.js":[407,131],"./zh-hk":[408,132],"./zh-hk.js":[408,132],"./zh-mo":[409,133],"./zh-mo.js":[409,133],"./zh-tw":[410,134],"./zh-tw.js":[410,134]};function n(e){if(!t.o(r,e))return Promise.resolve().then((function(){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=r[e],n=s[0];return t.e(s[1]).then((function(){return t.t(n,7)}))}n.keys=function(){return Object.keys(r)},n.id=274,e.exports=n},698:function(e,s,t){},699:function(e,s,t){"use strict";t.r(s);var r=t(9),n=t(0),j=t.n(n),i=t(29),c=t.n(i),o=t(60),a=t(38),l=t.n(a),_=t(11);const u=e=>{let{D2App:s,config:t,propsFromParent:r,resizePluginHeight:j,resizePluginWidth:i}=e;const c=Object(n.useRef)(),o=Object(n.useRef)();Object(n.useEffect)((()=>{if(c&&c.current&&j){new ResizeObserver((()=>{j&&j(c.current.offsetHeight+20)})).observe(c.current)}}),[j]);const a=Object(n.useRef)(),l=Object(n.useCallback)((()=>{var e;const s=null===(e=o.current)||void 0===e?void 0:e.scrollWidth;i&&s&&(a.current&&Math.abs(s-a.current)>20&&i(s+20),a.current=s),requestAnimationFrame(l)}),[i]);return Object(n.useEffect)((()=>{i&&requestAnimationFrame(l)}),[l,i]),Object(_.jsx)("div",{ref:c,children:Object(_.jsx)("div",{style:{display:"flex",width:"fitContent"},children:Object(_.jsx)("div",{id:"innerDiv",ref:o,children:Object(_.jsx)(s,{config:t,resizePluginWidth:i,...r})})})})},P=e=>{let{config:s,requiredProps:t,D2App:i}=e;const[c,a]=Object(n.useState)({}),[P,E]=Object(n.useState)([]),[d,A]=Object(n.useState)((()=>()=>{})),[O,b]=Object(n.useState)(!1),[S,h]=Object(n.useState)((()=>()=>{})),[R,p]=Object(n.useState)((()=>()=>{})),[f,C]=Object(n.useState)(null),[m,T]=Object(n.useState)(null),g=Object(n.useCallback)((e=>{const{data:s}=e,{setInErrorState:r,setCommunicationReceived:n,alertsAdd:j,showAlertsInPlugin:i,height:c,setPluginHeight:o,width:l,setPluginWidth:_,onError:u,...P}=s;a(P);const d=null===t||void 0===t?void 0:t.filter((e=>!P[e]));d&&d.length>0&&(console.error(`These props are missing: ${d.join()}`),E(d)),r&&u&&h((()=>e=>{u(e)})),n&&p((()=>()=>{n(!1)})),j&&A((()=>(e,s)=>{j(e,s)})),i&&b(Boolean(i)),!c&&o&&C((()=>e=>o(e))),!l&&_&&T((()=>e=>_(e)))}),[t,h,p,A,b,C,T]);return Object(n.useEffect)((()=>{l.a.send(window.top,"getPropsFromParent").then(g).catch((e=>{console.error(e)}))}),[g]),Object(n.useEffect)((()=>{const e=l.a.on("updated",{window:window.top},(e=>{g(e)}));return()=>e.cancel()}),[g]),Object(n.useEffect)((()=>{if(P.length>0)throw new Error(`These props are missing: ${P.join()}`)}),[P]),Object(_.jsx)(o.a,{parentAlertsAdd:d,showAlertsInPlugin:O,onPluginError:S,clearPluginError:R,...s,children:Object(_.jsx)(j.a.Suspense,{fallback:Object(_.jsx)(r.pb,{translucent:!0,level:r.Qb.alert,children:Object(_.jsx)(r.f,{children:Object(_.jsx)(r.i,{})})}),children:Object(_.jsx)(u,{D2App:i,config:s,propsFromParent:c,resizePluginHeight:f,resizePluginWidth:m})})})};class E extends n.Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,s){this.setState({error:e,errorInfo:s})}render(){const{children:e}=this.props;return this.state.error?Object(_.jsx)("p",{children:"Plugin outermost error boundary"}):e}}const d=j.a.lazy((()=>Promise.all([t.e(138),t.e(135)]).then(t.bind(null,2411)))),A="true"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.47.1",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_VERSION:"100.47.1",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_APP_PLUGIN,O=(b=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.47.1",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_VERSION:"100.47.1",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_APP_REQUIREDPROPS)&&""!==b?b.split(","):[];var b;const S={url:"..",appName:"Capture",appVersion:"100.47.1",apiVersion:parseInt(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.47.1",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_VERSION:"100.47.1",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_API_VERSION),pwaEnabled:"true"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.47.1",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_VERSION:"100.47.1",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_APP_PWA_ENABLED,plugin:A},h={...S,requiredProps:O},R=e=>{let{config:s}=e;return Object(_.jsx)(o.a,{...s,children:Object(_.jsx)(j.a.Suspense,{fallback:Object(_.jsx)(r.pb,{level:r.Qb.alert,children:Object(_.jsx)(r.f,{children:Object(_.jsx)(r.i,{})})}),children:Object(_.jsx)(d,{config:s})})})},p=e=>{let{config:s}=e;return Object(_.jsx)(E,{children:Object(_.jsx)(P,{config:s,requiredProps:O,D2App:d})})};var f=()=>A?Object(_.jsx)(p,{config:h}):Object(_.jsx)(R,{config:S});t(275),t(698);c.a.render(Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(r.j,{}),Object(_.jsx)(f,{})]}),document.getElementById("dhis2-app-root"))}},[[699,137,139]]]);