(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[274],{1006:function(e,t,a){"use strict";a(1007)},1007:function(e,t){},1008:function(e,t){},1009:function(e,t){},1045:function(e,t,a){"use strict";var r=a(1180);a.d(t,"useDefaultColumnConfig",(function(){return r.a}));a(1047)},1046:function(e,t,a){"use strict";t.a={EVENT_DATE:"eventDate",EVENT_STATUS:"status",ASSIGNEE:"assignee"}},1047:function(e,t,a){"use strict";a(1048)},1048:function(e,t){},1049:function(e,t){},1063:function(e,t){},1132:function(e,t){},1174:function(e,t,a){"use strict";a.d(t,"a",(function(){return be}));var r=a(11),n=a(189),o=a.n(n),i=a(310),s=a.n(i),l=a(291),c=a.n(l);class d{static getName(e,t){if(e){const a=e.find(e=>e.code===t);return a&&a.displayName||t}return t}}var p="TEXT",u="LONG_TEXT",m="LETTER",h="PHONE_NUMBER",g="EMAIL",y="BOOLEAN",v="TRUE_ONLY",b="DATE",E="DATETIME",f="TIME",O="NUMBER",S="INTEGER",C="INTEGER_POSITIVE",I="INTEGER_NEGATIVE",w="INTEGER_ZERO_OR_POSITIVE",T="PERCENTAGE",N="URL",_="AGE",A="#",R="A",k="V",j="C",P="#",D=a(12),F=a.n(D);function x(e){if(e&&s()(e)){let t=!1,a=e;for(;!t;){const e=a;a=a.replace(/^'/,"").replace(/'$/,""),a=a.replace(/^"/,"").replace(/"$/,""),e.length===a.length&&(t=!0)}return a}return e}function L(e){const t=(t,a,r)=>{const n=x(a),o=x(r),i=e.rulesDateToMoment(n);return e.rulesDateToMoment(o).diff(i,t)};return{getToday:()=>{const t=F()();return e.momentToRulesDate(t)},daysBetween:(e,a)=>t("days",e,a),weeksBetween:(e,a)=>t("weeks",e,a),monthsBetween:(e,a)=>t("months",e,a),yearsBetween:(e,a)=>t("years",e,a),addDays:(t,a)=>{const r=x(t),n=x(a),o=e.rulesDateToMoment(r).add(n,"days"),i=e.momentToRulesDate(o);return"'".concat(i,"'")}}}var U=a(445);var M=new class{rulesDateToMoment(e){return F()(e,"YYYY-MM-DD")}momentToRulesDate(e){return Object(U.a)(e)}};const V={DATAELEMENT_CURRENT_EVENT:"DATAELEMENT_CURRENT_EVENT",DATAELEMENT_NEWEST_EVENT_PROGRAM_STAGE:"DATAELEMENT_NEWEST_EVENT_PROGRAM_STAGE",DATAELEMENT_NEWEST_EVENT_PROGRAM:"DATAELEMENT_NEWEST_EVENT_PROGRAM",DATAELEMENT_PREVIOUS_EVENT:"DATAELEMENT_PREVIOUS_EVENT"},B={TEI_ATTRIBUTE:"TEI_ATTRIBUTE"},G=Object(r.a)({},V,{},B,{CALCULATED_VALUE:"CALCULATED_VALUE"});class H{static getDataElementValueForVariable(e,t,a,r,n){return(!!e||0===e||!1===e)&&a&&r&&r[t]&&r[t].optionSetId?d.getName(n[r[t].optionSetId].options,e):e}static getTrackedEntityValueForVariable(e,t,a,r,n){return(!!e||0===e||!1===e)&&a&&r&&r[t]&&r[t].optionSetId?d.getName(n[r[t].optionSetId].options,e):e}constructor(e){this.onProcessValue=e,this.mapSourceTypeToGetterFn={[G.DATAELEMENT_CURRENT_EVENT]:this.getVariableForCurrentEvent,[G.DATAELEMENT_NEWEST_EVENT_PROGRAM]:this.getVariableForNewestEventProgram,[G.DATAELEMENT_NEWEST_EVENT_PROGRAM_STAGE]:this.getVariableForNewestEventProgramStage,[G.DATAELEMENT_PREVIOUS_EVENT]:this.getVariableForPreviousEventProgram,[G.TEI_ATTRIBUTE]:this.getVariableForSelectedEntityAttributes,[G.CALCULATED_VALUE]:this.getVariableForCalculatedValue}}getVariables(e,t,a,n,i,s,l,c,d){const u=e.programRulesVariables||[],m={executingEvent:t,eventsContainer:a,dataElements:n,trackedEntityAttributes:i,selectedEntity:s,selectedEnrollment:l,optionSets:d,selectedOrgUnit:c},h=u.reduce((e,t)=>{let a;const r=t.displayName,s=t.programRuleVariableSourceType,l=this.mapSourceTypeToGetterFn[s];return l?(V[s]?a=this.preCheckDataElementSpecificSourceType(t,n):B[s]&&(a=this.preCheckTrackedEntitySpecificSourceType(t,i)),a?(e[r]=a,e):(a=l.bind(this)(t,m),a||V[s]&&(a=this.postGetVariableForDataElementSpecificSourceType(t,n)),a&&(e[r]=a),e)):(o.a.error("Unknown programRuleVariableSourceType:".concat(t.programRuleVariableSourceType)),a=this.buildVariable("",p,{variablePrefix:A,useNameForOptionSet:t.useNameForOptionSet}),e[r]=a,e)},{}),g=Object(r.a)({},h,{},this.getContextVariables(m));return Object(r.a)({},g,{},this.getConstantVariables(e.constants))}processValue(e,t){return this.onProcessValue(e,t)}buildVariable(e,t,{variablePrefix:a,allValues:r,variableEventDate:n,useNameForOptionSet:o=!1}){const i=r?r.map(e=>this.onProcessValue(e,t)):null;return{variableValue:this.onProcessValue(e,t),useCodeForOptionSet:!o,variableType:o?p:t,hasValue:!!e||0===e||!1===e,variableEventDate:n,variablePrefix:a,allValues:i}}preCheckDataElementSpecificSourceType(e,t){const a=e.dataElementId;return a&&t&&t[a]?null:(o.a.warn("Variable id:".concat(e.id," name:").concat(e.displayName," contains an invalid dataelement id (id: ").concat(a||"",")")),this.buildVariable("",p,{variablePrefix:A,useNameForOptionSet:e.useNameForOptionSet}))}preCheckTrackedEntitySpecificSourceType(e,t){const a=e.trackedEntityAttributeId;return a&&t&&t[a]?null:(o.a.warn("Variable id:".concat(e.id," name:").concat(e.displayName," contains an invalid trackedEntityAttribute id (id: ").concat(a||"",")")),this.buildVariable("",p,{variablePrefix:R,useNameForOptionSet:e.useNameForOptionSet}))}postGetVariableForDataElementSpecificSourceType(e,t){const a=t[e.dataElementId];return this.buildVariable("",a.valueType,{variablePrefix:A,useNameForOptionSet:e.useNameForOptionSet})}getVariableForCalculatedValue(e){return this.buildVariable("",p,{variablePrefix:P,useNameForOptionSet:e.useNameForOptionSet})}getVariableForSelectedEntityAttributes(e,t){if(!t.selectedEntity)return o.a.warn("Variable id:".concat(e.id," name:").concat(e.displayName," has sourcetype").concat(e.programRuleVariableSourceType,", but no selectedEntity was found")),this.buildVariable("",p,{variablePrefix:R,useNameForOptionSet:e.useNameForOptionSet});const a=e.trackedEntityAttributeId,r=t.trackedEntityAttributes[a],n=t.selectedEntity[a];if(!(!!n||0===n||!1===n))return this.buildVariable("",r.valueType,{variablePrefix:R,useNameForOptionSet:e.useNameForOptionSet});const i=H.getTrackedEntityValueForVariable(n,a,e.useNameForOptionSet,t.trackedEntityAttributes,t.optionSets);return this.buildVariable(i,r.valueType,{variablePrefix:R,useNameForOptionSet:e.useNameForOptionSet})}getVariableForCurrentEvent(e,t){const a=e.dataElementId,r=t.dataElements[a],n=t.executingEvent;if(!n)return null;const o=n&&n[a];if(!o&&0!==o&&!1!==o)return null;const i=H.getDataElementValueForVariable(o,a,e.useNameForOptionSet,t.dataElements,t.optionSets);return this.buildVariable(i,r.valueType,{variablePrefix:A,variableEventDate:n.eventDate,useNameForOptionSet:e.useNameForOptionSet})}getVariableForNewestEventProgramStage(e,t){const a=e.programStageId;if(!a)return o.a.warn("Variable id:".concat(e.id," name:").concat(e.displayName," does not have a programstage defined, despite that the variable has sourcetype").concat(e.programRuleVariableSourceType)),null;const r=t.eventsContainer&&t.eventsContainer.byStage[a];if(!r)return null;const n=e.dataElementId,i=t.dataElements[n],s=r.map(a=>H.getDataElementValueForVariable(a[n],n,e.useNameForOptionSet,t.dataElements,t.optionSets)).filter(e=>!!e||!1===e||0===e),l=[...r].reverse().find(e=>{const t=e[n];return!!t||0===t||!1===t});if(!l)return null;const c=l[n],d=H.getDataElementValueForVariable(c,n,e.useNameForOptionSet,t.dataElements,t.optionSets);return this.buildVariable(d,i.valueType,{variablePrefix:A,variableEventDate:l.eventDate,useNameForOptionSet:e.useNameForOptionSet,allValues:s})}getVariableForNewestEventProgram(e,t){const a=t.eventsContainer&&t.eventsContainer.all;if(!a||0===a.length)return null;const r=e.dataElementId,n=t.dataElements[r],o=a.map(a=>H.getDataElementValueForVariable(a[r],r,e.useNameForOptionSet,t.dataElements,t.optionSets)).filter(e=>!!e||!1===e||0===e),i=[...a].reverse().find(e=>{const t=e[r];return!!t||0===t||!1===t});if(!i)return null;const s=i[r],l=H.getDataElementValueForVariable(s,r,e.useNameForOptionSet,t.dataElements,t.optionSets);return this.buildVariable(l,n.valueType,{variablePrefix:A,variableEventDate:i.eventDate,useNameForOptionSet:e.useNameForOptionSet,allValues:o})}getVariableForPreviousEventProgram(e,t){const a=t.eventsContainer&&t.eventsContainer.all;if(!a||0===a.length)return null;const r=t.executingEvent;if(!r)return null;const n=a.findIndex(e=>e.eventId===r.eventId);if(n-1<0)return null;const o=e.dataElementId,i=t.dataElements[o],s=a.slice(0,n),l=s.map(a=>H.getDataElementValueForVariable(a[o],o,e.useNameForOptionSet,t.dataElements,t.optionSets)).filter(e=>!!e||!1===e||0===e),c=[...s].reverse().find(e=>{const t=e[o];return!!t||0===t||!1===t});if(!c)return null;const d=c[o],p=H.getDataElementValueForVariable(d,o,e.useNameForOptionSet,t.dataElements,t.optionSets);return this.buildVariable(p,i.valueType,{variablePrefix:A,variableEventDate:c.eventDate,useNameForOptionSet:e.useNameForOptionSet,allValues:l})}getContextVariables(e){let t={};return t.current_date=this.buildVariable(H.dateUtils.getToday(),b,{variablePrefix:k}),t=Object(r.a)({},t,{},this.getEventContextVariables(e.executingEvent,e.eventsContainer)),t=Object(r.a)({},t,{},this.getEnrollmentContextVariables(e.selectedEnrollment)),t=Object(r.a)({},t,{},this.getOrganisationContextVariables(e.selectedOrgUnit)),t}getEventContextVariables(e,t){const a={};return e&&(a.event_date=this.buildVariable(e.eventDate,b,{variablePrefix:k}),a.due_date=this.buildVariable(e.dueDate,b,{variablePrefix:k}),a.event_id=this.buildVariable(e.eventId,p,{variablePrefix:k,variableEventDate:e.eventDate})),t&&(a.event_count=this.buildVariable(t.all&&t.all.length||0,S,{variablePrefix:k})),a}getEnrollmentContextVariables(e){const t={};return e&&(t.enrollment_date=this.buildVariable(e.enrollmentDate,b,{variablePrefix:k}),t.enrollment_id=this.buildVariable(e.enrollmentId,p,{variablePrefix:k}),t.enrollment_count=this.buildVariable(1,S,{variablePrefix:k}),t.tei_count=this.buildVariable(1,S,{variablePrefix:k}),t.incident_date=this.buildVariable(e.incidentDate,b,{variablePrefix:k})),t}getOrganisationContextVariables(e){const t={};return t.orgunit_code=this.buildVariable(e.code,p,{variablePrefix:k}),t}getConstantVariables(e){return e?e.reduce((e,t)=>(e[t.id]=this.buildVariable(t.value,S,{variablePrefix:j}),e),{}):{}}}H.dateUtils=L(M);var W=a(319),Y={[p]:"convertText",[u]:"convertLongText",[m]:"convertLetter",[h]:"convertPhoneNumber",[g]:"convertEmail",[y]:"convertBoolean",[v]:"convertTrueOnly",[b]:"convertDate",[E]:"convertDateTime",[f]:"convertTime",[O]:"convertNumber",[S]:"convertInteger",[C]:"convertIntegerPositive",[I]:"convertIntegerNegative",[w]:"convertIntegerZeroOrPositive",[T]:"convertPercentage",[N]:"convertUrl",[_]:"convertAge"};class z{static addQuotesToValueIfString(e){return s()(e)?"'".concat(e,"'"):e}constructor(e){this.converterObject=e,this.processValue=this.processValue.bind(this)}processValue(e,t){s()(e)&&(e=x(e));const a=Y[t];return a?z.addQuotesToValueIfString(this.converterObject[a](e)):(o.a.warn(Object(W.a)(z.errorMessages.CONVERTER_NOT_FOUND)({type:t})),e)}}z.errorMessages={CONVERTER_NOT_FOUND:"converter for type is missing"};const q=(e,t,a)=>{const r=({name:e})=>t.includes(e),n=({evaluatedExpression:t,isUpdated:r},{name:n,dhisFunction:o,parameters:i})=>{const s=new RegExp("".concat(n,"\\( *(([\\d/\\*\\+\\-%. ]+)|( *'[^']*'))*( *, *(([\\d/\\*\\+\\-%. ]+)|'[^']*'))* *\\)"),"g"),l=t.match(s);return Array.isArray(l)&&l.forEach(n=>{const s=n.replace(/(^[^(]+\()|\)$/g,"").trim().match(/(('[^']+')|([^,]+))/g).map(t=>q(e,t,a));if(((e,t)=>{if(e){return(t.length||0)!==e}return!1})(i,s))a&&a("Error: Signature params have not the same dimensions"),t=t.replace(n,"false");else{const e=o(s);t=t.replace(n,e)}r=!0}),{evaluatedExpression:t,isUpdated:r}};let o=!1;try{if(c()(t)&&t.includes("d2:")){let a=!0;for(let o=0;o<10&&a;o++){const{evaluatedExpression:o,isUpdated:i}=Object.values(e).filter(r).reduce(n,{evaluatedExpression:t,isUpdated:!1});t=o,a=i&&-1!==t.indexOf("d2:")}}o=new Function('"use strict";return '.concat(t))()}catch(i){a&&a(i)}return o};var K=q,X="event",J="tei";const Z={male:1,MALE:1,Male:1,ma:1,m:1,M:1,0:1,false:1},Q={0:[2,2.4,2.8,3.2,3.7,4.2,4.8],1:[2.7,3.2,3.6,4.2,4.8,5.5,6.2],2:[3.4,3.9,4.5,5.1,5.8,6.6,7.5],3:[4,4.5,5.2,5.8,6.6,7.5,8.5],4:[4.4,5,5.7,6.4,7.3,8.2,9.3],5:[4.8,5.4,6.1,6.9,7.8,8.8,10],6:[5.1,5.7,6.5,7.3,8.2,9.3,10.6],7:[5.3,6,6.8,7.6,8.6,9.8,11.1],8:[5.6,6.3,7,7.9,9,10.2,11.6],9:[5.8,6.5,7.3,8.2,9.3,10.5,12],10:[5.9,6.7,7.5,8.5,9.6,10.9,12.4],11:[6.1,6.9,7.7,8.7,9.9,11.2,12.8],12:[6.3,7,7.9,8.9,10.1,11.5,13.1],13:[6.4,7.2,8.1,9.2,10.4,11.8,13.5],14:[6.6,7.4,8.3,9.4,10.6,12.1,13.8],15:[6.7,7.6,8.5,9.6,10.9,12.4,14.1],16:[6.9,7.7,8.7,9.8,11.1,12.6,14.5],17:[7,7.9,8.9,10,11.4,12.9,14.8],18:[7.2,8.1,9.1,10.2,11.6,13.2,15.1],19:[7.3,8.2,9.2,10.4,11.8,13.5,15.4],20:[7.5,8.4,9.4,10.6,12.1,13.7,15.7],21:[7.6,8.6,9.6,10.9,12.3,14,16],22:[7.8,8.7,9.8,11.1,12.5,14.3,16.4],23:[7.9,8.9,10,11.3,12.8,14.6,16.7],24:[8.1,9,10.2,11.5,13,14.8,17],25:[8.2,9.2,10.3,11.7,13.3,15.1,17.3],26:[8.4,9.4,10.5,11.9,13.5,15.4,17.7],27:[8.5,9.5,10.7,12.1,13.7,15.7,18],28:[8.6,9.7,10.9,12.3,14,16,18.3],29:[8.8,9.8,11.1,12.5,14.2,16.2,18.7],30:[8.9,10,11.2,12.7,14.4,16.5,19],31:[9,10.1,11.4,12.9,14.7,16.8,19.3],32:[9.1,10.3,11.6,13.1,14.9,17.1,19.6],33:[9.3,10.4,11.7,13.3,15.1,17.3,20],34:[9.4,10.5,11.9,13.5,15.4,17.6,20.3],35:[9.5,10.7,12,13.7,15.6,17.9,20.6],36:[9.6,10.8,12.2,13.9,15.8,18.1,20.9],37:[9.7,10.9,12.4,14,16,18.4,21.3],38:[9.8,11.1,12.5,14.2,16.3,18.7,21.6],39:[9.9,11.2,12.7,14.4,16.5,19,22],40:[10.1,11.3,12.8,14.6,16.7,19.2,22.3],41:[10.2,11.5,13,14.8,16.9,19.5,22.7],42:[10.3,11.6,13.1,15,17.2,19.8,23],43:[10.4,11.7,13.3,15.2,17.4,20.1,23.4],44:[10.5,11.8,13.4,15.3,17.6,20.4,23.7],45:[10.6,12,13.6,15.5,17.8,20.7,24.1],46:[10.7,12.1,13.7,15.7,18.1,20.9,24.5],47:[10.8,12.2,13.9,15.9,18.3,21.2,24.8],48:[10.9,12.3,14,16.1,18.5,21.5,25.2],49:[11,12.4,14.2,16.3,18.8,21.8,25.5],50:[11.1,12.6,14.3,16.4,19,22.1,25.9],51:[11.2,12.7,14.5,16.6,19.2,22.4,26.3],52:[11.3,12.8,14.6,16.8,19.4,22.6,26.6],53:[11.4,12.9,14.8,17,19.7,22.9,27],54:[11.5,13,14.9,17.2,19.9,23.2,27.4],55:[11.6,13.2,15.1,17.3,20.1,23.5,27.7],56:[11.7,13.3,15.2,17.5,20.3,23.8,28.1],57:[11.8,13.4,15.3,17.7,20.6,24.1,28.5],58:[11.9,13.5,15.5,17.9,20.8,24.4,28.8],59:[12,13.6,15.6,18,21,24.6,29.2],60:[12.1,13.7,15.8,18.2,21.2,24.9,29.5]},$={0:[2.1,2.5,2.9,3.3,3.9,4.4,5],1:[2.9,3.4,3.9,4.5,5.1,5.8,6.6],2:[3.8,4.3,4.9,5.6,6.3,7.1,8],3:[4.4,5,5.7,6.4,7.2,8,9],4:[4.9,5.6,6.2,7,7.8,8.7,9.7],5:[5.3,6,6.7,7.5,8.4,9.3,10.4],6:[5.7,6.4,7.1,7.9,8.8,9.8,10.9],7:[5.9,6.7,7.4,8.3,9.2,10.3,11.4],8:[6.2,6.9,7.7,8.6,9.6,10.7,11.9],9:[6.4,7.1,8,8.9,9.9,11,12.3],10:[6.6,7.4,8.2,9.2,10.2,11.4,12.7],11:[6.8,7.6,8.4,9.4,10.5,11.7,13],12:[6.9,7.7,8.6,9.6,10.8,12,13.3],13:[7.1,7.9,8.8,9.9,11,12.3,13.7],14:[7.2,8.1,9,10.1,11.3,12.6,14],15:[7.4,8.3,9.2,10.3,11.5,12.8,14.3],16:[7.5,8.4,9.4,10.5,11.7,13.1,14.6],17:[7.7,8.6,9.6,10.7,12,13.4,14.9],18:[7.8,8.8,9.8,10.9,12.2,13.7,15.3],19:[8,8.9,10,11.1,12.5,13.9,15.6],20:[8.1,9.1,10.1,11.3,12.7,14.2,15.9],21:[8.2,9.2,10.3,11.5,12.9,14.5,16.2],22:[8.4,9.4,10.5,11.8,13.2,14.7,16.5],23:[8.5,9.5,10.7,12,13.4,15,16.8],24:[8.6,9.7,10.8,12.2,13.6,15.3,17.1],25:[8.8,9.8,11,12.4,13.9,15.5,17.5],26:[8.9,10,11.2,12.5,14.1,15.8,17.8],27:[9,10.1,11.3,12.7,14.3,16.1,18.1],28:[9.1,10.2,11.5,12.9,14.5,16.3,18.4],29:[9.2,10.4,11.7,13.1,14.8,16.6,18.7],30:[9.4,10.5,11.8,13.3,15,16.9,19],31:[9.5,10.7,12,13.5,15.2,17.1,19.3],32:[9.6,10.8,12.1,13.7,15.4,17.4,19.6],33:[9.7,10.9,12.3,13.8,15.6,17.6,19.9],34:[9.8,11,12.4,14,15.8,17.8,20.2],35:[9.9,11.2,12.6,14.2,16,18.1,20.4],36:[10,11.3,12.7,14.3,16.2,18.3,20.7],37:[10.1,11.4,12.9,14.5,16.4,18.6,21],38:[10.2,11.5,13,14.7,16.6,18.8,21.3],39:[10.3,11.6,13.1,14.8,16.8,19,21.6],40:[10.4,11.8,13.3,15,17,19.3,21.9],41:[10.5,11.9,13.4,15.2,17.2,19.5,22.1],42:[10.6,12,13.6,15.3,17.4,19.7,22.4],43:[10.7,12.1,13.7,15.5,17.6,20,22.7],44:[10.8,12.2,13.8,15.7,17.8,20.2,23],45:[10.9,12.4,14,15.8,18,20.5,23.3],46:[11,12.5,14.1,16,18.2,20.7,23.6],47:[11.1,12.6,14.3,16.2,18.4,20.9,23.9],48:[11.2,12.7,14.4,16.3,18.6,21.2,24.2],49:[11.3,12.8,14.5,16.5,18.8,21.4,24.5],50:[11.4,12.9,14.7,16.7,19,21.7,24.8],51:[11.5,13.1,14.8,16.8,19.2,21.9,25.1],52:[11.6,13.2,15,17,19.4,22.2,25.4],53:[11.7,13.3,15.1,17.2,19.6,22.4,25.7],54:[11.8,13.4,15.2,17.3,19.8,22.7,26],55:[11.9,13.5,15.4,17.5,20,22.9,26.3],56:[12,13.6,15.5,17.7,20.2,23.2,26.6],57:[12.1,13.7,15.6,17.8,20.4,23.4,26.9],58:[12.2,13.8,15.8,18,20.6,23.7,27.2],59:[12.3,14,15.9,18.2,20.8,23.9,27.6],60:[12.4,14.1,16,18.3,21,24.2,27.9]},ee={45:[1.902,2.066,2.252,2.461,2.698,2.967,3.275],45.5:[1.967,2.138,2.329,2.546,2.791,3.07,3.389],46:[2.033,2.209,2.407,2.631,2.884,3.172,3.502],46.5:[2.098,2.28,2.485,2.716,2.977,3.275,3.616],47:[2.164,2.351,2.562,2.801,3.071,3.378,3.73],47.5:[2.23,2.423,2.641,2.887,3.165,3.482,3.845],48:[2.297,2.497,2.721,2.974,3.261,3.588,3.962],48.5:[2.366,2.571,2.803,3.064,3.359,3.696,4.082],49:[2.437,2.649,2.887,3.156,3.461,3.808,4.205],49.5:[2.511,2.729,2.975,3.252,3.566,3.924,4.334],50:[2.588,2.813,3.066,3.352,3.676,4.045,4.467],50.5:[2.668,2.9,3.161,3.456,3.79,4.171,4.606],51:[2.75,2.99,3.259,3.564,3.908,4.301,4.751],51.5:[2.836,3.084,3.362,3.675,4.031,4.437,4.901],52:[2.925,3.18,3.467,3.791,4.158,4.577,5.056],52.5:[3.017,3.28,3.576,3.91,4.29,4.721,5.216],53:[3.112,3.383,3.688,4.033,4.424,4.87,5.38],53.5:[3.208,3.488,3.803,4.159,4.563,5.022,5.549],54:[3.307,3.596,3.921,4.288,4.704,5.178,5.721],54.5:[3.407,3.705,4.04,4.418,4.847,5.336,5.896],55:[3.508,3.815,4.16,4.55,4.992,5.496,6.073],55.5:[3.611,3.926,4.281,4.683,5.138,5.657,6.251],56:[3.713,4.038,4.403,4.816,5.285,5.818,6.43],56.5:[3.816,4.15,4.526,4.95,5.432,5.98,6.609],57:[3.919,4.262,4.648,5.084,5.579,6.143,6.789],57.5:[4.021,4.373,4.77,5.217,5.725,6.304,6.968],58:[4.124,4.485,4.891,5.351,5.872,6.466,7.146],58.5:[4.226,4.596,5.013,5.483,6.018,6.626,7.324],59:[4.327,4.706,5.133,5.615,6.162,6.786,7.5],59.5:[4.427,4.815,5.252,5.745,6.305,6.944,7.675],60:[4.527,4.923,5.37,5.874,6.447,7.099,7.847],60.5:[4.624,5.03,5.486,6.001,6.586,7.253,8.017],61:[4.721,5.135,5.601,6.127,6.724,7.405,8.185],61.5:[4.817,5.239,5.714,6.251,6.86,7.555,8.351],62:[4.912,5.342,5.826,6.374,6.995,7.703,8.514],62.5:[5.005,5.444,5.937,6.495,7.128,7.849,8.675],63:[5.098,5.544,6.047,6.614,7.259,7.993,8.834],63.5:[5.189,5.644,6.155,6.733,7.388,8.136,8.992],64:[5.28,5.742,6.262,6.85,7.517,8.277,9.148],64.5:[5.37,5.84,6.369,6.966,7.644,8.417,9.302],65:[5.459,5.937,6.474,7.081,7.77,8.555,9.454],65.5:[5.547,6.033,6.578,7.195,7.895,8.692,9.605],66:[5.635,6.128,6.682,7.308,8.018,8.827,9.753],66.5:[5.721,6.221,6.784,7.419,8.139,8.96,9.901],67:[5.807,6.314,6.885,7.529,8.26,9.092,10.046],67.5:[5.892,6.406,6.984,7.638,8.378,9.222,10.189],68:[5.975,6.497,7.083,7.745,8.496,9.351,10.33],68.5:[6.058,6.586,7.18,7.851,8.611,9.478,10.47],69:[6.14,6.675,7.277,7.956,8.726,9.603,10.608],69.5:[6.221,6.763,7.372,8.06,8.84,9.728,10.745],70:[6.302,6.85,7.467,8.163,8.952,9.851,10.88],70.5:[6.382,6.937,7.561,8.265,9.064,9.973,11.014],71:[6.461,7.023,7.654,8.367,9.174,10.094,11.147],71.5:[6.54,7.108,7.747,8.468,9.285,10.215,11.279],72:[6.619,7.193,7.839,8.568,9.394,10.334,11.41],72.5:[6.697,7.278,7.931,8.667,9.502,10.453,11.54],73:[6.774,7.361,8.021,8.766,9.61,10.571,11.669],73.5:[6.851,7.444,8.111,8.864,9.716,10.687,11.797],74:[6.927,7.526,8.2,8.96,9.821,10.801,11.922],74.5:[7.001,7.607,8.287,9.055,9.925,10.915,12.046],75:[7.075,7.687,8.374,9.149,10.027,11.026,12.168],75.5:[7.148,7.766,8.459,9.242,10.128,11.136,12.289],76:[7.221,7.844,8.544,9.334,10.228,11.246,12.408],76.5:[7.293,7.922,8.628,9.425,10.328,11.354,12.527],77:[7.365,7.999,8.712,9.517,10.427,11.463,12.646],77.5:[7.437,8.078,8.797,9.609,10.527,11.572,12.765],78:[7.511,8.157,8.883,9.702,10.628,11.682,12.886],78.5:[7.585,8.237,8.97,9.796,10.731,11.794,13.008],79:[7.66,8.319,9.058,9.892,10.835,11.907,13.132],79.5:[7.737,8.402,9.148,9.989,10.941,12.023,13.26],80:[7.816,8.487,9.24,10.089,11.05,12.142,13.389],80.5:[7.897,8.574,9.335,10.192,11.161,12.264,13.523],81:[7.979,8.663,9.431,10.296,11.276,12.388,13.659],81.5:[8.064,8.755,9.53,10.404,11.393,12.517,13.8],82:[8.15,8.848,9.631,10.514,11.513,12.647,13.943],82.5:[8.238,8.943,9.735,10.626,11.635,12.781,14.09],83:[8.328,9.04,9.84,10.741,11.76,12.918,14.24],83.5:[8.419,9.139,9.947,10.858,11.888,13.058,14.393],84:[8.512,9.24,10.057,10.977,12.017,13.2,14.549],84.5:[8.606,9.342,10.167,11.097,12.149,13.344,14.708],85:[8.702,9.445,10.28,11.22,12.283,13.491,14.869],85.5:[8.798,9.55,10.393,11.344,12.418,13.639,15.033],86:[8.895,9.655,10.508,11.468,12.555,13.789,15.197],86.5:[8.993,9.761,10.623,11.594,12.692,13.94,15.363],87:[9.227,10.015,10.9,11.896,13.024,14.304,15.765],87.5:[9.324,10.121,11.015,12.022,13.161,14.455,15.932],88:[9.421,10.226,11.13,12.148,13.299,14.607,16.099],88.5:[9.518,10.331,11.244,12.273,13.436,14.758,16.266],89:[9.614,10.436,11.358,12.398,13.573,14.909,16.433],89.5:[9.709,10.54,11.472,12.522,13.71,15.059,16.6],90:[9.805,10.644,11.585,12.646,13.846,15.21,16.767],90.5:[9.9,10.747,11.698,12.77,13.983,15.36,16.933],91:[9.994,10.85,11.811,12.894,14.119,15.511,17.1],91.5:[10.089,10.953,11.924,13.018,14.255,15.662,17.267],92:[10.183,11.056,12.037,13.142,14.392,15.813,17.435],92.5:[10.277,11.159,12.149,13.265,14.528,15.964,17.603],93:[10.372,11.262,12.262,13.39,14.665,16.116,17.772],93.5:[10.466,11.366,12.376,13.514,14.803,16.268,17.942],94:[10.561,11.469,12.489,13.639,14.941,16.421,18.112],94.5:[10.656,11.573,12.603,13.765,15.08,16.576,18.284],95:[10.751,11.678,12.718,13.891,15.22,16.731,18.457],95.5:[10.847,11.783,12.833,14.019,15.361,16.887,18.632],96:[10.943,11.888,12.949,14.147,15.502,17.045,18.808],96.5:[11.04,11.994,13.066,14.276,15.646,17.204,18.986],97:[11.137,12.101,13.184,14.406,15.79,17.365,19.166],97.5:[11.236,12.209,13.303,14.538,15.936,17.528,19.349],98:[11.336,12.319,13.424,14.671,16.084,17.693,19.533],98.5:[11.436,12.429,13.546,14.806,16.235,17.861,19.721],99:[11.538,12.542,13.67,14.943,16.387,18.031,19.913],99.5:[11.642,12.655,13.796,15.083,16.542,18.205,20.107],100:[11.747,12.771,13.924,15.225,16.7,18.381,20.305],100.5:[11.854,12.889,14.053,15.369,16.861,18.561,20.507],101:[11.962,13.008,14.186,15.515,17.024,18.743,20.712],101.5:[12.072,13.13,14.32,15.665,17.19,18.93,20.922],102:[12.184,13.253,14.457,15.816,17.36,19.119,21.136],102.5:[12.298,13.379,14.596,15.971,17.532,19.312,21.352],103:[12.414,13.506,14.737,16.128,17.707,19.508,21.574],103.5:[12.531,13.636,14.88,16.287,17.885,19.708,21.799],104:[12.65,13.767,15.026,16.449,18.066,19.911,22.027],104.5:[12.77,13.9,15.173,16.613,18.249,20.117,22.26],105:[12.893,14.035,15.323,16.78,18.436,20.326,22.496],105.5:[13.017,14.173,15.475,16.95,18.626,20.54,22.737],106:[13.143,14.312,15.63,17.122,18.818,20.756,22.982],106.5:[13.271,14.454,15.787,17.297,19.015,20.977,23.231],107:[13.401,14.598,15.947,17.476,19.214,21.202,23.485],107.5:[13.533,14.744,16.11,17.657,19.417,21.43,23.743],108:[13.667,14.892,16.275,17.841,19.623,21.662,24.006],108.5:[13.803,15.043,16.442,18.028,19.833,21.898,24.273],109:[13.942,15.196,16.612,18.217,20.046,22.138,24.544],109.5:[14.081,15.351,16.784,18.41,20.261,22.38,24.819],110:[14.223,15.508,16.959,18.604,20.479,22.626,25.098],110.5:[14.366,15.666,17.135,18.802,20.701,22.876,25.381],111:[14.511,15.827,17.314,19.001,20.924,23.128,25.666],111.5:[14.657,15.989,17.494,19.202,21.151,23.383,25.956],112:[14.804,16.152,17.676,19.406,21.379,23.642,26.249],112.5:[14.953,16.317,17.86,19.612,21.61,23.902,26.545],113:[15.103,16.484,18.045,19.819,21.843,24.165,26.843],113.5:[15.254,16.652,18.232,20.028,22.078,24.43,27.144],114:[15.406,16.82,18.42,20.238,22.315,24.698,27.448],114.5:[15.559,16.99,18.609,20.45,22.553,24.967,27.754],115:[15.712,17.16,18.799,20.663,22.792,25.238,28.061],115.5:[15.866,17.331,18.99,20.877,23.033,25.51,28.371],116:[16.021,17.503,19.181,21.091,23.274,25.783,28.681],116.5:[16.175,17.674,19.373,21.306,23.516,26.057,28.993],117:[16.329,17.846,19.565,21.521,23.759,26.332,29.307],117.5:[16.484,18.018,19.757,21.737,24.002,26.607,29.621],118:[16.639,18.19,19.95,21.953,24.246,26.883,29.935],118.5:[16.794,18.363,20.142,22.169,24.489,27.16,30.25],119:[16.948,18.534,20.334,22.385,24.734,27.437,30.567],119.5:[17.102,18.706,20.527,22.601,24.977,27.714,30.883],120:[17.256,18.878,20.719,22.817,25.222,27.991,31.199]},te={45:[1.877,2.043,2.23,2.441,2.68,2.951,3.261],45.5:[1.942,2.114,2.307,2.524,2.771,3.05,3.37],46:[2.008,2.185,2.384,2.608,2.861,3.149,3.477],46.5:[2.074,2.256,2.461,2.691,2.952,3.248,3.585],47:[2.141,2.328,2.539,2.776,3.043,3.347,3.694],47.5:[2.208,2.401,2.617,2.861,3.136,3.448,3.804],48:[2.277,2.476,2.698,2.948,3.231,3.551,3.916],48.5:[2.349,2.552,2.781,3.038,3.328,3.657,4.031],49:[2.422,2.632,2.867,3.131,3.429,3.766,4.151],49.5:[2.499,2.715,2.956,3.228,3.534,3.881,4.275],50:[2.579,2.801,3.049,3.328,3.642,3.999,4.403],50.5:[2.661,2.889,3.144,3.431,3.754,4.12,4.536],51:[2.746,2.981,3.243,3.538,3.87,4.245,4.672],51.5:[2.834,3.075,3.345,3.648,3.989,4.375,4.813],52:[2.925,3.173,3.451,3.762,4.113,4.509,4.958],52.5:[3.02,3.276,3.561,3.881,4.242,4.649,5.111],53:[3.12,3.383,3.677,4.006,4.377,4.795,5.27],53.5:[3.223,3.494,3.796,4.135,4.517,4.947,5.434],54:[3.33,3.609,3.921,4.269,4.661,5.104,5.605],54.5:[3.44,3.727,4.048,4.407,4.81,5.264,5.779],55:[3.553,3.848,4.178,4.547,4.961,5.428,5.957],55.5:[3.667,3.971,4.31,4.689,5.115,5.595,6.138],56:[3.783,4.095,4.444,4.834,5.271,5.764,6.322],56.5:[3.9,4.221,4.579,4.98,5.429,5.935,6.506],57:[4.017,4.347,4.715,5.126,5.587,6.106,6.692],57.5:[4.135,4.474,4.851,5.272,5.745,6.276,6.877],58:[4.252,4.599,4.986,5.418,5.902,6.447,7.061],58.5:[4.369,4.725,5.121,5.563,6.059,6.616,7.245],59:[4.485,4.849,5.255,5.707,6.214,6.784,7.427],59.5:[4.6,4.973,5.387,5.85,6.368,6.951,7.607],60:[4.713,5.094,5.518,5.991,6.52,7.115,7.785],60.5:[4.824,5.213,5.646,6.128,6.669,7.275,7.959],61:[4.932,5.329,5.771,6.263,6.814,7.433,8.13],61.5:[5.039,5.443,5.893,6.395,6.957,7.587,8.297],62:[5.143,5.555,6.014,6.525,7.097,7.739,8.462],62.5:[5.245,5.665,6.132,6.653,7.235,7.888,8.624],63:[5.346,5.774,6.249,6.779,7.371,8.035,8.784],63.5:[5.445,5.88,6.364,6.903,7.505,8.181,8.942],64:[5.544,5.986,6.478,7.026,7.638,8.325,9.098],64.5:[5.64,6.09,6.59,7.147,7.769,8.467,9.253],65:[5.736,6.193,6.701,7.267,7.899,8.608,9.406],65.5:[5.83,6.295,6.811,7.385,8.028,8.748,9.558],66:[5.924,6.396,6.92,7.503,8.156,8.887,9.71],66.5:[6.017,6.496,7.028,7.621,8.283,9.026,9.861],67:[6.109,6.595,7.135,7.737,8.409,9.163,10.011],67.5:[6.2,6.694,7.242,7.853,8.535,9.3,10.161],68:[6.291,6.791,7.348,7.967,8.66,9.436,10.31],68.5:[6.38,6.888,7.453,8.082,8.784,9.572,10.459],69:[6.47,6.985,7.558,8.196,8.908,9.708,10.607],69.5:[6.559,7.081,7.662,8.309,9.032,9.843,10.756],70:[6.647,7.177,7.766,8.423,9.156,9.979,10.905],70.5:[6.735,7.273,7.87,8.536,9.28,10.114,11.053],71:[6.823,7.368,7.973,8.648,9.402,10.248,11.201],71.5:[6.909,7.462,8.075,8.759,9.524,10.382,11.348],72:[6.995,7.555,8.177,8.87,9.645,10.514,11.493],72.5:[7.08,7.647,8.277,8.979,9.764,10.645,11.637],73:[7.163,7.737,8.375,9.086,9.882,10.774,11.78],73.5:[7.246,7.827,8.473,9.193,9.998,10.902,11.92],74:[7.327,7.915,8.568,9.297,10.113,11.028,12.059],74.5:[7.407,8.002,8.663,9.401,10.226,11.152,12.195],75:[7.486,8.088,8.757,9.503,10.338,11.275,12.33],75.5:[7.565,8.173,8.85,9.604,10.448,11.396,12.464],76:[7.641,8.257,8.94,9.703,10.557,11.515,12.595],76.5:[7.717,8.339,9.03,9.801,10.663,11.632,12.723],77:[7.792,8.42,9.118,9.896,10.768,11.746,12.848],77.5:[7.865,8.499,9.204,9.99,10.87,11.858,12.972],78:[7.938,8.578,9.289,10.083,10.971,11.968,13.092],78.5:[8.01,8.655,9.373,10.174,11.07,12.077,13.211],79:[8.082,8.733,9.457,10.265,11.169,12.184,13.328],79.5:[8.154,8.811,9.541,10.356,11.267,12.291,13.445],80:[8.227,8.89,9.626,10.448,11.367,12.399,13.561],80.5:[8.302,8.97,9.712,10.54,11.467,12.507,13.679],81:[8.379,9.052,9.8,10.635,11.569,12.617,13.798],81.5:[8.457,9.136,9.891,10.732,11.673,12.73,13.92],82:[8.538,9.223,9.984,10.832,11.781,12.845,14.044],82.5:[8.623,9.313,10.08,10.935,11.891,12.964,14.172],83:[8.71,9.406,10.179,11.042,12.005,13.086,14.303],83.5:[8.8,9.503,10.282,11.152,12.123,13.213,14.439],84:[8.894,9.602,10.389,11.265,12.244,13.342,14.578],84.5:[8.99,9.705,10.498,11.382,12.369,13.476,14.721],85:[9.088,9.809,10.61,11.501,12.496,13.612,14.866],85.5:[9.189,9.916,10.723,11.622,12.625,13.75,15.014],86:[9.29,10.024,10.838,11.744,12.756,13.89,15.163],86.5:[9.392,10.133,10.954,11.868,12.888,14.03,15.314],87:[9.637,10.393,11.232,12.164,13.205,14.37,15.677],87.5:[9.738,10.501,11.347,12.287,13.336,14.51,15.828],88:[9.838,10.607,11.46,12.409,13.467,14.65,15.979],88.5:[9.937,10.713,11.573,12.53,13.597,14.79,16.129],89:[10.034,10.817,11.685,12.65,13.725,14.928,16.278],89.5:[10.13,10.92,11.795,12.768,13.853,15.066,16.428],90:[10.226,11.022,11.905,12.886,13.98,15.204,16.576],90.5:[10.32,11.123,12.014,13.004,14.107,15.341,16.725],91:[10.414,11.224,12.123,13.121,14.234,15.478,16.874],91.5:[10.507,11.324,12.231,13.238,14.36,15.615,17.024],92:[10.599,11.424,12.338,13.354,14.487,15.753,17.174],92.5:[10.691,11.523,12.445,13.47,14.613,15.891,17.325],93:[10.782,11.622,12.552,13.587,14.74,16.03,17.477],93.5:[10.873,11.721,12.66,13.704,14.868,16.17,17.63],94:[10.964,11.82,12.768,13.822,14.997,16.311,17.786],94.5:[11.056,11.919,12.876,13.94,15.127,16.454,17.943],95:[11.148,12.02,12.986,14.06,15.258,16.598,18.103],95.5:[11.241,12.121,13.096,14.181,15.391,16.745,18.265],96:[11.334,12.223,13.208,14.304,15.526,16.894,18.43],96.5:[11.428,12.326,13.321,14.428,15.663,17.046,18.599],97:[11.524,12.43,13.436,14.555,15.803,17.201,18.771],97.5:[11.62,12.536,13.552,14.683,15.946,17.359,18.948],98:[11.718,12.644,13.671,14.814,16.09,17.52,19.127],98.5:[11.817,12.752,13.791,14.947,16.238,17.684,19.311],99:[11.917,12.863,13.913,15.082,16.388,17.852,19.498],99.5:[12.018,12.974,14.036,15.219,16.54,18.022,19.688],100:[12.12,13.087,14.161,15.358,16.695,18.195,19.883],100.5:[12.224,13.201,14.288,15.498,16.852,18.371,20.081],101:[12.328,13.317,14.416,15.641,17.012,18.55,20.282],101.5:[12.433,13.433,14.545,15.786,17.173,18.731,20.487],102:[12.539,13.551,14.676,15.932,17.337,18.915,20.694],102.5:[12.647,13.67,14.809,16.08,17.503,19.102,20.904],103:[12.755,13.791,14.943,16.23,17.671,19.291,21.118],103.5:[12.865,13.912,15.079,16.381,17.841,19.482,21.334],104:[12.975,14.035,15.215,16.534,18.013,19.675,21.553],104.5:[13.086,14.159,15.353,16.689,18.186,19.871,21.775],105:[13.198,14.283,15.493,16.845,18.362,20.07,22],105.5:[13.312,14.41,15.634,17.004,18.54,20.271,22.227],106:[13.426,14.537,15.777,17.164,18.721,20.475,22.458],106.5:[13.542,14.667,15.921,17.326,18.903,20.68,22.692],107:[13.658,14.797,16.067,17.489,19.088,20.89,22.93],107.5:[13.776,14.928,16.214,17.655,19.274,21.101,23.17],108:[13.895,15.061,16.363,17.823,19.464,21.316,23.415],108.5:[14.015,15.195,16.514,17.992,19.655,21.533,23.662],109:[14.137,15.332,16.667,18.164,19.85,21.754,23.913],109.5:[14.26,15.47,16.822,18.339,20.047,21.978,24.169],110:[14.385,15.609,16.979,18.516,20.247,22.205,24.428],110.5:[14.511,15.751,17.138,18.695,20.45,22.435,24.69],111:[14.639,15.894,17.298,18.876,20.655,22.668,24.955],111.5:[14.768,16.038,17.461,19.059,20.862,22.903,25.224],112:[14.898,16.184,17.624,19.244,21.071,23.141,25.496],112.5:[15.029,16.331,17.79,19.43,21.282,23.381,25.77],113:[15.162,16.479,17.957,19.618,21.495,23.623,26.047],113.5:[15.296,16.629,18.125,19.808,21.71,23.868,26.325],114:[15.429,16.779,18.294,19.999,21.927,24.114,26.607],114.5:[15.565,16.931,18.464,20.191,22.144,24.362,26.891],115:[15.7,17.083,18.635,20.385,22.364,24.612,27.176],115.5:[15.836,17.236,18.807,20.579,22.584,24.863,27.463],116:[15.974,17.389,18.98,20.774,22.805,25.115,27.752],116.5:[16.111,17.543,19.153,20.97,23.028,25.368,28.042],117:[16.248,17.697,19.327,21.167,23.251,25.623,28.334],117.5:[16.385,17.852,19.501,21.364,23.475,25.879,28.627],118:[16.523,18.006,19.676,21.561,23.699,26.135,28.921],118.5:[16.66,18.161,19.85,21.759,23.924,26.392,29.216],119:[16.798,18.316,20.025,21.957,24.15,26.65,29.512],119.5:[16.935,18.47,20.199,22.155,24.375,26.908,29.81],120:[17.072,18.624,20.374,22.353,24.601,27.167,30.107]},ae={0:[43.6,45.4,47.3,49.1,51,52.9,54.7],1:[47.8,49.8,51.7,53.7,55.6,57.6,59.5],2:[51,53,55,57.1,59.1,61.1,63.2],3:[53.5,55.6,57.7,59.8,61.9,64,66.1],4:[55.6,57.8,59.9,62.1,64.3,66.4,68.6],5:[57.4,59.6,61.8,64,66.2,68.5,70.7],6:[58.9,61.2,63.5,65.7,68,70.3,72.5],7:[60.3,62.7,65,67.3,69.6,71.9,74.2],8:[61.7,64,66.4,68.7,71.1,73.5,75.8],9:[62.9,65.3,67.7,70.1,72.6,75,77.4],10:[64.1,66.5,69,71.5,73.9,76.4,78.9],11:[65.2,67.7,70.3,72.8,75.3,77.8,80.3],12:[66.3,68.9,71.4,74,76.6,79.2,81.7],13:[67.3,70,72.6,75.2,77.8,80.5,83.1],14:[68.3,71,73.7,76.4,79.1,81.7,84.4],15:[69.3,72,74.8,77.5,80.2,83,85.7],16:[70.2,73,75.8,78.6,81.4,84.2,87],17:[71.1,74,76.8,79.7,82.5,85.4,88.2],18:[72,74.9,77.8,80.7,83.6,86.5,89.4],19:[72.8,75.8,78.8,81.7,84.7,87.6,90.6],20:[73.7,76.7,79.7,82.7,85.7,88.7,91.7],21:[74.5,77.5,80.6,83.7,86.7,89.8,92.9],22:[75.2,78.4,81.5,84.6,87.7,90.8,94],23:[76,79.2,82.3,85.5,88.7,91.9,95],24:[76.7,80,83.2,86.4,89.6,92.9,96.1],25:[76.8,80,83.3,86.6,89.9,93.1,96.4],26:[77.5,80.8,84.1,87.4,90.8,94.1,97.4],27:[78.1,81.5,84.9,88.3,91.7,95,98.4],28:[78.8,82.2,85.7,89.1,92.5,96,99.4],29:[79.5,82.9,86.4,89.9,93.4,96.9,100.3],30:[80.1,83.6,87.1,90.7,94.2,97.7,101.3],31:[80.7,84.3,87.9,91.4,95,98.6,102.2],32:[81.3,84.9,88.6,92.2,95.8,99.4,103.1],33:[81.9,85.6,89.3,92.9,96.6,100.3,103.9],34:[82.5,86.2,89.9,93.6,97.4,101.1,104.8],35:[83.1,86.8,90.6,94.4,98.1,101.9,105.6],36:[83.6,87.4,91.2,95.1,98.9,102.7,106.5],37:[84.2,88,91.9,95.7,99.6,103.4,107.3],38:[84.7,88.6,92.5,96.4,100.3,104.2,108.1],39:[85.3,89.2,93.1,97.1,101,105,108.9],40:[85.8,89.8,93.8,97.7,101.7,105.7,109.7],41:[86.3,90.4,94.4,98.4,102.4,106.4,110.5],42:[86.8,90.9,95,99,103.1,107.2,111.2],43:[87.4,91.5,95.6,99.7,103.8,107.9,112],44:[87.9,92,96.2,100.3,104.5,108.6,112.7],45:[88.4,92.5,96.7,100.9,105.1,109.3,113.5],46:[88.9,93.1,97.3,101.5,105.8,110,114.2],47:[89.3,93.6,97.9,102.1,106.4,110.7,114.9],48:[89.8,94.1,98.4,102.7,107,111.3,115.7],49:[90.3,94.6,99,103.3,107.7,112,116.4],50:[90.7,95.1,99.5,103.9,108.3,112.7,117.1],51:[91.2,95.6,100.1,104.5,108.9,113.3,117.7],52:[91.7,96.1,100.6,105,109.5,114,118.4],53:[92.1,96.6,101.1,105.6,110.1,114.6,119.1],54:[92.6,97.1,101.6,106.2,110.7,115.2,119.8],55:[93,97.6,102.2,106.7,111.3,115.9,120.4],56:[93.4,98.1,102.7,107.3,111.9,116.5,121.1],57:[93.9,98.5,103.2,107.8,112.5,117.1,121.8],58:[94.3,99,103.7,108.4,113,117.7,122.4],59:[94.7,99.5,104.2,108.9,113.6,118.3,123.1],60:[95.2,99.9,104.7,109.4,114.2,118.9,123.7]},re={0:[44.2,46.1,48,49.9,51.8,53.7,55.6],1:[48.9,50.8,52.8,54.7,56.7,58.6,60.6],2:[52.4,54.4,56.4,58.4,60.4,62.4,64.4],3:[55.3,57.3,59.4,61.4,63.5,65.5,67.6],4:[57.6,59.7,61.8,63.9,66,68,70.1],5:[59.6,61.7,63.8,65.9,68,70.1,72.2],6:[61.2,63.3,65.5,67.6,69.8,71.9,74],7:[62.7,64.8,67,69.2,71.3,73.5,75.7],8:[64,66.2,68.4,70.6,72.8,75,77.2],9:[65.2,67.5,69.7,72,74.2,76.5,78.7],10:[66.4,68.7,71,73.3,75.6,77.9,80.1],11:[67.6,69.9,72.2,74.5,76.9,79.2,81.5],12:[68.6,71,73.4,75.7,78.1,80.5,82.9],13:[69.6,72.1,74.5,76.9,79.3,81.8,84.2],14:[70.6,73.1,75.6,78,80.5,83,85.5],15:[71.6,74.1,76.6,79.1,81.7,84.2,86.7],16:[72.5,75,77.6,80.2,82.8,85.4,88],17:[73.3,76,78.6,81.2,83.9,86.5,89.2],18:[74.2,76.9,79.6,82.3,85,87.7,90.4],19:[75,77.7,80.5,83.2,86,88.8,91.5],20:[75.8,78.6,81.4,84.2,87,89.8,92.6],21:[76.5,79.4,82.3,85.1,88,90.9,93.8],22:[77.2,80.2,83.1,86,89,91.9,94.9],23:[78,81,83.9,86.9,89.9,92.9,95.9],24:[78,81,84.1,87.1,90.2,93.2,96.3],25:[78.6,81.7,84.9,88,91.1,94.2,97.3],26:[79.3,82.5,85.6,88.8,92,95.2,98.3],27:[79.9,83.1,86.4,89.6,92.9,96.1,99.3],28:[80.5,83.8,87.1,90.4,93.7,97,100.3],29:[81.1,84.5,87.8,91.2,94.5,97.9,101.2],30:[81.7,85.1,88.5,91.9,95.3,98.7,102.1],31:[82.3,85.7,89.2,92.7,96.1,99.6,103],32:[82.8,86.4,89.9,93.4,96.9,100.4,103.9],33:[83.4,86.9,90.5,94.1,97.6,101.2,104.8],34:[83.9,87.5,91.1,94.8,98.4,102,105.6],35:[84.4,88.1,91.8,95.4,99.1,102.7,106.4],36:[85,88.7,92.4,96.1,99.8,103.5,107.2],37:[85.5,89.2,93,96.7,100.5,104.2,108],38:[86,89.8,93.6,97.4,101.2,105,108.8],39:[86.5,90.3,94.2,98,101.8,105.7,109.5],40:[87,90.9,94.7,98.6,102.5,106.4,110.3],41:[87.5,91.4,95.3,99.2,103.2,107.1,111],42:[88,91.9,95.9,99.9,103.8,107.8,111.7],43:[88.4,92.4,96.4,100.4,104.5,108.5,112.5],44:[88.9,93,97,101,105.1,109.1,113.2],45:[89.4,93.5,97.5,101.6,105.7,109.8,113.9],46:[89.8,94,98.1,102.2,106.3,110.4,114.6],47:[90.3,94.4,98.6,102.8,106.9,111.1,115.2],48:[90.7,94.9,99.1,103.3,107.5,111.7,115.9],49:[91.2,95.4,99.7,103.9,108.1,112.4,116.6],50:[91.6,95.9,100.2,104.4,108.7,113,117.3],51:[92.1,96.4,100.7,105,109.3,113.6,117.9],52:[92.5,96.9,101.2,105.6,109.9,114.2,118.6],53:[93,97.4,101.7,106.1,110.5,114.9,119.2],54:[93.4,97.8,102.3,106.7,111.1,115.5,119.9],55:[93.9,98.3,102.8,107.2,111.7,116.1,120.6],56:[94.3,98.8,103.3,107.8,112.3,116.7,121.2],57:[94.7,99.3,103.8,108.3,112.8,117.4,121.9],58:[95.2,99.7,104.3,108.9,113.4,118,122.6],59:[95.6,100.2,104.8,109.4,114,118.6,123.2],60:[96.1,100.7,105.3,110,114.6,119.2,123.9]},ne=(e,t,a)=>{const r=a[Number(e)];if(t<r[0])return-3.5;if(t>r[6])return 3.5;const n=((e,t)=>{let a,r;for(let n=0;n<7;n++)if(!(e>=t[n]&&(a=n,e>t[n]))){r=n;break}return{lowerLimitIn:a,higherLimitIn:r}})(t,r),o=n.higherLimitIn,i=n.lowerLimitIn,s=r[o]-r[i],l=r[o]-t;return(o-3-(s>0?l/s:0)).toFixed(2)},oe=(e,t,a)=>({"d2:concatenate":{name:"d2:concatenate",dhisFunction:e=>{let t="'";for(let a=0;a<e.length;a++)t+=e[a];return t+="'",t}},"d2:daysBetween":{name:"d2:daysBetween",parameters:2,dhisFunction:t=>e.daysBetween(t[0],t[1])},"d2:weeksBetween":{name:"d2:weeksBetween",parameters:2,dhisFunction:t=>e.weeksBetween(t[0],t[1])},"d2:monthsBetween":{name:"d2:monthsBetween",parameters:2,dhisFunction:t=>e.monthsBetween(t[0],t[1])},"d2:yearsBetween":{name:"d2:yearsBetween",parameters:2,dhisFunction:t=>e.yearsBetween(t[0],t[1])},"d2:floor":{name:"d2:floor",parameters:1,dhisFunction:e=>Math.floor(e[0])},"d2:modulus":{name:"d2:modulus",parameters:2,dhisFunction:e=>Number(e[0])%Number(e[1])},"d2:addDays":{name:"d2:addDays",parameters:2,dhisFunction:t=>{const a=t[0],r=t[1];return e.addDays(a,r)}},"d2:zing":{name:"d2:zing",parameters:1,dhisFunction:e=>{let t=e[0];return t<0&&(t=0),t}},"d2:oizp":{name:"d2:oizp",parameters:1,dhisFunction:e=>{let t=1;return e[0]<0&&(t=0),t}},"d2:count":{name:"d2:count",parameters:1,dhisFunction:e=>{const t=e[0],r=a[t];let n=0;return r?r.hasValue&&(n=r.allValues?r.allValues.length:1):o.a.warn("could not find variable to count: ".concat(t)),n}},"d2:countIfZeroPos":{name:"d2:countIfZeroPos",parameters:1,dhisFunction:()=>{}},"d2:countIfValue":{name:"d2:countIfValue",parameters:2,dhisFunction:e=>{const r=e[0],n=a[r],i=t.processValue(e[1],n.variableType);let s=0;if(n){if(n.hasValue)if(n.allValues)for(let t=0;t<n.allValues.length;t++)i===n.allValues[t]&&(s+=1);else i===n.variableValue&&(s=1)}else o.a.warn("could not find variable to countifvalue: ".concat(r));return s}},"d2:ceil":{name:"d2:ceil",parameters:1,dhisFunction:e=>Math.ceil(e[0])},"d2:round":{name:"d2:round",parameters:1,dhisFunction:e=>Math.round(e[0])},"d2:hasValue":{name:"d2:hasValue",parameters:1,dhisFunction:e=>{const t=e[0],r=a[t];r||o.a.warn("could not find variable to check if has value: ".concat(t));let n=!1;return r&&r.hasValue&&(n=!0),n}},"d2:lastEventDate":{name:"d2:lastEventDate",parameters:1,dhisFunction:e=>{const r=e[0],n=a[r];let i="''";return n?n.variableEventDate?i=t.processValue(n.variableEventDate,"DATE"):o.a.warn("no last event date found for variable: ".concat(r)):o.a.warn("could not find variable to check last event date: ".concat(r)),i}},"d2:validatePattern":{name:"d2:validatePattern",parameters:2,dhisFunction:e=>{const t=e[0].toString(),a=e[1],r=new RegExp(a,"g"),n=t.match(r);let o=!1;return null!==n&&t===n[0]&&(o=!0),o}},"d2:addControlDigits":{name:"d2:addControlDigits",parameters:1,dhisFunction:e=>{const t=e[0],a=t.split("");let r=0,n=0;if(a&&a.length<10){let e=0;const t=a.length,i=[3,7,6,1,8,9,4,5,2];for(let r=0;r<t;r++)e+=parseInt(a[r],10)*i[r];r=e%11,a.push(r);const s=[5,4,3,2,7,6,5,4,3,2];let l=0;for(let r=0;r<t+1;r++)l+=parseInt(a[r],10)*s[r];n=l%11,10===r&&(o.a.warn("First control digit became 10, replacing with 0"),r=0),10===n&&(o.a.warn("Second control digit became 10, replacing with 0"),n=0)}else o.a.warn("Base number not well formed(".concat(a.length," digits): ").concat(t));return t+r+n}},"d2:checkControlDigits":{name:"d2:checkControlDigits",parameters:1,dhisFunction:e=>(o.a.warn("checkControlDigits not implemented yet"),e[0])},"d2:left":{name:"d2:left",parameters:2,dhisFunction:e=>{const a=String(e[0]),r=a.length<e[1]?a.length:e[1],n=a.substring(0,r);return t.processValue(n,"TEXT")}},"d2:right":{name:"d2:right",parameters:2,dhisFunction:e=>{const a=String(e[0]),r=a.length<e[1]?a.length:e[1],n=a.substring(a.length-r,a.length);return t.processValue(n,"TEXT")}},"d2:substring":{name:"d2:substring",parameters:3,dhisFunction:e=>{const a=String(e[0]),r=a.length<e[1]-1?-1:e[1],n=a.length<e[2]?-1:e[2];if(r<0||n<0)return"''";const o=a.substring(r,n);return t.processValue(o,"TEXT")}},"d2:split":{name:"d2:split",parameters:3,dhisFunction:e=>{const a=String(e[0]).split(e[1]);let r="";return a.length>=e[2]&&(r=a[e[2]]),t.processValue(r,"TEXT")}},"d2:zScoreWFA":{name:"d2:zScoreWFA",parameters:3,dhisFunction:e=>((e,t,a)=>{let r=Q;return 1===Z[a]&&(r=$),ne(Math.round(e),t,r)})(e[0],e[1],e[2])},"d2:zScoreWFH":{name:"d2:zScoreWFH",parameters:3,dhisFunction:e=>((e,t,a)=>{let r=ee;return 1===Z[a]&&(r=te),ne(Math.round(2*e)/2,t,r)})(e[0],e[1],e[2])},"d2:zScoreHFA":{name:"d2:zScoreHFA",parameters:3,dhisFunction:e=>((e,t,a)=>{let r=ae;return 1===Z[a]&&(r=re),ne(Math.round(e),t,r)})(e[0],e[1],e[2])},"d2:length":{name:"d2:length",parameters:1,dhisFunction:e=>String(e[0]).length}});var ie=a(303),se=a(219);var le=new class{convertText(e){return e||""}convertLongText(e){return e||""}convertLetter(e){return e||""}convertPhoneNumber(e){return e||""}convertEmail(e){return e||""}convertBoolean(e){return e||!1===e?e:""}convertTrueOnly(e){return e||!1===e?e:""}convertDate(e){if(!e)return"";const t=Object(se.a)(e);return t.locale("en"),t.format("YYYY-MM-DD")}convertDateTime(e){return e||""}convertTime(e){return e||""}convertNumber(e){return e||0}convertInteger(e){return e||0}convertIntegerPositive(e){return e||0}convertIntegerNegative(e){return e||0}convertIntegerZeroOrPositive(e){return e||0}convertPercentage(e){if(!e)return 0;const t=Object(ie.b)(e);return isNaN(t)?0:t/100}convertUrl(e){return e||""}convertAge(e){return this.convertDate(e)}},ce=a(538);const de={[X]:"dataElementId",[J]:"trackedEntityAttributeId"},pe=e=>e||(0===e?0:"");function ue(e,t){const a={[ce.a.ASSIGN_VALUE]:function(a,r,n,o,i){if(!a[r])return null;const s=(n===X?o[a[r]]:i[a[r]]).valueType,l=function(e,a){let r;if(e||0===e||!1===e){const n=Y[a];r=t[n]?t[n](e):e}else r=e;return r}(e(a.data,s),s);return{type:ce.a.ASSIGN_VALUE,id:a[r],value:l}},[ce.a.HIDE_FIELD]:function(e,t){return e[t]?{type:ce.a.HIDE_FIELD,id:e[t]}:null},[ce.a.SHOW_ERROR]:function(e,t){return e[t]?{type:ce.a.SHOW_ERROR,id:e[t],message:"".concat(e.content," ").concat(pe(e.data))}:{type:ce.a.SHOW_ERROR,id:"general",error:{id:e.id,message:"".concat(e.content," ").concat(pe(e.data))}}},[ce.a.SHOW_WARNING]:function(e,t){return e[t]?{type:ce.a.SHOW_WARNING,id:e[t],message:"".concat(e.content," ").concat(pe(e.data))}:{type:ce.a.SHOW_WARNING,id:"general",warning:{id:e.id,message:"".concat(e.content," ").concat(pe(e.data))}}},[ce.a.SHOW_ERROR_ONCOMPLETE]:function(e,t){return e[t]?{type:ce.a.SHOW_ERROR_ONCOMPLETE,id:e[t],message:"".concat(e.content," ").concat(pe(e.data))}:{type:ce.a.SHOW_ERROR_ONCOMPLETE,id:"general",error:{id:e.id,message:"".concat(e.content," ").concat(pe(e.data))}}},[ce.a.SHOW_WARNING_ONCOMPLETE]:function(e,t){return e[t]?{type:ce.a.SHOW_WARNING_ONCOMPLETE,id:e[t],message:"".concat(e.content," ").concat(pe(e.data))}:{type:ce.a.SHOW_WARNING_ONCOMPLETE,id:"general",warning:{id:e.id,message:"".concat(e.content," ").concat(pe(e.data))}}},[ce.a.HIDE_SECTION]:function(e,t,a){return a===X&&e.programStageSectionId?{type:ce.a.HIDE_SECTION,id:e.programStageSectionId}:null},[ce.a.MAKE_COMPULSORY]:function(e,t){return e[t]?{type:ce.a.MAKE_COMPULSORY,id:e[t]}:null},[ce.a.DISPLAY_TEXT]:function(e){return{type:ce.a.DISPLAY_TEXT,id:e.location,displayText:{id:e.id,message:"".concat(e.content," ").concat(pe(e.data))}}},[ce.a.DISPLAY_KEY_VALUE_PAIR]:function(e){return{type:ce.a.DISPLAY_KEY_VALUE_PAIR,id:e.location,displayKeyValuePair:{id:e.id,key:e.content,value:e.data}}},[ce.a.HIDE_OPTION_GROUP]:function(e,t){return e[t]?{type:ce.a.HIDE_OPTION_GROUP,id:e[t],optionGroupId:e.optionGroupId}:null},[ce.a.HIDE_OPTION]:function(e,t){return e[t]?{type:ce.a.HIDE_OPTION,id:e[t],optionId:e.optionId}:null},[ce.a.SHOW_OPTION_GROUP]:function(e,t){return e[t]?{type:ce.a.SHOW_OPTION_GROUP,id:e[t],optionGroupId:e.optionGroupId}:null}};return function(e,t,r,n){const o=de[t];return e?e.filter(({action:e})=>a[e]).map(e=>a[e.action](e,o,t,r,n)).filter(e=>e):null}}var me=a(238);var he=new class{convertText(e){return e}convertLongText(e){return e}convertLetter(e){return e}convertPhoneNumber(e){return e}convertEmail(e){return e}convertBoolean(e){return e?"true":"false"}convertTrueOnly(){return"true"}convertDate(e){const t=F()(e,"YYYY-MM-DD");return Object(me.b)(t)}convertDateTime(e){const t=F()(e);return{date:Object(me.b)(t),time:t.format("HH:mm")}}convertTime(e){return e}convertNumber(e){return e.toString()}convertInteger(e){return e.toString()}convertIntegerPositive(e){return e.toString()}convertIntegerNegative(e){return e.toString()}convertIntegerZeroOrPositive(e){return e.toString()}convertPercentage(e){return e.toString()}convertUrl(e){return e}convertAge(e){const t=F()(),a=F()(e,"YYYY-MM-DD"),r=t.diff(a,"years");a.add(r,"years");const n=t.diff(a,"months");a.add(n,"months");const o=t.diff(a,"days");return{date:Object(me.b)(F()(e,"YYYY-MM-DD")),years:r.toString(),months:n.toString(),days:o.toString()}}};const ge=(e,t)=>{const a=e=>s()(e)?isNaN(e)?(o.a.warn("rule execution service could not convert ".concat(e," to number")),null):Number(e):e,r={[y]:e=>s()(e)?"true"===e:e,[S]:a,[I]:a,[C]:a,[w]:a,[O]:a,[v]:()=>!0};return e||0===e||!1===e?r[t]?r[t](e):e:null};const ye=(e,t)=>{const a=(e,t)=>{o.a.warn("Expression ".concat(e," contains context variable ").concat(t," \n    - but this variable is not defined."))};if(!1===e.includes("{"))return e;if(["d2:hasValue","d2:lastEventDate","d2:count","d2:countIfZeroPos","d2:countIfValue"].forEach(t=>{const a=new RegExp("".concat(t,"\\( *([A#CV]\\{[\\w -_.]+})( *, *(([\\d/\\*\\+\\-%. ]+)|'[^']*'))* *\\)"),"g"),r=e.match(a);Array.isArray(r)&&r.filter(e=>e.includes(t)).forEach(t=>{const a=t.replace("#{","'").replace("A{","'").replace("C{","'").replace("V{","'").replace("}","'");e=e.replace(t,a)})}),-1!==e.indexOf("{")){const r=e.match(/[A#CV]\{[\w -_.]+}/g);r&&r.forEach(r=>{r=r.replace("#{","").replace("A{","").replace("C{","").replace("V{","").replace("}",""),c()(t[r])?e=e.replace(new RegExp("".concat(t[r].variablePrefix,"\\{").concat(r,"\\}"),"g"),t[r].variableValue):a(e,r)})}if(-1!==e.indexOf("V{")){const r=e.match(/V{\w+.?\w*}/g);r&&r.forEach(r=>{r=r.replace("V{","").replace("}",""),c()(t[r])&&"V"===t[r].variablePrefix?e=e.replace(new RegExp("V{".concat(r,"}"),"g"),t[r].variableValue):a(e,r)})}if(-1!==e.indexOf("A{")){const r=e.match(/A{\w+.?\w*}/g);r&&r.forEach(r=>{r=r.replace("A{","").replace("}",""),c()(t[r])&&"A"===t[r].variablePrefix?e=e.replace(new RegExp("A{".concat(r,"}"),"g"),t[r].variableValue):a(e,r)})}if(-1!==e.indexOf("C{")){const r=e.match(/C{\w+.?\w*}/g);r&&r.forEach(r=>{r=r.replace("C{","").replace("}",""),c()(t[r])&&"C"===t[r].variablePrefix?e=e.replace(new RegExp("C{".concat(r,"}"),"g"),t[r].variableValue):a(e,r)})}return e};function ve(e,t,a,n,i,l){if(!t)return null;return ue(ge,he)(t.sort((e,t)=>e.priority||t.priority?e.priority?t.priority?e.priority-t.priority:-1:1:0).flatMap(t=>{let a=!1;const{condition:n}=t;if(n){const r=ye(n,i);a=K(e,r,e=>o.a.warn("Expression with id rule:".concat(t.id," could not be run. Original condition was: ").concat(t.condition," - Evaluation ended up as:").concat(n," - error message:").concat(e)))}else o.a.warn("Rule id:'".concat(t.id,"'' and name:'").concat(t.name,"' had no condition specified. Please check rule configuration."));let l=[];return a&&(l=t.programRuleActions.map(({data:a,programRuleActionType:n,id:l,location:c,dataElementId:d,trackedEntityAttributeId:p,programStageId:u,programStageSectionId:m,optionGroupId:h,optionId:g,content:y})=>{let v;if(a){const r=ye(a,i);v=x(K(e,r,e=>o.a.warn("Expression with id rule: action:".concat(l," could not be run. Original condition was: ").concat(t.condition," - Evaluation ended up as:").concat(r," - error message:").concat(e))))}return function(e,t,a,n){if(t===ce.a.ASSIGN_VALUE&&e){const t=e.replace("#{","").replace("A{","").replace("}",""),i=n[t];if(i){const{valueType:e}=i;let o=ge(a,e);o&&s()(o)&&(o="'".concat(o,"'")),n[t]=Object(r.a)({},n[t],{variableValue:o,variableType:e,hasValue:!0,variableEventDate:"",variablePrefix:i.variablePrefix||"#",allValues:[o]})}else o.a.warn("Variable ".concat(t," was not defined."))}}(y,n,v,i),{data:v,id:l,location:c,action:n,dataElementId:d,trackedEntityAttributeId:p,programStageId:u,programStageSectionId:m,optionGroupId:h,optionId:g,content:y}})),l}).filter(e=>e),l,a,n)}class be{static variableService(){const e=new z(le);return new H(e.processValue)}static programRuleEffectsForTEI(e,t,a,r,n,o){const{programRules:i}=e,s=be.variableService().getVariables(e,null,null,null,r,a,t,n,o);return ve(oe(be.dateUtils,be.variableService(),s),i,null,r,s,J)}static programRuleEffectsForEvent(e,t,a,r,n){const{allEvents:o,currentEvent:i}=t,{programRules:s,constants:l,programRulesVariables:c}=e,d=be.variableService().getVariables({constants:l,programRulesVariables:c},i,o,a,null,null,null,r,n);return ve(oe(be.dateUtils,be.variableService(),d),s,a,null,d,X)}}be.dateUtils=L(M)},1180:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a(11),n=a(1),o=a(6),i=a.n(o),s=a(187),l=a(1046);const c=e=>{const t=[{id:l.a.EVENT_DATE,visible:!0,type:s.v.DATE,header:e.stageForm.getLabel(l.a.EVENT_DATE)},{id:l.a.EVENT_STATUS,visible:!0,type:s.v.TEXT,header:"Status",options:[{text:i.a.t("Active"),value:"ACTIVE"},{text:i.a.t("Completed"),value:"COMPLETED"}]}],a=[];return e.enableUserAssignment&&a.push({id:l.a.ASSIGNEE,visible:!0,type:"ASSIGNEE",header:"Assigned to",apiName:"assignedUser"}),[...t,...a].map(e=>Object(r.a)({},e,{isMainProperty:!0}))},d=e=>e.stageForm.getElements().map(({id:e,displayInReports:t,type:a,formName:r,optionSet:n})=>({id:e,visible:t,type:a,header:r,options:n&&n.options.map(({text:e,value:t})=>({text:e,value:t})),multiValueFilter:!!n})),p=e=>Object(n.useMemo)(()=>{const{stage:t}=e;return[...c(t),...d(t)]},[e])},187:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return s.a})),a.d(t,"f",(function(){return s.b})),a.d(t,"v",(function(){return s.d})),a.d(t,"e",(function(){return s.c})),a.d(t,"w",(function(){return s.e})),a.d(t,"i",(function(){return l})),a.d(t,"k",(function(){return d.a})),a.d(t,"l",(function(){return c.a})),a.d(t,"G",(function(){return p.a})),a.d(t,"h",(function(){return u.b})),a.d(t,"t",(function(){return u.c})),a.d(t,"g",(function(){return u.a})),a.d(t,"m",(function(){return m})),a.d(t,"n",(function(){return h.a})),a.d(t,"p",(function(){return y.a})),a.d(t,"c",(function(){return g.a})),a.d(t,"o",(function(){return v})),a.d(t,"j",(function(){return b})),a.d(t,"s",(function(){return E.b})),a.d(t,"r",(function(){return E.a})),a.d(t,"q",(function(){return f})),a.d(t,"B",(function(){return O.g})),a.d(t,"z",(function(){return O.e})),a.d(t,"D",(function(){return O.i})),a.d(t,"A",(function(){return O.f})),a.d(t,"F",(function(){return O.k})),a.d(t,"E",(function(){return O.j})),a.d(t,"u",(function(){return O.a})),a.d(t,"y",(function(){return O.d})),a.d(t,"x",(function(){return O.c})),a.d(t,"C",(function(){return O.h})),a.d(t,"H",(function(){return O.l})),a.d(t,"I",(function(){return O.m}));a(889);var r=a(235),n=a.n(r);class o{constructor(e){this.name="",this.id="",e&&n()(e)&&e(this)}get name(){return this._name}set name(e){this._name=e}get id(){return this._id}set id(e){this._id=e}}o.errorMessages={CATEGORY_OPTION_NOT_FOUND:"Category option was not found"};class i{constructor(e){this.name="",this.id="",this.categories=new Map,e&&n()(e)&&e(this)}get name(){return this._name}set name(e){this._name=e}get id(){return this._id}set id(e){this._id=e}get categories(){return this._categories}set categories(e){this._categories=e}}i.errorMessages={CATEGORY_NOT_FOUND:"Category was not found"};var s=a(318);class l{constructor(e){this.color="white",e&&n()(e)&&e(this)}set color(e){this._color=e}get color(){return this._color}set data(e){this._data=e}get data(){return this._data}clone(){return new l(e=>{Object.getOwnPropertyNames(this).forEach(t=>{e[t]=this[t]})})}}var c=a(458),d=a(523),p=(a(651),a(322)),u=a(278);class m{constructor(e){e&&n()(e)&&e(this)}set id(e){this._id=e}get id(){return this._id}set name(e){this._name=e}get name(){return this._name}set access(e){this._access=e}get access(){return this._access}set from(e){this._from=e}get from(){return this._from}set to(e){this._to=e}get to(){return this._to}}var h=a(653),g=a(658),y=a(675);class v{constructor(e){this._minAttributesRequiredToSearch=0,this._unique=!1,e&&n()(e)&&e(this)}set id(e){this._id=e}get id(){return this._id}set minAttributesRequiredToSearch(e){this._minAttributesRequiredToSearch=e}get minAttributesRequiredToSearch(){return this._minAttributesRequiredToSearch}set searchForm(e){this._searchForm=e}get searchForm(){return this._searchForm}set unique(e){this._unique=e}get unique(){return this._unique}}class b{constructor(e){this._minAttributesRequiredToSearch=0,e&&n()(e)&&e(this)}set id(e){this._id=e}get id(){return this._id}set minAttributesRequiredToSearch(e){this._minAttributesRequiredToSearch=e}get minAttributesRequiredToSearch(){return this._minAttributesRequiredToSearch}set searchFoundation(e){this._searchFoundation=e}get searchFoundation(){return this._searchFoundation}set onSearch(e){this._onSearch=e}get onSearch(){return this._onSearch}}var E=a(443);class f{}var O=a(228)},190:function(e,t,a){"use strict";a.d(t,"c",(function(){return r.a})),a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s}));var r=a(319);var n=(...e)=>(t,...a)=>e.reduce((e,t)=>t(e,...a),t);const o=(...e)=>e.map(e=>e.replace(/(^\/)|(\/$)/,"")).join("/");var i=e=>{let t=!1;return{promise:new Promise((a,r)=>{e.then(e=>t?r({isCanceled:!0}):a(e),e=>r(t?{isCanceled:!0}:e))}),cancel:()=>{t=!0}}};function s(e,t){if(!e||0===e.length)return[];if(!t||t<1)return[e];return function(e,t,a){const r=[];for(let n=0,o=0;n<e;n+=1,o+=a)r[n]=t.slice(o,o+a);return r}(Math.ceil(e.length/t),e,t)}},219:function(e,t,a){"use strict";var r=a(274);a.d(t,"a",(function(){return r.a}))},221:function(e,t,a){"use strict";a.d(t,"a",(function(){return r.a})),a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return o}));var r=a(263);var n=new Map;a(459),a(460);var o=new class{set(e){this._systemSettings=e}get(){return this._systemSettings}}},222:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return g}));var r=a(11),n=a(291),o=a.n(n),i=a(279),s=a.n(i),l=a(189),c=a.n(l),d=a(450);const p=e=>(t,a)=>function(e,t,a,r){if(o()(e)&&null!==e||(e=r),a[t.type]){return a[t.type](e,t)}return e}(t,a,e.updaters,e.initValue),u=e=>{const t=(e=>(t,a)=>{c.a.trace("Updater for ".concat(a.type," started in ").concat(e.name,". \n                Starting state is: ").concat(JSON.stringify(t)))})(e),a=(e=>(t,a)=>{c.a.trace("Updater for ".concat(a.type," executed in ").concat(e.name,". \n                New state is: ").concat(JSON.stringify(t)))})(e);return(n,i)=>{const s=(e=>{const t=e.meta&&e.meta.skipLogging&&e.meta.skipLogging.reduce((e,t)=>(e[t]=null,e),{});return Object(r.a)({},e,{payload:Object(r.a)({},e.payload,{},t)})})(i);c.a.trace("reducer ".concat(e.name," starting. Action is: ").concat(JSON.stringify(s)));const l=function(e,t,a,r,n,i){if(o()(e)&&null!==e||(e=r),a[t.type]){n(e,t);const r=a[t.type](e,t);return i(e,t),r}return e}(n,i,e.updaters,e.initValue,t,a);return c.a.trace("reducer ".concat(e.name," finished")),l}};function m(t){let a=(e&&Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_DHIS2_API_VERSION:"36",REACT_APP_DHIS2_APP_NAME:"capture-app",REACT_APP_VERSION:"35.0.0",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"2"})&&"production")===d.a.prod?p(t):u(t);return t.reducerWrappers&&(a=function(e,t){return s()(t)?t.reduceRight((e,t)=>t(e),e):t(e)}(a,t.reducerWrappers)),a}function h(e){return e.reduce((e,t)=>(e[t.name]=m(t),e),{})}function g(e,t,a={},r){return{initValue:a,name:t,updaters:e,reducerWrappers:r}}}).call(this,a(20))},228:function(e,t,a){"use strict";a.d(t,"i",(function(){return r.a})),a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return h})),a.d(t,"k",(function(){return y})),a.d(t,"e",(function(){return f})),a.d(t,"f",(function(){return C})),a.d(t,"j",(function(){return T})),a.d(t,"a",(function(){return P})),a.d(t,"g",(function(){return D.a})),a.d(t,"l",(function(){return F.a})),a.d(t,"m",(function(){return F.b})),a.d(t,"b",(function(){return L})),a.d(t,"h",(function(){return U.b}));a(654);var r=a(655),n=a(189),o=a.n(n),i=a(6),s=a.n(i),l=a(190),c=a(221),d=a(278);const p="Program not found or program not an event program",u="An error has occured. See log for details";function m(e){const t=c.a.get(e);if(!t||!(t instanceof d.b))throw o.a.error(Object(l.c)(p)({programId:e})),Error(s.a.t(u));return t}var h=function(e,t){const a=m(e).stage,r={read:a.stageForm.access.data.read,write:a.stageForm.access.data.write};return t&&r.write&&(r.write=Object.keys(t).every(e=>t[e].writeAccess)),r};const g={PROGRAM_NOT_FOUND:"Program not found",PROGRAM_NOT_FOUND_DISPLAY:s.a.t("Program not found"),NOT_TRACKER_PROGRAM:"Program is not a tracker program",NOT_TRACKER_PROGRAM_DISPLAY:s.a.t("Program is not a tracker program")};function y(e){const t=c.a.get(e);if(!t)throw o.a.error(Object(l.c)(g.PROGRAM_NOT_FOUND)({programId:e})),Error(g.PROGRAM_NOT_FOUND_DISPLAY);if(!(t instanceof d.c))throw o.a.error(Object(l.c)(g.NOT_TRACKER_PROGRAM)({programId:e})),Error(g.NOT_TRACKER_PROGRAM_DISPLAY);return t}const v="Program not found",b="Stage not found",E="An error has occured. See log for details";function f(e){const t=e.eventId,a=c.a.get(e.programId);if(!a)return o.a.error(Object(l.c)(v)({eventId:t,event:e})),{error:s.a.t(E),stage:null,program:null};const r=a.getStage(e.programStageId);return r?{stage:r,program:a,error:null}:(o.a.error(Object(l.c)(b)({eventId:t,event:e})),{error:s.a.t(E),stage:null,program:null})}a(656);const O="Program not found",S="An error has occured. See log for details";function C(e){const t=c.a.get(e);if(!t)throw o.a.error(Object(l.c)(O)({programId:e})),Error(s.a.t(S));return t}const I="Tracked entity type not found",w="An error has occured. See log for details";function T(e){const t=c.c.get(e);if(!t)throw o.a.error(Object(l.c)(I)({trackedEntityTypeId:e})),Error(s.a.t(w));return t}var N=a(11),_=a(279),A=a.n(_),R=a(461),k=a.n(R);const j="Values can not be converted, data is neither an array or an object";function P(e,t,a){if(e){const r=function(e){return e.toHashMap("id")}(t);if(A()(e))return function(e,t,a){return e.map(e=>this.convertObjectValues(e,t,a))}(e,r,a);if(k()(e))return function(e,t,a){return Object.keys(e).reduce((r,n)=>{const o=t[n],i=e[n],s=o?o.convertValue(i,a):i;return Object(N.a)({},r,{[n]:s})},{})}(e,r,a);o.a.error(Object(l.c)(j)({values:e}))}return e}var D=a(525),F=a(444),x=a(443);const L=e=>{const t=Object(D.a)(e);return t instanceof d.c||t instanceof x.b?[...t.attributes.values()]:[]};var U=a(657)},238:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));var r=a(303),n=a(221);function o(e){const t=n.b.get().dateFormat;return Object(r.a)(e,t)}var i=a(219);function s(e){const t=n.b.get().dateFormat;return Object(i.a)(e).format(t)}function l(e){const t=n.b.get().dateFormat;return e.format(t)}},240:function(e,t,a){e.exports={booleanLabel:"buildField_booleanLabel__3fNE_",trueOnlyLabel:"buildField_trueOnlyLabel__CIMWM",textLabel:"buildField_textLabel__3aPle",ageLabel:"buildField_ageLabel__3Q2kr",coordinateLabel:"buildField_coordinateLabel__3bHhw",polygonLabel:"buildField_polygonLabel__HYWvC",dateLabel:"buildField_dateLabel__2HhLU",dateTimeLabel:"buildField_dateTimeLabel__2z1i3",imageLabel:"buildField_imageLabel__2j2Dk",fileLabel:"buildField_fileLabel__14UrN",orgUnitLabel:"buildField_orgUnitLabel__3PIKG",optionSetBoxesLabel:"buildField_optionSetBoxesLabel__2KqSY"}},263:function(e,t,a){"use strict";const r=new Map;t.a=r},274:function(e,t,a){"use strict";var r=a(12),n=a.n(r);t.a=n.a},278:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return m}));var r=a(235),n=a.n(r);let o;o=Symbol.iterator;class i{constructor(e){this.programRules=[],this.programRuleVariables=[],this.organisationUnits={},this._stages=new Map,e&&n()(e)&&e(this)}*[o](){for(const e of this._stages.values())yield e}set id(e){this._id=e}get id(){return this._id}set access(e){this._access=e}get access(){return this._access}set name(e){this._name=e}get name(){return this._name}set shortName(e){this._shortName=e}get shortName(){return this._shortName}set organisationUnits(e){this._organisationUnits=e}get organisationUnits(){return this._organisationUnits}set categoryCombination(e){this._categoryCombination=e}get categoryCombination(){return this._categoryCombination}set programRules(e){this._programRules=e}get programRules(){return this._programRules}set programRuleVariables(e){this._programRuleVariables=e}get programRuleVariables(){return this._programRuleVariables}set icon(e){this._icon=e}get icon(){return this._icon}get stages(){return this._stages}addStage(e){this.stages.set(e.id,e)}getStage(e){return this.stages.get(e)}addProgramRuleVariables(e){this.programRuleVariables=[...this.programRuleVariables,...e]}addProgramRules(e){this.programRules=[...this.programRules,...e]}}i.errorMessages={STAGE_NOT_FOUND:"Stage was not found",STAGE_INDEX_NOT_FOUND:"No stage found on index"};a(652);class s extends i{constructor(e){super(),e&&n()(e)&&e(this)}set stage(e){this._stages.set(s.EVENT_PROGRAM_STAGE_KEY,e)}get stage(){return this._stages.get(s.EVENT_PROGRAM_STAGE_KEY)}getStage(){return this._stages.get(s.EVENT_PROGRAM_STAGE_KEY)}}s.EVENT_PROGRAM_STAGE_KEY="EventProgramStage";class l extends i{constructor(e){super(),this._attributes=[],e&&n()(e)&&e(this)}get searchGroups(){return this._searchGroups}set searchGroups(e){this._searchGroups=e}get trackedEntityType(){return this._trackedEntityType}set trackedEntityType(e){this._trackedEntityType=e}get enrollment(){return this._enrollment}set enrollment(e){this._enrollment=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}}const c="incidentDate",d="enrollmentDate",p="Incident date",u="Enrollment date";class m{constructor(e){this._labels={[c]:p,[d]:u},this._optionFlags={allowFutureEnrollmentDate:!1,allowFutureIncidentDate:!1,showIncidentDate:!0},e&&n()(e)&&e(this)}set enrollmentForm(e){this._enrollmentForm=e}get enrollmentForm(){return this._enrollmentForm}set incidentDateLabel(e){this._labels[c]=e}get incidentDateLabel(){return this._labels[c]}set enrollmentDateLabel(e){this._labels[d]=e}get enrollmentDateLabel(){return this._labels[d]}set allowFutureEnrollmentDate(e){this._optionFlags.allowFutureEnrollmentDate=e}get allowFutureEnrollmentDate(){return this._optionFlags.allowFutureEnrollmentDate}set allowFutureIncidentDate(e){this._optionFlags.allowFutureIncidentDate=e}get allowFutureIncidentDate(){return this._optionFlags.allowFutureIncidentDate}set showIncidentDate(e){this._optionFlags.showIncidentDate=e}get showIncidentDate(){return this._optionFlags.showIncidentDate}set inputSearchGroups(e){this._inputSearchGroups=e}get inputSearchGroups(){return this._inputSearchGroups}set trackedEntityType(e){this._trackedEntityType=e}get trackedEntityType(){return this._trackedEntityType}}},303:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var r=a(274);const n=e=>({momentDate:e,isValid:!!e&&e.isValid()});function o(e,t,a){const o=t.match(a),i=o&&o[0],s=e.replace(a,i),l=t.replace(a,i),c=Object(r.a)(s,l,!0);return c.isValid()?n(c):function(e,t,a){const o=e.split(a),i=t.split(a);if(o.length===i.length){const t=i.map((e,t)=>{let a="";const r=o[t];if(e&&r){const t=e.charAt(0);"M"===t?1===r.length?a="M":2===r.length&&(a="MM"):"D"===t?1===r.length?a="D":2===r.length&&(a="DD"):"Y"===t&&(2===r.length?a="YY":4===r.length&&(a="YYYY"))}return a||e}).join(a),s=Object(r.a)(e,t,!0);return n(s)}return n(null)}(s,l,i)}function i(e,t){const a=/[.,\-_/\\]/g;return a.test(e)&&a.test(t)?o(e,t,a):function(e,t,a){const o=e.replace(a,""),i=t.replace(a,""),s=Object(r.a)(o,i,!0);return s.isValid()?n(s):n(null)}(e,t,a)}function s(e){return e=(e=(e=e.replace(/[ ]/g,"")).replace(",",".")).replace(/^[+]$/,""),Number(e)}var l=a(219);function c(e){const t=Object(l.a)(e,["HH:mm","H:mm","HH.mm","H.mm"],!0);return{isValid:t.isValid(),momentTime:t}}},318:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return p})),a.d(t,"c",(function(){return g})),a.d(t,"e",(function(){return h}));var r=a(189),n=a.n(r),o=a(235),i=a.n(o),s=a(279),l=a.n(s),c=a(190),d=a(458);const p={TEXT:"TEXT",LONG_TEXT:"LONG_TEXT",NUMBER:"NUMBER",NUMBER_RANGE:"NUMBER_RANGE",INTEGER:"INTEGER",INTEGER_RANGE:"INTEGER_RANGE",INTEGER_POSITIVE:"INTEGER_POSITIVE",INTEGER_POSITIVE_RANGE:"INTEGER_POSITIVE_RANGE",INTEGER_NEGATIVE:"INTEGER_NEGATIVE",INTEGER_NEGATIVE_RANGE:"INTEGER_NEGATIVE_RANGE",INTEGER_ZERO_OR_POSITIVE:"INTEGER_ZERO_OR_POSITIVE",INTEGER_ZERO_OR_POSITIVE_RANGE:"INTEGER_ZERO_OR_POSITIVE_RANGE",PERCENTAGE:"PERCENTAGE",DATE:"DATE",DATE_RANGE:"DATE_RANGE",DATETIME:"DATETIME",DATETIME_RANGE:"DATETIME_RANGE",TIME:"TIME",TIME_RANGE:"TIME_RANGE",TRUE_ONLY:"TRUE_ONLY",BOOLEAN:"BOOLEAN",PHONE_NUMBER:"PHONE_NUMBER",EMAIL:"EMAIL",FILE_RESOURCE:"FILE_RESOURCE",URL:"URL",ORGANISATION_UNIT:"ORGANISATION_UNIT",IMAGE:"IMAGE",AGE:"AGE",COORDINATE:"COORDINATE",POLYGON:"POLYGON",USERNAME:"USERNAME",ASSIGNEE:"ASSIGNEE",UNKNOWN:"UNKNOWN"};class u{constructor(e){this._displayInReports=!0,this._displayInForms=!0,this.disabled=!1,this.compulsory=!1,e&&i()(e)&&e(this)}set id(e){this._id=e}get id(){return this._id}set name(e){this._name=e}get name(){return this._name}set shortName(e){this._shortName=e}get shortName(){return this._shortName}set formName(e){this._formName=e}get formName(){return this._formName}set displayInForms(e){this._displayInForms=null==e||e}set displayInReports(e){this._displayInReports=null==e||e}get displayInReports(){return this._displayInReports}set disabled(e){this._disabled=!!e}get disabled(){return this._disabled}set compulsory(e){this._compulsory=!!e}get compulsory(){return this._compulsory}set description(e){this._description=e}get description(){return this._description}set type(e){p[e]?this._type=e:(n.a.warn(Object(c.c)(u.errorMessages.TYPE_NOT_FOUND)({dataElement:this,type:e})),this._type=p.UNKNOWN)}get type(){return this._type}set optionSet(e){this._optionSet=e}get optionSet(){return this._optionSet}set icon(e){this._icon=e}get icon(){return this._icon}set unique(e){this._unique=e}get unique(){return this._unique}*getPropertyNames(){const e=["getPropertyNames","constructor","copyPropertiesTo","getConvertedOptionSet","convertValue"];for(const t of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))e.includes(t)||(yield t)}copyPropertiesTo(e){for(const t of this.getPropertyNames())e[t]=this[t];return e}getConvertedOptionSet(e){if(this.optionSet){const t=this.optionSet.options.map(e=>e.clone()),a=new d.a(this.optionSet.id,t,null,this,e);return a.inputType=this.optionSet.inputType,a.viewType=this.optionSet.viewType,a.emptyText=this.optionSet.emptyText,a}return null}convertValue(e,t){return l()(e)?e.map(e=>t(e,this.type,this)):t(e,this.type,this)}}u.errorMessages={TYPE_NOT_FOUND:"type not supported"};class m extends u{constructor(e){super(),this._allowFutureDate=!0,e&&e(this)}set allowFutureDate(e){this._allowFutureDate=!!e}get allowFutureDate(){return this._allowFutureDate}}var h={ENTIRE_SYSTEM:"entireSystem",ORGANISATION_UNIT:"organisationUnit"};class g{constructor(e){this._scope=h.ENTIRE_SYSTEM,this._generatable=!1,e&&e(this)}set generatable(e){this._generatable=e}get generatable(){return this._generatable}set scope(e){this._scope=e}get scope(){return this._scope}set onValidate(e){this._onValidate=e}get onValidate(){return this._onValidate}}},319:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(11),n=e=>t=>Object(r.a)({},t,{message:e})},322:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o}));const r={DROPDOWN:"dropdown",VERTICAL_RADIOBUTTONS:"verticalRadiobuttons",HORIZONTAL_RADIOBUTTONS:"horizontalRadiobuttons"},n=Object.keys(r).map(e=>r[e]),o={ICON:"ICON",ICON_WITH_COLOR:"ICON_WITH_COLOR"}},352:function(e,t,a){e.exports={table:"table_table__3P3kx",tableRow:"table_tableRow__3iYZv",tableRowBody:"table_tableRowBody__qHmir",tableRowHeader:"table_tableRowHeader__3tOrA",tableRowFooter:"table_tableRowFooter__88Shd",tableCell:"table_tableCell__1fVa-",tableCellBody:"table_tableCellBody__2Ve4k",tableCellHeader:"table_tableCellHeader__3PBLx",tableCellFooter:"table_tableCellFooter__uI_UN",pagination:"table_pagination__W6Hyk",paginationRowsPerPageElementContainer:"table_paginationRowsPerPageElementContainer__12ftp",paginationRowsPerPageElement:"table_paginationRowsPerPageElement__1DCaW",paginationDisplayRowsContainer:"table_paginationDisplayRowsContainer__1H_CQ",sortLabelContainer:"table_sortLabelContainer__21prI",sortLabelChildren:"table_sortLabelChildren__2USU-",sortLabelChildrenEnabled:"table_sortLabelChildrenEnabled__1-z2Z",sortLabelChildrenFirst:"table_sortLabelChildrenFirst__16Yfl",sortLabelChildrenLast:"table_sortLabelChildrenLast__1PXZT",sortLabelRight:"table_sortLabelRight__11o1k",sortLabelIcon:"table_sortLabelIcon__1kMPy"}},443:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i}));var r=a(235),n=a.n(r);var o=class{constructor(e){this._attributes=[],e&&n()(e)&&e(this)}set id(e){this._id=e}get id(){return this._id}set access(e){this._access=e}get access(){return this._access}set name(e){this._name=e}get name(){return this._name}set teiRegistration(e){this._teiRegistration=e}get teiRegistration(){return this._teiRegistration}set searchGroups(e){this._searchGroups=e}get searchGroups(){return this._searchGroups}set attributes(e){this._attributes=e}get attributes(){return this._attributes}};class i{constructor(e){e&&n()(e)&&e(this)}set form(e){this._form=e}get form(){return this._form}set inputSearchGroups(e){this._inputSearchGroups=e}get inputSearchGroups(){return this._inputSearchGroups}set trackedEntityType(e){this._trackedEntityType=e}get trackedEntityType(){return this._trackedEntityType}}},444:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));const r={EVENT_PROGRAM:"EVENT_PROGRAM",TRACKER_PROGRAM:"TRACKER_PROGRAM"};var n=a(11);const o=Object(n.a)({},r,{TRACKED_ENTITY_TYPE:"TRACKED_ENTITY_TYPE"})},445:function(e,t,a){"use strict";function r(e,t="YYYY-MM-DD"){return e.clone().locale("en").format(t)}a.d(t,"a",(function(){return r}))},450:function(e,t,a){"use strict";t.a={prod:"production",dev:"development",test:"test",devDebug:"dev-debug"}},458:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(189),n=a.n(r),o=a(279),i=a.n(o),s=a(190),l=a(322);class c{constructor(e,t,a,r,n){this._options=t?t.reduce((e,t)=>(t.value||!1===t.value||0===t.value?(t.value=n&&r?n(t.value,r.type,r):t.value,e.push(t)):this._emptyText=t.text,e),[]):[],this._optionGroups=a||new Map,this._id=e,this._dataElement=r,this._inputType=l.a.DROPDOWN}set id(e){this._id=e}get id(){return this._id}set inputType(e){e&&(l.b.includes(e)?this._inputType=e:n.a.warn(Object(s.c)(c.errorMessages.UNSUPPORTED_INPUTTYPE)({optionSet:this,inputType:e})))}get inputType(){return this._inputType}set viewType(e){e&&(l.c[e]?this._viewType=e:n.a.warn(Object(s.c)(c.errorMessages.UNSUPPORTED_VIEWTYPE)({optionSet:this,viewType:e})))}get viewType(){return this._viewType}get emptyText(){return this._emptyText}set emptyText(e){this._emptyText=e}get options(){return this._options}get optionGroups(){return this._optionGroups}set optionGroups(e){this._optionGroups=e}get dataElement(){return this._dataElement}addOption(e){e.value||!1===e.value||0===e.value?this._options.push(e):this._emptyText=e.text}getOptionThrowIfNotFound(e){const t=this.options.find(t=>t.value===e);if(!t)throw new Error(Object(s.c)(c.errorMessages.OPTION_NOT_FOUND)({OptionSet:this,value:e}));return t}getOption(e){const t=this.options.find(t=>t.value===e);return t||n.a.warn(Object(s.c)(c.errorMessages.OPTION_NOT_FOUND)({OptionSet:this,value:e})),t}getOptionsThrowIfNotFound(e){return e.map(e=>{const t=this.options.find(t=>t.value===e);if(!t)throw new Error(Object(s.c)(c.errorMessages.OPTION_NOT_FOUND)({OptionSet:this,value:e}));return t})}getOptions(e){return e.reduce((e,t)=>{const a=this.options.find(e=>e.value===t);return a?e.push(a):n.a.warn(Object(s.c)(c.errorMessages.OPTION_NOT_FOUND)({OptionSet:this,value:t})),e},[])}getOptionText(e){const t=this.getOption(e);return t&&t.text}getOptionsText(e){return this.getOptions(e).map(e=>e.text)}getOptionsTextAsString(e){return this.getOptionsText(e).toString()}resolveTextsAsString(e){return i()(e)?this.getOptionsTextAsString(e):this.getOptionText(e)}}c.errorMessages={OPTION_NOT_FOUND:"Option not found",UNSUPPORTED_VIEWTYPE:"Tried to set an unsupported viewType",UNSUPPORTED_INPUTTYPE:"Tried to set an unsuported inputType"}},459:function(e,t,a){"use strict";t.a=new class{constructor(){this._optionSets={}}set(e){e.forEach((e,t)=>{this._optionSets[t]=e})}get(){return this._optionSets}}},460:function(e,t,a){"use strict";t.a=new class{set(e){this._constants=e}get(){return this._constants}}},469:function(e,t,a){"use strict";var r=a(1174);a.d(t,"RulesEngine",(function(){return r.a}));var n=a(538);a.d(t,"effectActions",(function(){return n.a}));a(935)},523:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(235),n=a.n(r);class o{constructor(e){e&&n()(e)&&e(this)}set id(e){this._id=e}get id(){return this._id}set value(e){this._value=e}get value(){return this._value}set text(e){this._text=e}get text(){return this._text}set description(e){this._description=e}get description(){return this._description}set icon(e){this._icon=e}get icon(){return this._icon}clone(){return new o(e=>{Object.getOwnPropertyNames(this).forEach(t=>{"_icon"===t&&this[t]?e.icon=this.icon.clone():e[t]=this[t]})})}}},524:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}));const r={NONE:"none",ON_UPDATE_AND_INSERT:"onUpdateAndInsert",ON_COMPLETE:"onComplete"},n=Object.keys(r).map(e=>r[e])},525:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(278),n=a(443),o=a(221);function i(e){if(!e)return null;const t=o.a.get(e)||o.c.get(e);return t instanceof r.b||t instanceof r.c||t instanceof n.b?t:null}},538:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r={ASSIGN_VALUE:"ASSIGN",HIDE_FIELD:"HIDEFIELD",SHOW_ERROR:"SHOWERROR",SHOW_WARNING:"SHOWWARNING",SHOW_ERROR_ONCOMPLETE:"ERRORONCOMPLETE",SHOW_WARNING_ONCOMPLETE:"WARNINGONCOMPLETE",HIDE_SECTION:"HIDESECTION",MAKE_COMPULSORY:"SETMANDATORYFIELD",DISPLAY_TEXT:"DISPLAYTEXT",DISPLAY_KEY_VALUE_PAIR:"DISPLAYKEYVALUEPAIR",HIDE_OPTION_GROUP:"HIDEOPTIONGROUP",HIDE_OPTION:"HIDEOPTION",SHOW_OPTION_GROUP:"SHOWOPTIONGROUP"}},6407:function(e,t){Object.defineProperty(Array.prototype,"asyncForEach",{enumerable:!1,value:async function(e,t,a){for(let r=0;r<this.length;r++)await e(this[r],r,this)}})},6408:function(e,t){Object.defineProperty(Array.prototype,"toHashMap",{enumerable:!1,value:function(e){return this.reduce((t,a)=>(t[a[e]]=a,t),{})}})},6409:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"\u0627\u062e\u062a\u0631 \u062a\u0627\u0631\u064a\u062e\u064b\u0627 \u0623\u0648 \u0623\u0643\u062b\u0631 ...","Choose a date...":"\u0627\u062e\u062a\u0631 \u062a\u0627\u0631\u064a\u062e\u0627\u064b","Today":"\u0627\u0644\u064a\u0648\u0645","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"\u0646\u0631\u062c\u0648\u0627 \u0627\u062f\u062e\u0627\u0644 \u0635\u064a\u063a\u0629 \u0635\u062d\u064a\u062d\u0629 \u0644\u0644\u062a\u0627\u0631\u064a\u062e","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"\u0641\u064a","Cancel":"\u0625\u0644\u063a\u0627\u0621","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"\u062d\u0641\u0638 \u0625\u0644\u0649","This is not an event program or the metadata is corrupt. See log for details.":"\u0647\u0630\u0627 \u0644\u064a\u0633 \u0628\u0631\u0646\u0627\u0645\u062c \u062a\u0633\u062c\u064a\u0644 \u062d\u062f\u062b \u0623\u0648 \u0623\u0646 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u0639\u0631\u064a\u0641 \u062a\u0627\u0644\u0641\u0629. \u0627\u0646\u0638\u0631 \u0627\u0644\u0633\u062c\u0644 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644.","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"\u062d\u0641\u0638 \u0648\u0627\u0636\u0627\u0641\u0629 \u062c\u062f\u064a\u062f","Save and exit":"\u062d\u0641\u0638 \u0648\u062e\u0631\u0648\u062c","Finish":"","No write access":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0644\u0627\u062d\u064a\u0629 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0643\u062a\u0627\u0628\u0629","Switch to form view":"\u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0649 \u0627\u0644\u0639\u0631\u0636 \u0643\u0646\u0645\u0648\u0630\u062c","Switch to row view":"\u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0625\u0644\u0649 \u0627\u0644\u0639\u0631\u0636 \u0643\u0635\u0641\u0648\u0641","events added":"\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0623\u062d\u062f\u0627\u062b","No events added":"\u0644\u0645 \u062a\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0623\u062d\u062f\u0627\u062b","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u062d\u062f\u062b \u062c\u062f\u064a\u062f","You don\'t have access to create an event in the current selections":"","Save":"\u062d\u0641\u0638","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u0627\u062e\u0637\u0627\u0621","Feedback":"\u0627\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0631\u0627\u062c\u0639\u0629","Indicators":"\u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062a","Warnings":"\u062a\u062d\u0630\u064a\u0631\u0627\u062a","search group result could not be retrieved":"","Complete":"\u0645\u0643\u062a\u0645\u0644","Warnings found":"\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0625\u0634\u0639\u0627\u0631\u0627\u062a \u062a\u062d\u0630\u064a\u0631\u064a\u0629","Abort":"\u0625\u062d\u0628\u0627\u0637","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"\u0641\u0631\u0632","No events to display":"\u0644\u0627\u064a\u0648\u062c\u062f \u0627\u062d\u062f\u0627\u062b \u0644\u0644\u0639\u0631\u0636","Data for offline list not present":"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u063a\u064a\u0631 \u0627\u0644\u0645\u062a\u0635\u0644\u0629 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629","Close":"\u0625\u063a\u0644\u0627\u0642","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u0625\u0644\u0649","From":"\u0645\u0646","To":"\u0627\u0644\u0649","This week":"","This month":"","This Year":"","Last week":"\u0627\u0644\u0623\u0633\u0628\u0648\u0639 \u0627\u0644\u0645\u0627\u0636\u064a","Last month":"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064a","Last 3 months":"\u0622\u062e\u0631 3 \u0623\u0634\u0647\u0631","Custom range":"\u0646\u0637\u0627\u0642 \u0645\u062e\u0635\u0635","Max":"\u0627\u0644\u0623\u0639\u0644\u0649","Min":"\u0627\u0644\u0623\u062f\u0646\u0649","Contains text":"\u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0646\u0635","Yes":"\u0646\u0639\u0645","mm/dd/yyyy":"mm/dd/yyyy","Years":"\u0627\u0644\u0633\u0646\u0648\u0627\u062a","Months":"\u0627\u0644\u0623\u0634\u0647\u0631","Days":"\u200f\u200f\u0627\u0644\u0623\u064a\u0627\u0645","Uploading file":"\u062a\u062d\u0645\u064a\u0644 \u0645\u0644\u0641","selected":"\u0645\u062d\u062f\u062f","Delete":"\u062d\u0630\u0641","Select file":"\u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0644\u0641","No":"\u0644\u0627","Uploading image":"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0635\u0648\u0631\u0629","Select image":"\u062d\u062f\u062f \u0627\u0644\u0635\u0648\u0631\u0629","Search":"","Clear":"\u0645\u0633\u062d","No results":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c","start typing to search":"","suggestions could not be retrieved":"","No items to display":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0639\u0646\u0627\u0635\u0631 \u0644\u0644\u0639\u0631\u0636","Select columns":"","Columns to show in table":"\u0627\u0644\u0623\u0639\u0645\u062f\u0629 \u0627\u0644\u062a\u064a \u0633\u064a\u062a\u0645 \u0639\u0631\u0636\u0647\u0627 \u0641\u064a \u0627\u0644\u062c\u062f\u0648\u0644","Column":"\u0627\u0644\u0639\u0645\u0648\u062f","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"\u0623\u0643\u0628\u0631 \u0645\u0646 \u0623\u0648 \u064a\u0633\u0627\u0648\u064a","less than or equal to":"\u0623\u0642\u0644 \u0645\u0646 \u0623\u0648 \u064a\u0633\u0627\u0648\u064a","More filters":"\u0639\u0648\u0627\u0645\u0644 \u062a\u0635\u0641\u064a\u0629 \u0623\u0643\u062b\u0631","Rows per page":"\u0639\u062f\u062f \u0627\u0644\u0635\u0641\u0648\u0641 \u0644\u0643\u0644 \u0635\u0641\u062d\u0629","Could not get organisation unit":"\u062a\u0639\u0630\u0631 \u062c\u0644\u0628 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Program doesn\'t exist":"\u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f","Selected program is invalid for selected registering unit":"","New":"\u062c\u062f\u064a\u062f","Find":"\u0628\u062d\u062b","Clear selections":"","Selected registering unit":"\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0645\u062e\u062a\u0627\u0631\u0629","Start Again":"\u0627\u0644\u0628\u062f\u0621 \u0645\u0646 \u062c\u062f\u064a\u062f","Are you sure? All unsaved data will be lost.":"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f \u0633\u064a\u062a\u0645 \u0641\u0642\u062f\u0627\u0646 \u062c\u0645\u064a\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u064a \u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638\u0647\u0627.","Accept":"","Registering Organisation Unit":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Select":"\u062a\u062d\u062f\u064a\u062f","Program":"\u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c","No programs available.":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u0631\u0627\u0645\u062c \u0645\u062a\u0627\u062d\u0629","Show all":"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0643\u0644","Selected program":"","Some programs are being filtered.":"\u0628\u0639\u0636 \u0627\u0644\u0628\u0631\u0627\u0645\u062c \u064a\u062a\u0645 \u062a\u0635\u0641\u064a\u062a\u0647\u0627","Select program":"\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c","Selected":"","Online":"\u0645\u062a\u0635\u0644","Offline":"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644","Syncing":"\u062a\u0632\u0627\u0645\u0646","Add comment":"","You dont have access to write comments":"","Write comment":"\u0627\u0643\u062a\u0628 \u062a\u0639\u0644\u064a\u0642\u0627\u064b","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062d\u062f\u062b. \u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0647 \u0645\u0648\u062c\u0648\u062f\u061f","Event could not be loaded":"\u062a\u0639\u0630\u0631 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062d\u062f\u062b","Organisation unit could not be loaded":"\u062a\u0639\u0630\u0631 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"\u062d\u062f\u062b \u062e\u0637\u0623. \u0627\u0646\u0638\u0631 \u0627\u0644\u0633\u062c\u0644 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"\u062e\u0637\u0623 \u0639\u0646\u062f \u062d\u0641\u0638 \u0627\u0644\u062d\u062f\u062b","Could not save event. See log for details":"\u062a\u0639\u0630\u0631 \u062d\u0641\u0638 \u0627\u0644\u062d\u062f\u062b. \u0627\u0646\u0638\u0631 \u0625\u0644\u0649 \u0627\u0644\u0633\u062c\u0644 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6410:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"\u0627\u062e\u062a\u0631 \u062a\u0627\u0631\u064a\u062e\u064b\u0627 \u0623\u0648 \u0623\u0643\u062b\u0631 ...","Choose a date...":"\u0627\u062e\u062a\u0631 \u062a\u0627\u0631\u064a\u062e\u0627\u064b","Today":"\u0627\u0644\u064a\u0648\u0645","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"\u0646\u0631\u062c\u0648\u0627 \u0627\u062f\u062e\u0627\u0644 \u0635\u064a\u063a\u0629 \u0635\u062d\u064a\u062d\u0629 \u0644\u0644\u062a\u0627\u0631\u064a\u062e","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"\u0641\u064a","Cancel":"\u0625\u0644\u063a\u0627\u0621","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"\u062d\u0641\u0638 \u0625\u0644\u0649","This is not an event program or the metadata is corrupt. See log for details.":"\u0647\u0630\u0627 \u0644\u064a\u0633 \u0628\u0631\u0646\u0627\u0645\u062c \u062a\u0633\u062c\u064a\u0644 \u062d\u062f\u062b \u0623\u0648 \u0623\u0646 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u0639\u0631\u064a\u0641 \u062a\u0627\u0644\u0641\u0629. \u0627\u0646\u0638\u0631 \u0627\u0644\u0633\u062c\u0644 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644.","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"\u062d\u0641\u0638 \u0648\u0627\u0636\u0627\u0641\u0629 \u062c\u062f\u064a\u062f","Save and exit":"\u062d\u0641\u0638 \u0648\u062e\u0631\u0648\u062c","Finish":"","No write access":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0644\u0627\u062d\u064a\u0629 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0643\u062a\u0627\u0628\u0629","Switch to form view":"\u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0649 \u0627\u0644\u0639\u0631\u0636 \u0643\u0646\u0645\u0648\u0630\u062c","Switch to row view":"\u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0625\u0644\u0649 \u0627\u0644\u0639\u0631\u0636 \u0643\u0635\u0641\u0648\u0641","events added":"\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0623\u062d\u062f\u0627\u062b","No events added":"\u0644\u0645 \u062a\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0623\u062d\u062f\u0627\u062b","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u062d\u062f\u062b \u062c\u062f\u064a\u062f","You don\'t have access to create an event in the current selections":"","Save":"\u062d\u0641\u0638","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u0627\u062e\u0637\u0627\u0621","Feedback":"\u0627\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0631\u0627\u062c\u0639\u0629","Indicators":"\u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062a","Warnings":"\u062a\u062d\u0630\u064a\u0631\u0627\u062a","search group result could not be retrieved":"","Complete":"\u0645\u0643\u062a\u0645\u0644","Warnings found":"\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0625\u0634\u0639\u0627\u0631\u0627\u062a \u062a\u062d\u0630\u064a\u0631\u064a\u0629","Abort":"\u0625\u062d\u0628\u0627\u0637","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"\u0641\u0631\u0632","No events to display":"\u0644\u0627\u064a\u0648\u062c\u062f \u0627\u062d\u062f\u0627\u062b \u0644\u0644\u0639\u0631\u0636","Data for offline list not present":"\u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u063a\u064a\u0631 \u0645\u062a\u0635\u0644\u0629 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629","Close":"\u0625\u063a\u0644\u0627\u0642","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u0625\u0644\u0649","From":"\u0645\u0646","To":"\u0627\u0644\u0649","This week":"","This month":"","This Year":"","Last week":"\u0627\u0644\u0623\u0633\u0628\u0648\u0639 \u0627\u0644\u0645\u0627\u0636\u064a","Last month":"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064a","Last 3 months":"\u0622\u062e\u0631 3 \u0623\u0634\u0647\u0631","Custom range":"\u0646\u0637\u0627\u0642 \u0645\u062e\u0635\u0635","Max":"\u0627\u0644\u0623\u0639\u0644\u0649","Min":"\u0627\u0644\u0623\u062f\u0646\u0649","Contains text":"\u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0646\u0635","Yes":"\u0646\u0639\u0645","mm/dd/yyyy":"\u0634\u0647\u0631 / \u064a\u0648\u0645 / \u0633\u0646\u0629","Years":"\u0627\u0644\u0633\u0646\u0648\u0627\u062a","Months":"\u0627\u0644\u0623\u0634\u0647\u0631","Days":"\u200f\u200f\u0627\u0644\u0623\u064a\u0627\u0645","Uploading file":"\u062a\u062d\u0645\u064a\u0644 \u0645\u0644\u0641","selected":"\u0645\u062d\u062f\u062f","Delete":"\u062d\u0630\u0641","Select file":"\u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0644\u0641","No":"\u0644\u0627","Uploading image":"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0635\u0648\u0631\u0629","Select image":"\u062d\u062f\u062f \u0627\u0644\u0635\u0648\u0631\u0629","Search":"","Clear":"\u0645\u0633\u062d","No results":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c","start typing to search":"","suggestions could not be retrieved":"","No items to display":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0639\u0646\u0627\u0635\u0631 \u0644\u0644\u0639\u0631\u0636","Select columns":"","Columns to show in table":"\u0627\u0644\u0623\u0639\u0645\u062f\u0629 \u0627\u0644\u062a\u064a \u0633\u064a\u062a\u0645 \u0639\u0631\u0636\u0647\u0627 \u0641\u064a \u0627\u0644\u062c\u062f\u0648\u0644","Column":"\u0627\u0644\u0639\u0645\u0648\u062f","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"\u0623\u0643\u0628\u0631 \u0645\u0646 \u0623\u0648 \u064a\u0633\u0627\u0648\u064a","less than or equal to":"\u0623\u0642\u0644 \u0645\u0646 \u0623\u0648 \u064a\u0633\u0627\u0648\u064a","More filters":"\u0639\u0648\u0627\u0645\u0644 \u062a\u0635\u0641\u064a\u0629 \u0623\u0643\u062b\u0631","Rows per page":"\u0639\u062f\u062f \u0627\u0644\u0635\u0641\u0648\u0641 \u0644\u0643\u0644 \u0635\u0641\u062d\u0629","Could not get organisation unit":"\u062a\u0639\u0630\u0631 \u062c\u0644\u0628 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Program doesn\'t exist":"\u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f","Selected program is invalid for selected registering unit":"","New":"\u062c\u062f\u064a\u062f","Find":"\u0628\u062d\u062b","Clear selections":"","Selected registering unit":"\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0645\u062e\u062a\u0627\u0631\u0629","Start Again":"\u0627\u0644\u0628\u062f\u0621 \u0645\u0646 \u062c\u062f\u064a\u062f","Are you sure? All unsaved data will be lost.":"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f \u0633\u064a\u062a\u0645 \u0641\u0642\u062f\u0627\u0646 \u062c\u0645\u064a\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u064a \u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638\u0647\u0627.","Accept":"","Registering Organisation Unit":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Select":"\u062a\u062d\u062f\u064a\u062f","Program":"\u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c","No programs available.":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u0631\u0627\u0645\u062c \u0645\u062a\u0627\u062d\u0629","Show all":"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0643\u0644","Selected program":"","Some programs are being filtered.":"\u0628\u0639\u0636 \u0627\u0644\u0628\u0631\u0627\u0645\u062c \u064a\u062a\u0645 \u062a\u0635\u0641\u064a\u062a\u0647\u0627","Select program":"\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c","Selected":"","Online":"\u0645\u062a\u0635\u0644","Offline":"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644","Syncing":"\u062a\u0632\u0627\u0645\u0646","Add comment":"","You dont have access to write comments":"","Write comment":"\u0627\u0643\u062a\u0628 \u062a\u0639\u0644\u064a\u0642\u0627\u064b","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062d\u062f\u062b. \u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0647 \u0645\u0648\u062c\u0648\u062f\u061f","Event could not be loaded":"\u062a\u0639\u0630\u0631 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062d\u062f\u062b","Organisation unit could not be loaded":"\u062a\u0639\u0630\u0631 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"\u062d\u062f\u062b \u062e\u0637\u0623. \u0627\u0646\u0638\u0631 \u0627\u0644\u0633\u062c\u0644 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"\u062e\u0637\u0623 \u0639\u0646\u062f \u062d\u0641\u0638 \u0627\u0644\u062d\u062f\u062b","Could not save event. See log for details":"\u062a\u0639\u0630\u0631 \u062d\u0641\u0638 \u0627\u0644\u062d\u062f\u062b. \u0627\u0646\u0638\u0631 \u0625\u0644\u0649 \u0627\u0644\u0633\u062c\u0644 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6411:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"","You don\'t have access to create an event in the current selections":"","Save":"","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"","Feedback":"","Indicators":"","Warnings":"","search group result could not be retrieved":"","Complete":"","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"","No events to display":"","Data for offline list not present":"","Close":"","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"","From":"","To":"","This week":"","This month":"","This Year":"","Last week":"","Last month":"","Last 3 months":"","Custom range":"","Max":"","Min":"","Contains text":"","Yes":"\u09b9\u09cd\u09af\u09be\u0981","mm/dd/yyyy":"","Years":"","Months":"","Days":"","Uploading file":"","selected":"","Delete":"","Select file":"","No":"\u09a8\u09be","Uploading image":"","Select image":"","Search":"","Clear":"","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"","Find":"","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"","Program":"\u09aa\u09cd\u09b0\u09cb\u0997\u09cd\u09b0\u09be\u09ae","No programs available.":"","Show all":"","Selected program":"","Some programs are being filtered.":"","Select program":"","Selected":"","Online":"","Offline":"","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6412:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"\u0628\u06d5\u0631\u0648\u0627\u0631\u06ce\u06a9 \u06cc\u0627\u0646 \u0632\u06cc\u0627\u062a\u0631 \u0647\u06d5\u06b5\u0628\u0698\u06ce\u0631\u06d5","Choose a date...":"\u0628\u06d5\u0631\u0648\u0627\u0631\u06ce\u06a9 \u0647\u06d5\u06b5\u0628\u0698\u06ce\u0631\u06d5","Today":"\u0626\u06d5\u0645\u0695\u06c6","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"\u062a\u06a9\u0627\u06cc\u06d5 \u0628\u06d5\u0631\u0648\u0627\u0631\u06ce\u06a9\u06cc \u062f\u0631\u0648\u0648\u0633\u062a \u0628\u0646\u0648\u0648\u0633\u06d5","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"\u0644\u06d5","Cancel":"\u0644\u0627\u0628\u0631\u062f\u0646","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"\u062a\u06c6\u0645\u0627\u0631\u06a9\u0631\u062f\u0646 \u0628\u06c6","This is not an event program or the metadata is corrupt. See log for details.":"\u0626\u06d5\u0645\u06d5 \u067e\u0631\u06c6\u06af\u0631\u0627\u0645\u06cc \u062d\u0627\u0644\u06d5\u062a \u0646\u06cc\u06d5 \u06cc\u0627\u062e\u0648\u062f \u0632\u0627\u0646\u06cc\u0627\u0631\u06cc\u06d5\u06a9\u06d5 \u062a\u06ce\u06a9\u0686\u0648\u0648\u06d5. \u062a\u06a9\u0627\u06cc\u06d5 \u0633\u06d5\u0631\u06cc\u0631\u06cc \u0644\u06c6\u06af \u0641\u0627\u06cc\u0644 \u0628\u06a9\u06d5 \u0628\u06c6 \u0632\u0627\u0646\u06cc\u0627\u0631\u06cc \u0632\u06cc\u0627\u062a\u0631","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"\u062a\u06c6\u0645\u0627\u0631 \u0628\u06a9\u06d5 \u0648 \u062f\u0627\u0646\u06d5\u06cc\u06d5\u06a9\u06cc \u062f\u06cc\u06a9\u06d5 \u0632\u06cc\u0627\u062f \u0628\u06a9\u06d5","Save and exit":"\u062a\u06c6\u0645\u0627\u0631\u06a9\u0631\u062f\u0646 \u0648 \u062f\u06d5\u0631\u0686\u0648\u0648\u0646","Finish":"","No write access":"\u0645\u0627\u0641\u06cc \u0646\u0648\u0633\u06cc\u0646\u062a \u0646\u06cc\u06d5","Switch to form view":"\u06af\u06c6\u0695\u06cc\u0646 \u0628\u06c6 \u067e\u06cc\u0634\u0627\u0646\u062f\u0627\u0646\u06cc \u0641\u06c6\u0631\u0645","Switch to row view":"\u06af\u06c6\u0695\u06cc\u0646 \u0628\u06c6 \u067e\u06cc\u0634\u0627\u0646\u062f\u0627\u0646\u06cc \u0626\u0627\u0633\u06c6\u06cc\u06cc","events added":"\u062d\u0627\u06b5\u06d5\u062a\u06d5\u06a9\u0627\u0646 \u0632\u06cc\u0627\u062f\u06a9\u0631\u0627\u0646","No events added":"\u0647\u06cc\u0686 \u062d\u0627\u06b5\u06d5\u062a\u06ce\u06a9 \u0632\u06cc\u0627\u062f\u0646\u06d5\u06a9\u0631\u0627","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u0631\u0648\u0648\u062f\u0627\u0648\u064a \u0646\u0648\u064a","You don\'t have access to create an event in the current selections":"","Save":"\u062e\u0629\u0632\u0646 \u0643\u0631\u062f\u0646","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u0647\u06d5\u06b5\u06d5\u06a9\u0627\u0646","Feedback":"\u0695\u0627\u0648\u0648\u0628\u06c6\u0686\u0648\u0646","Indicators":"\u0646\u06cc\u0634\u0627\u0646\u062f\u06d5\u0631","Warnings":"\u0626\u0627\u06af\u0627\u062f\u0627\u0631\u06a9\u0631\u062f\u0646\u06d5\u0648\u06d5\u06a9\u0627\u0646","search group result could not be retrieved":"","Complete":"\u062a\u06d5\u0648\u0627\u0648\u0628\u06a9\u06d5","Warnings found":"\u0626\u0627\u06af\u0627\u062f\u0627\u0631\u06a9\u0631\u062f\u0646\u06d5\u0648\u06d5 \u062f\u06c6\u0632\u0631\u0627\u06cc\u06d5\u0648\u06d5","Abort":"\u062f\u06d5\u0631\u0686\u0648\u0648\u0646","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"\u067e\u06c6\u0644\u06cc\u0646\u06a9\u0631\u062f\u0646","No events to display":"\u0647\u06cc\u0686 \u0626\u06cc\u06a4\u06ce\u0646\u062a\u06ce\u06a9 \u0646\u06cc\u06d5 \u0628\u06c6 \u067e\u0634\u0627\u0646\u062f\u0627\u0646","Data for offline list not present":"\u0632\u0627\u0646\u06cc\u0627\u0631\u06cc\u06d5\u06a9\u0627\u0646 \u0628\u06c6 \u0644\u06cc\u0633\u062a\u06cc \u0626\u06c6\u0641\u06b5\u0627\u06cc\u0646 \u0628\u06d5\u0631\u062f\u06d5\u0633\u062a \u0646\u06cc\u06d5","Close":"\u062f\u0627\u062e\u0633\u062a\u0646","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u0628\u06c6 ","From":"\u0644\u06d5","To":"\u0644\u06d5","This week":"","This month":"","This Year":"","Last week":"\u0647\u06d5\u0641\u062a\u06d5\u06cc \u067e\u06ce\u0634\u0648\u0648\u062a\u0631","Last month":"\u0645\u0627\u0646\u06af\u06cc \u0695\u0627\u0628\u0631\u062f\u0648\u0648","Last 3 months":"\u0633\u06ce \u0645\u0627\u0646\u06af \u067e\u06ce\u0634\u0648\u0648\u062a\u0631","Custom range":"\u0645\u06d5\u0648\u062f\u0627\u06cc\u06d5\u06a9\u06cc \u0626\u0627\u0631\u06d5\u0632\u0648\u0648\u0645\u06d5\u0646\u062f\u0627\u0646\u06d5","Max":"\u0632\u06cc\u0627\u062a\u0631\u06cc\u0646","Min":"\u06a9\u06d5\u0645\u062a\u0631\u06cc\u0646","Contains text":"\u0646\u0648\u0648\u0633\u06cc\u0646\u06cc \u062a\u06ce\u062f\u0627\u06cc\u06d5","Yes":"\u06d5\u06b5\u06ce","mm/dd/yyyy":"\u0645\u0627\u0646\u06af/\u0631\u06c6\u0698/\u0633\u0627\u06b5","Years":"\u0633\u0627\u06b5\u06d5\u06a9\u0627\u0646","Months":"\u0645\u0627\u0646\u06af\u06d5\u06a9\u0627\u0646","Days":"\u0631\u06c6\u0698\u06d5\u06a9\u0627\u0646","Uploading file":"\u0633\u06d5\u0631\u062e\u0633\u062a\u0646\u06cc \u0641\u0627\u06cc\u0644","selected":"\u0647\u06d5\u06b5\u0628\u0698\u06ce\u0631\u062f\u0631\u0627","Delete":"\u0633\u0631\u064a\u0646\u0629\u0648\u0629","Select file":"\u0641\u0627\u06cc\u0644 \u0647\u06d5\u06b5\u0628\u0698\u06ce\u0631\u06d5","No":"\u0646\u06d5\u062e\u06ce\u0631","Uploading image":"\u0633\u06d5\u0631\u062e\u0633\u062a\u0646\u06cc \u0648\u06ce\u0646\u06d5","Select image":"\u0648\u06ce\u0646\u06d5 \u0647\u06d5\u06b5\u0628\u0698\u06ce\u0631\u06d5","Search":"","Clear":"\u0628\u0627\u0643","No results":"\u0647\u06cc\u0686 \u0626\u06d5\u0646\u062c\u0627\u0645\u06ce\u06a9 \u0628\u06d5\u0631\u062f\u06d5\u0633\u062a \u0646\u06cc\u06d5","start typing to search":"","suggestions could not be retrieved":"","No items to display":"\u0647\u06cc\u0686 \u0634\u062a\u06ce\u06a9 \u0628\u06d5\u0631\u062f\u06d5\u0633\u062a \u0646\u06cc\u06d5 \u0628\u06c6 \u067e\u06cc\u0634\u0627\u0646\u062f\u0627\u0646","Select columns":"","Columns to show in table":"\u0633\u062a\u0648\u0646\u06d5\u06a9\u0627\u0646\u06cc \u062f\u06d5\u062a\u06d5\u0648\u06ce \u062f\u06d5\u0631\u0628\u06a9\u06d5\u0648\u06ce \u0644\u06d5 \u062e\u0634\u062a\u06d5\u06a9\u06d5","Column":"\u0633\u062a\u0648\u0648\u0646","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"\u06af\u06d5\u0648\u0631\u06d5\u062a\u0631 \u0644\u06d5 \u06cc\u0627\u062e\u0648\u062f \u06cc\u06d5\u06a9\u0633\u0627\u0646 \u0628\u06d5","less than or equal to":"\u0628\u0686\u0648\u0648\u06a9\u062a\u0631 \u0644\u06d5 \u06cc\u0627\u062e\u0648\u062f \u06cc\u06d5\u06a9\u0633\u0627\u0646 \u0628\u06d5","More filters":"\u0641\u0644\u062a\u06d5\u0631\u06cc \u0632\u06cc\u0627\u062a\u0631","Rows per page":"\u0632\u0627\u0646\u06cc\u0627\u0631\u06d5\u06a9\u0627\u0646 \u0628\u06c6 \u0647\u06d5\u0631 \u06b5\u0627\u067e\u06d5\u0695\u06d5\u06cc\u06d5\u06a9","Could not get organisation unit":"\u0646\u06d5\u062a\u0648\u0627\u0646\u062f\u0631\u0627 \u0626\u06c6\u0631\u06af\u0627\u0646\u06cc\u0632\u06d5\u06cc\u0634\u0646 \u06cc\u0648\u0646\u06cc\u062a\u06d5\u06a9\u06d5 \u0628\u0647\u06ce\u0646\u062f\u0631\u06ce\u062a","Program doesn\'t exist":"\u067e\u0631\u06c6\u06af\u0631\u0627\u0645\u06d5\u06a9\u06d5 \u0628\u0648\u0648\u0646\u06cc \u0646\u06cc\u06d5","Selected program is invalid for selected registering unit":"","New":"\u0646\u0648\u06ce","Find":"\u0637\u0629\u0631\u0627\u0646","Clear selections":"","Selected registering unit":"\u06cc\u06d5\u06a9\u06d5\u06cc \u062a\u06c6\u0645\u0627\u0631\u06a9\u0631\u062f\u0646 \u0647\u06d5\u06b5\u0628\u0698\u06ce\u0631\u06d5","Start Again":"\u062f\u0648\u0648\u0628\u0627\u0631\u06d5 \u062f\u06d5\u0633\u062a\u0628\u067e\u06ce\u0628\u06a9\u06d5\u0648\u06d5","Are you sure? All unsaved data will be lost.":"\u0626\u0627\u06cc\u0627 \u062f\u06b5\u0646\u06cc\u0627\u06cc\u06cc\u061f \u0647\u06d5\u0645\u0648\u0648 \u0632\u0627\u0646\u06cc\u0627\u0631\u06cc\u06d5 \u062a\u06c6\u0645\u0627\u0631\u06d5\u0646\u06d5\u06a9\u0631\u0627\u0648\u06d5\u06a9\u0627\u0646 \u062f\u06d5\u0633\u0695\u06ce\u062a\u06d5\u0648\u06d5","Accept":"","Registering Organisation Unit":"\u062a\u06c6\u0645\u0627\u0631\u06a9\u0631\u062f\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u06cc \u0631\u06ce\u06a9\u062e\u0631\u0627\u0648","Select":"\u0647\u06d5\u06b5\u0628\u0698\u0627\u0631\u062f\u0646","Program":"\u0628\u0629\u0631\u0646\u0627\u0645\u0629","No programs available.":"\u0647\u06cc\u0686 \u067e\u0631\u06c6\u06af\u0631\u0627\u0645\u06ce\u06a9 \u0628\u06d5\u0631\u062f\u06d5\u0633\u062a \u0646\u06cc\u06d5","Show all":"\u0628\u064a\u0634\u0627\u0646\u062f\u0627\u0646\u064a \u0647\u0629\u0645\u0648\u0648\u0627\u0646","Selected program":"","Some programs are being filtered.":"\u0647\u06d5\u0646\u062f\u06ce\u06a9 \u0644\u06d5 \u067e\u0695\u06c6\u06af\u0631\u0627\u0645\u06d5\u06a9\u0627\u0646 \u0641\u06cc\u0644\u062a\u06d5\u0631\u06a9\u0631\u0627\u0648\u0646","Select program":"\u0628\u0629\u0631\u0646\u0627\u0645\u0629 \u0647\u0629\u0644\u0628\u0632\u064a\u0631\u0629","Selected":"","Online":"\u0626\u06c6\u0646\u06b5\u0627\u06cc\u0646","Offline":"\u0626\u06c6\u0641\u06b5\u0627\u06cc\u0646","Syncing":"\u0647\u0627\u0648\u062a\u0627\u06a9\u0631\u062f\u0646","Add comment":"","You dont have access to write comments":"","Write comment":"\u06a9\u06c6\u0645\u06ce\u0646\u062a \u0628\u0646\u0648\u0648\u0633\u06d5","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"\u062d\u0627\u0644\u06d5\u062a\u06d5\u06a9\u06d5 \u0646\u06d5\u062a\u0648\u0627\u0646\u062f\u0631\u0627 \u067e\u06cc\u0634\u0627\u0646 \u0628\u062f\u0631\u06ce\u062a\u060c \u0626\u0627\u06cc\u0627 \u062f\u06b5\u0646\u06cc\u0627\u06cc \u06a9\u06d5 \u0628\u0648\u0648\u0646\u06cc \u0647\u06d5\u06cc\u06d5\u061f","Event could not be loaded":"\u062d\u0627\u06b5\u06d5\u062a\u06d5\u06a9\u06d5 \u0646\u06d5\u062a\u0648\u0627\u0646\u062f\u0631\u0627 \u0628\u0647\u06ce\u0646\u062f\u0631\u06ce\u062a","Organisation unit could not be loaded":"\u0626\u06c6\u0631\u06af\u0627\u0646\u06cc\u0632\u06d5\u06cc\u0634\u0646 \u06cc\u0648\u0646\u062a\u06d5\u06a9\u06d5 \u0646\u06d5\u062a\u0648\u0627\u0646\u062f\u0631\u0627 \u0628\u0647\u06ce\u0646\u062f\u0631\u06ce\u062a","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"\u0647\u06d5\u06b5\u06d5\u06cc\u06a9 \u0695\u0648\u0648\u06cc\u062f\u0627\u060c \u062a\u06a9\u0627\u06cc\u06d5 \u0633\u06d5\u06cc\u0631\u06cc \u0644\u06c6\u06af \u0641\u0627\u06cc\u0644 \u0628\u06a9\u06d5 \u0628\u06c6 \u0648\u0631\u062f\u06d5\u06a9\u0627\u0631\u06cc \u0632\u06cc\u0627\u062a\u0631","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"\u0647\u06d5\u06b5\u06d5\u06cc\u06d5\u06a9 \u0695\u0648\u0648\u06cc\u062f\u0627 \u0644\u06d5 \u062a\u06c6\u0645\u0627\u0631\u06a9\u0631\u062f\u0646\u06cc \u062d\u0627\u06b5\u06d5\u062a\u06d5\u06a9\u06d5","Could not save event. See log for details":"\u0646\u06d5\u062a\u0648\u0627\u0646\u062f\u0631\u0627 \u062d\u0627\u06b5\u06d5\u062a\u06d5\u06a9\u06d5 \u062a\u06c6\u0645\u0627\u0631\u0628\u06a9\u0631\u06ce\u062a. \u0633\u06d5\u06cc\u0631\u06cc \u0641\u0627\u06cc\u0644 \u0644\u06c6\u06af \u0628\u06a9\u06d5 \u0628\u06c6 \u0632\u0627\u0646\u06cc\u0627\u0631\u06cc \u0632\u06cc\u0627\u062a\u0631","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6413:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"Vyberte jedno nebo v\xedce dat ...","Choose a date...":"Vyberte datum ...","Today":"Dnes","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"Uve\u010fte pros\xedm platn\xe9 datum","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"v","Cancel":"Zru\u0161it","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"Ukl\xe1d\xe1n\xed do","This is not an event program or the metadata is corrupt. See log for details.":"Nejedn\xe1 se o program ud\xe1lost\xed, nebo jsou po\u0161kozena metadata. Podrobnosti najdete v protokolu.","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"Ulo\u017eit a p\u0159idat dal\u0161\xed","Save and exit":"Ulo\u017eit a odej\xedt","Finish":"","No write access":"\u017d\xe1dn\xfd p\u0159\xedstup pro z\xe1pis","Switch to form view":"P\u0159epnout do formul\xe1\u0159ov\xe9ho zobrazen\xed","Switch to row view":"P\u0159epnout do zobrazen\xed \u0159\xe1dk\u016f","events added":"p\u0159id\xe1ny ud\xe1losti","No events added":"Nebyly p\u0159id\xe1ny \u017e\xe1dn\xe9 ud\xe1losti","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"Nov\xe1 ud\xe1lost","You don\'t have access to create an event in the current selections":"","Save":"Ulo\u017eit","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"Chyby","Feedback":"Zp\u011btn\xe1 vazba","Indicators":"Indik\xe1tory","Warnings":"Varov\xe1n\xed","search group result could not be retrieved":"","Complete":"Dokon\u010dit","Warnings found":"Nalezena varov\xe1n\xed","Abort":"P\u0159eru\u0161it","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"T\u0159\xeddit","No events to display":"\u017d\xe1dn\xe9 ud\xe1losti k zobrazen\xed","Data for offline list not present":"Data pro offline seznam nejsou k dispozici","Close":"Zav\u0159\xedt","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"do","From":"Od","To":"Do","This week":"","This month":"","This Year":"","Last week":"Minul\xfd t\xfdden","Last month":"Minul\xfd m\u011bs\xedc","Last 3 months":"Posledn\xed 3 m\u011bs\xedce","Custom range":"Vlastn\xed rozsah","Max":"Max","Min":"Min","Contains text":"Obsahuje text","Yes":"Ano","mm/dd/yyyy":"mm/dd/yyyy","Years":"Let","Months":"M\u011bs\xedce","Days":"Dn\u016f","Uploading file":"Nahr\xe1v\xe1n\xed souboru","selected":"vybr\xe1no","Delete":"Smazat","Select file":"Vybrat soubor","No":"Ne","Uploading image":"Nahr\xe1v\xe1n\xed obr\xe1zku","Select image":"Vybrat obr\xe1zek","Search":"","Clear":"Vy\u010distit","No results":"\u017d\xe1dn\xe9 v\xfdsledky","start typing to search":"","suggestions could not be retrieved":"","No items to display":"\u017d\xe1dn\xe9 polo\u017eky k zobrazen\xed","Select columns":"","Columns to show in table":"Sloupce k zobrazen\xed v tabulce","Column":"Sloupec","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"v\u011bt\u0161\xed nebo rovno","less than or equal to":"men\u0161\xed nebo rovno","More filters":"V\xedce filtr\u016f","Rows per page":"\u0158\xe1dk\u016f na str\xe1nku","Could not get organisation unit":"Nelze z\xedskat organiza\u010dn\xed jednotku","Program doesn\'t exist":"Program neexistuje","Selected program is invalid for selected registering unit":"","New":"Nov\xfd","Find":"Hledat","Clear selections":"","Selected registering unit":"Vybran\xe1 registra\u010dn\xed jednotka","Start Again":"Za\u010d\xedt znovu","Are you sure? All unsaved data will be lost.":"Jste si jist? V\u0161echna neulo\u017een\xe1 data budou ztracena.","Accept":"","Registering Organisation Unit":"Registrov\xe1n\xed organiza\u010dn\xed jednotky","Select":"Vybrat","Program":"Program","No programs available.":"Nejsou k dispozici \u017e\xe1dn\xe9 programy.","Show all":"Uk\xe1zat v\u0161e","Selected program":"","Some programs are being filtered.":"N\u011bkter\xe9 programy jsou filtrov\xe1ny.","Select program":"Vybrat program","Selected":"","Online":"Online","Offline":"Offline","Syncing":"Prob\xedh\xe1 synchronizace","Add comment":"","You dont have access to write comments":"","Write comment":"Napsat koment\xe1\u0159","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"Ud\xe1lost se nepoda\u0159ilo na\u010d\xedst. Jste si jisti, \u017ee existuje?","Event could not be loaded":"Ud\xe1lost se nepoda\u0159ilo na\u010d\xedst","Organisation unit could not be loaded":"Organiza\u010dn\xed jednotku se nepoda\u0159ilo na\u010d\xedst","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"Vyskytla se chyba. Podrobnosti najdete v protokolu","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"P\u0159i ukl\xe1d\xe1n\xed ud\xe1losti do\u0161lo k chyb\u011b","Could not save event. See log for details":"Ud\xe1lost se nepoda\u0159ilo ulo\u017eit. Podrobnosti najdete v protokolu","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6414:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"Cancel","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"","You don\'t have access to create an event in the current selections":"","Save":"Save","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"","Feedback":"Feedback","Indicators":"Indicators","Warnings":"","search group result could not be retrieved":"","Complete":"","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"","No events to display":"","Data for offline list not present":"","Close":"Close","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"","From":"","To":"","This week":"","This month":"","This Year":"","Last week":"Last week","Last month":"Last month","Last 3 months":"Last 3 months","Custom range":"","Max":"Max","Min":"Min","Contains text":"","Yes":"Yes","mm/dd/yyyy":"","Years":"","Months":"","Days":"","Uploading file":"","selected":"","Delete":"Delete","Select file":"","No":"No","Uploading image":"","Select image":"","Search":"","Clear":"Clear","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"New","Find":"Find","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"","Program":"","No programs available.":"","Show all":"","Selected program":"","Some programs are being filtered.":"","Select program":"","Selected":"","Online":"Online","Offline":"Offline","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6415:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"","You don\'t have access to create an event in the current selections":"","Save":"","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"","Feedback":"","Indicators":"","Warnings":"","search group result could not be retrieved":"","Complete":"","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"","No events to display":"","Data for offline list not present":"","Close":"","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"","From":"","To":"","This week":"","This month":"","This Year":"","Last week":"","Last month":"","Last 3 months":"","Custom range":"","Max":"","Min":"","Contains text":"","Yes":"","mm/dd/yyyy":"","Years":"","Months":"","Days":"","Uploading file":"","selected":"","Delete":"","Select file":"","No":"","Uploading image":"","Select image":"","Search":"","Clear":"","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"","Find":"","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"","Program":"","No programs available.":"","Show all":"","Selected program":"","Some programs are being filtered.":"","Select program":"","Selected":"","Online":"","Offline":"","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6416:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"Hoy","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"Cancelar","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"Evento nuevo","You don\'t have access to create an event in the current selections":"","Save":"Guardar","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"Errores","Feedback":"Retroalimentaci\xf3n","Indicators":"Indicadores","Warnings":"","search group result could not be retrieved":"","Complete":"Completo","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"Organizar","No events to display":"","Data for offline list not present":"","Close":"Cerrar","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"a","From":"De","To":"Para","This week":"","This month":"","This Year":"","Last week":"\xdaltima semana","Last month":"Mes anterior","Last 3 months":"\xdaltimos 3 meses","Custom range":"","Max":"M\xe1x","Min":"M\xedn","Contains text":"","Yes":"Si","mm/dd/yyyy":"","Years":"A\xf1os","Months":"Meses","Days":"D\xedas","Uploading file":"","selected":"seleccionado","Delete":"Borrar","Select file":"","No":"No","Uploading image":"","Select image":"","Search":"","Clear":"Limpiar","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"Columna","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"Nuevo","Find":"Encontrar","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"Seleccionar","Program":"Programa","No programs available.":"","Show all":"Mostrar todo","Selected program":"","Some programs are being filtered.":"","Select program":"Seleccionar programa","Selected":"","Online":"Conectado","Offline":"Desconectado","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6417:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"Choisir une ou plusieurs dates...","Choose a date...":"Choisir une date...","Today":"Aujourd\'hui","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"Veuillez sp\xe9cifier une date valide","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"dans","Cancel":"Annuler","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"Enregistrement \xe0","This is not an event program or the metadata is corrupt. See log for details.":"Il ne s\'agit pas d\'un programme d\'\xe9v\xe9nement ou les m\xe9tadonn\xe9es sont corrompues. Voir le journal pour plus de d\xe9tails.","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"Sauvegarder et ajouter nouveau","Save and exit":"Sauvegarder et quitter","Finish":"","No write access":"Aucun acc\xe8s en \xe9criture","Switch to form view":"Passer \xe0 la vue du formulaire","Switch to row view":"Passer \xe0 la vue des lignes","events added":"\xe9v\xe9nements ajout\xe9s","No events added":"Aucun \xe9v\xe9nement n\'a \xe9t\xe9 ajout\xe9","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"Nouvel \xe9v\xe9nement","You don\'t have access to create an event in the current selections":"","Save":"Enregistrer","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"Erreurs","Feedback":"R\xe9action","Indicators":"Indicateurs","Warnings":"Avertissements","search group result could not be retrieved":"","Complete":"Terminer","Warnings found":"Avertissements trouv\xe9s","Abort":"Annuler","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"Trier","No events to display":"Aucun \xe9v\xe8nement \xe0 afficher","Data for offline list not present":"Donn\xe9es pour la liste hors ligne non disponibles","Close":"Fermer","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\xe0","From":"A partir de","To":"A","This week":"","This month":"","This Year":"","Last week":"Semaine pass\xe9e","Last month":"Le mois dernier","Last 3 months":"3 derniers mois","Custom range":"Plage personnalis\xe9e","Max":"Max","Min":"Min","Contains text":"Contient le texte","Yes":"Oui","mm/dd/yyyy":"mm/jj/aaaa","Years":"Ann\xe9es","Months":"Mois","Days":"Jours","Uploading file":"T\xe9l\xe9chargement du fichier","selected":"S\xe9lectionn\xe9","Delete":"Supprimer","Select file":"S\xe9lectionner le fichier","No":"Non","Uploading image":"T\xe9l\xe9chargement de l\'image","Select image":"S\xe9lectionner l\'image","Search":"","Clear":"Effacer","No results":"Aucun r\xe9sultat","start typing to search":"","suggestions could not be retrieved":"","No items to display":"Aucun \xe9l\xe9ment \xe0 afficher","Select columns":"","Columns to show in table":"Colonnes \xe0 afficher dans ce tableau","Column":"Colonne","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"sup\xe9rieur ou egal \xe0","less than or equal to":"inf\xe9rieur ou egal \xe0","More filters":"Filtres suppl\xe9mentaires","Rows per page":"Lignes par page","Could not get organisation unit":"Impossible de trouver l\'unit\xe9 d\'organisation","Program doesn\'t exist":"Le programme n\'existe pas","Selected program is invalid for selected registering unit":"","New":"Nouveau","Find":"Trouver","Clear selections":"","Selected registering unit":"Unit\xe9 d\'enregistrement s\xe9lectionn\xe9e","Start Again":"Recommencer","Are you sure? All unsaved data will be lost.":"\xcates-vous s\xfbr ? Toutes les donn\xe9es non sauvegard\xe9es seront perdues.","Accept":"","Registering Organisation Unit":"Unit\xe9 d\'organisation d\'enregistrement","Select":"S\xe9lectionner","Program":"Programme","No programs available.":"Aucun programme disponible","Show all":"Tout afficher","Selected program":"","Some programs are being filtered.":"Certains programmes sont en cours de filtrage.","Select program":"S\xe9lectionner le programme","Selected":"","Online":"En ligne","Offline":"Hors ligne","Syncing":"Synchronisation","Add comment":"","You dont have access to write comments":"","Write comment":"Ecrire commentaire","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"L\'\xe9v\xe9nement n\'a pas pu \xeatre charg\xe9. Etes-vous s\xfbr qu\'il existe ?","Event could not be loaded":"L\'\xe9v\xe9nement n\'a pas pu \xeatre charg\xe9","Organisation unit could not be loaded":"L\'unit\xe9 d\'organisation n\'a pas pu \xeatre charg\xe9e","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"Une erreur s\'est produite. Voir le log pour plus de d\xe9tails","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"Erreur lors de la sauvegarde de l\'\xe9v\xe9nement","Could not save event. See log for details":"Impossible de sauvegarder l\'\xe9v\xe9nement. Voir le journal pour plus de d\xe9tails","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6418:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"Hari ini","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"dalam","Cancel":"batal","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"Event baru","You don\'t have access to create an event in the current selections":"","Save":"Simpan","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"Kesalahan","Feedback":"Umpan balik","Indicators":"Indikator","Warnings":"","search group result could not be retrieved":"","Complete":"Lengkap","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"Urutkan","No events to display":"","Data for offline list not present":"","Close":"Tutup","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"","From":"Dari","To":"Untuk","This week":"","This month":"","This Year":"","Last week":"Minggu lalu","Last month":"Bulan lalu","Last 3 months":"3 bulan terakhir","Custom range":"","Max":"Maks","Min":"Min","Contains text":"","Yes":"Ya","mm/dd/yyyy":"","Years":"Tahun","Months":"Bulan","Days":"Hari","Uploading file":"","selected":"Terpilih","Delete":"hapus","Select file":"","No":"Tidak","Uploading image":"","Select image":"","Search":"","Clear":"Hapus","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"Kolom","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"Baru","Find":"Cari","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"Pilih","Program":"Program","No programs available.":"","Show all":"Tampilkan semua","Selected program":"","Some programs are being filtered.":"","Select program":"Pilih program","Selected":"","Online":"","Offline":"","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6419:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"\u1794\u17c4\u17c7\u1794\u1784\u17cb","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u1796\u17d2\u179a\u17b9\u178f\u17d2\u178f\u17b7\u1780\u17b6\u179a\u178e\u17cf\u1790\u17d2\u1798\u17b8","You don\'t have access to create an event in the current selections":"","Save":"\u179a\u1780\u17d2\u179f\u17b6\u1791\u17bb\u1780\u200b","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"","Feedback":"\u1798\u178f\u17b7\u200b\u1786\u17d2\u179b\u17be\u1799\u178f\u1794","Indicators":"Indicators","Warnings":"","search group result could not be retrieved":"","Complete":"\u1794\u1789\u17d2\u1785\u1794\u17cb","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"","No events to display":"","Data for offline list not present":"","Close":"\u1794\u17b7\u1791","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u178a\u179b\u17cb","From":"","To":"","This week":"","This month":"","This Year":"","Last week":"","Last month":"","Last 3 months":"","Custom range":"","Max":"\u17a2\u178f\u17b7\u1794\u179a\u1798\u17b6","Min":"\u17a2\u1794\u17d2\u1794\u1794\u179a\u1798\u17b6","Contains text":"","Yes":"\u1794\u17b6\u1791/\u1785\u17b6\u179f","mm/dd/yyyy":"","Years":"\u1786\u17d2\u1793\u17b6\u17c6","Months":"\u1781\u17c2","Days":"\u1790\u17d2\u1784\u17c3","Uploading file":"","selected":"","Delete":"\u200b\u179b\u17bb\u1794\u200b","Select file":"","No":"\u1791\u17c1","Uploading image":"","Select image":"","Search":"","Clear":"\u179b\u17bb\u1794\u1785\u17c4\u179b","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"\u1790\u17d2\u1798\u17b8","Find":"","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"\u1787\u17d2\u179a\u17be\u179f\u200b\u179a\u17be\u179f","Program":"","No programs available.":"","Show all":"","Selected program":"","Some programs are being filtered.":"","Select program":"","Selected":"","Online":"\u179b\u17be\u1794\u178e\u17d2\u178a\u17b6\u1789\u17a2\u17b7\u1793\u1792\u17ba\u179a\u178e\u17c2\u178f","Offline":"\u1780\u17d2\u179a\u17c5\u200b\u1794\u178e\u17d2\u178a\u17b6\u1789\u17a2\u17b7\u1793\u1792\u17ba\u179a\u178e\u17c2\u178f","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6420:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"in","Cancel":"\u0e8d\u0ebb\u0e81\u0ec0\u0ea5\u0eb5\u0e81","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u0e81\u0ecd\u0ea5\u0eb0\u0e99\u0eb5\u0ec3\u0edd\u0ec8","You don\'t have access to create an event in the current selections":"","Save":"\u0e9a\u0eb1\u0e99\u0e97\u0eb6\u0e81","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u0e9c\u0eb4\u0e94\u0e9e\u0eb2\u0e94","Feedback":"\u0e9c\u0ebb\u0e99\u0e95\u0ead\u0e9a\u0eae\u0eb1\u0e9a","Indicators":"\u0e95\u0ebb\u0ea7\u0e8a\u0eb5\u0ec9\u0ea7\u0eb1\u0e94","Warnings":"","search group result could not be retrieved":"","Complete":"\u0eaa\u0eb3\u0ec0\u0ea5\u0eb1\u0e94\u0ec1\u0ea5\u0ec9\u0ea7","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"Sort","No events to display":"","Data for offline list not present":"","Close":"\u0e9b\u0eb4\u0e94","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u0eab\u0eb2","From":"\u0e88\u0eb2\u0e81","To":"\u0e96\u0eb6\u0e87","This week":"","This month":"","This Year":"","Last week":"\u0ead\u0eb2\u0e97\u0eb4\u0e94\u0e97\u0eb5\u0ec8\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2","Last month":"\u0ec0\u0e94\u0eb7\u0ead\u0e99\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2","Last 3 months":"3 \u0ec0\u0e94\u0eb7\u0ead\u0e99\u0e8d\u0ec9\u0ead\u0e99\u0eab\u0ebc\u0eb1\u0e87","Custom range":"","Max":"\u0e84\u0ec8\u0eb2\u0ec3\u0eab\u0ec8\u0e8d\u0eaa\u0eb8\u0e94","Min":"\u0e84\u0ec8\u0eb2\u0e95\u0ecd\u0ec8\u0eb2\u0eaa\u0eb8\u0e94","Contains text":"","Yes":"\u0ec1\u0ea1\u0ec8\u0e99","mm/dd/yyyy":"","Years":"\u0e9b\u0eb5","Months":"\u0ec0\u0e94\u0eb7\u0ead\u0e99","Days":"\u0ea1\u0eb7\u0ec9","Uploading file":"","selected":"\u0ec0\u0ea5\u0eb7\u0ead\u0e81\u0ec1\u0ea5\u0ec9\u0ea7","Delete":"\u0ea5\u0ebb\u0e9a","Select file":"","No":"\u0e9a\u0ecd\u0ec8","Uploading image":"","Select image":"","Search":"","Clear":"\u0ea5\u0eb6\u0e9a","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"\u0e96\u0eb1\u0e99","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"\u0eaa\u0ec9\u0eb2\u0e87\u0ec3\u0eab\u0ea1\u0ec8","Find":"\u0e8a\u0ead\u0e81","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"\u0ec0\u0ea5\u0eb7\u0ead\u0e81","Program":"\u0eaa\u0eb2\u0e8d\u0e87\u0eb2\u0e99","No programs available.":"","Show all":"\u0eaa\u0eb0\u0ec1\u0e94\u0e87\u0e97\u0eb1\u0e87\u0edd\u0ebb\u0e94","Selected program":"","Some programs are being filtered.":"","Select program":"\u0e82\u0eb0\u0ec1\u0edc\u0e87\u0e97\u0eb5\u0ec8\u0e96\u0eb7\u0e81\u0ec0\u0ea5\u0eb7\u0ead\u0e81","Selected":"","Online":"\u0ea1\u0eb5\u0e81\u0eb2\u0e99\u0ec0\u0e8a\u0eb7\u0ec8\u0ead\u0ea1\u0e95\u0ecd\u0ec8","Offline":"\u0e9a\u0ecd\u0ec8\u0ea1\u0eb5\u0e81\u0eb2\u0e99\u0ec0\u0e8a\u0eb7\u0ec8\u0ead\u0ea1\u0e95\u0ecd\u0ec8","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6421:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"\u1015\u101a\u103a\u1016\u103b\u1000\u103a\u101e\u100a\u103a","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"","You don\'t have access to create an event in the current selections":"","Save":"\u101e\u102d\u1019\u103a\u1038\u1006\u100a\u103a\u1038\u101e\u100a\u103a","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"","Feedback":"\u1021\u1000\u103c\u1031\u102c\u1004\u103a\u1038\u1015\u103c\u1014\u103a\u1000\u103c\u102c\u1038\u1001\u103b\u1000\u103a","Indicators":"\u1021\u100a\u103d\u103e\u1014\u103a\u1038\u1019\u103b\u102c\u1038","Warnings":"","search group result could not be retrieved":"","Complete":"\u1015\u103c\u100a\u1037\u103a\u1005\u102f\u1036\u101e\u100a\u103a\u104b","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"\u1019\u103b\u102d\u102f\u1038\u1010\u1030\u1001\u103c\u1004\u103a\u1038 \u1005\u102f\u1015\u1031\u102b\u1004\u103a\u1038\u101e\u100a\u103a\u104b","No events to display":"","Data for offline list not present":"","Close":"\u1015\u102d\u1010\u103a\u101e\u100a\u103a","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u101e\u102d\u102f\u1037","From":"","To":"","This week":"","This month":"","This Year":"","Last week":"Last week","Last month":"\u101a\u1001\u1004\u103a\u101c","Last 3 months":"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c \u1041\u1042\u101c","Custom range":"","Max":"\u1021\u1019\u103b\u102c\u1038\u1006\u102f\u1036\u1038","Min":"\u1021\u1014\u100a\u103a\u1038\u1006\u102f\u1036\u1038","Contains text":"","Yes":"Yes","mm/dd/yyyy":"","Years":"\u1014\u103e\u1005\u103a\u1019\u103b\u102c\u1038","Months":"\u101c\u1019\u103b\u102c\u1038","Days":"","Uploading file":"","selected":"","Delete":"\u1016\u103b\u1000\u103a\u1006\u102e\u1038\u101e\u100a\u103a","Select file":"","No":"Nr","Uploading image":"","Select image":"","Search":"","Clear":"\u101b\u103e\u1004\u103a\u1038\u101c\u1004\u103a\u1038\u101e\u100a\u103a","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"\u1021\u101e\u1005\u103a","Find":"\u101b\u103e\u102c\u101e\u100a\u103a","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"\u101b\u103d\u1031\u1038\u1001\u103b\u101a\u103a\u1015\u102b\u104b","Program":"","No programs available.":"","Show all":"","Selected program":"","Some programs are being filtered.":"","Select program":"Select Program","Selected":"","Online":"\u1021\u1004\u103a\u1010\u102c\u1014\u1000\u103a\u1014\u103e\u1004\u103a\u1037\u1001\u103b\u102d\u1010\u103a\u1006\u1000\u103a\u1011\u102c\u1038\u101e\u100a\u103a","Offline":"\u1021\u1004\u103a\u1010\u102c\u1014\u1000\u103a\u1014\u103e\u1004\u103a\u1037\u1019\u1001\u103b\u102d\u1010\u103a\u1006\u1000\u103a\u1011\u102c\u1038\u1015\u102b","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6422:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"Velg en eller flere datoer","Choose a date...":"Velg en dato","Today":"I dag","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"Oppgi en gyldig dato","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"i","Cancel":"Avbryt","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"Lagrer til","This is not an event program or the metadata is corrupt. See log for details.":"Dette er ikke et hendelsesprogram, eller metadataene er korrupte. Se logg for detaljer.","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"Lagre og legg til en til","Save and exit":"Lagre og avslutt","Finish":"","No write access":"Ingen skrivetilgang","Switch to form view":"Bytt til skjemavisning","Switch to row view":"Bytt til radvisning","events added":"Hendelser lagt til","No events added":"Ingen hendelser lagt til","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"Ny hendelse","You don\'t have access to create an event in the current selections":"","Save":"Lagre","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"Feil","Feedback":"Tilbakemelding","Indicators":"Indikatorer","Warnings":"Advarsler","search group result could not be retrieved":"","Complete":"Fullf\xf8r","Warnings found":"Advarsler funnet","Abort":"Avbryt","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"Sorter","No events to display":"Ingen hendelser \xe5 vise","Data for offline list not present":"Data for frakoblet liste er ikke til stede","Close":"Lukk","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"til","From":"Fra","To":"Til","This week":"","This month":"","This Year":"","Last week":"Forrige uke","Last month":"Forrige m\xe5ned","Last 3 months":"Siste 3 m\xe5neder","Custom range":"Tilpasset utvalg","Max":"Max","Min":"Min","Contains text":"Inneholder tekst","Yes":"Ja","mm/dd/yyyy":"mm/dd/yyyy","Years":"\xc5r","Months":"M\xe5neder","Days":"Dager","Uploading file":"Laster opp fil","selected":"valgt","Delete":"Slett","Select file":"Velg fil","No":"Nei","Uploading image":"Laster opp bilde","Select image":"Velg bilde","Search":"","Clear":"Fjern","No results":"Ingen resultater","start typing to search":"","suggestions could not be retrieved":"","No items to display":"Ingen elementer \xe5 vise","Select columns":"","Columns to show in table":"Kolonner som skal vises i tabellen","Column":"Kolonne","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"st\xf8rre enn eller lik","less than or equal to":"mindre enn eller lik","More filters":"Flere filtre","Rows per page":"Rader per side","Could not get organisation unit":"Kunne ikke f\xe5 tak i organisasjonsenhet","Program doesn\'t exist":"Programmet finnes ikke","Selected program is invalid for selected registering unit":"","New":"Ny","Find":"Finn","Clear selections":"","Selected registering unit":"Valgt registreringsenhet","Start Again":"Start p\xe5 nytt","Are you sure? All unsaved data will be lost.":"Er du sikker? All data som ikke er lagret vil bli borte.","Accept":"","Registering Organisation Unit":"Registrering av organisasjonsenhet","Select":"Velg","Program":"Program","No programs available.":"Ingen programmer tilgjengelig.","Show all":"Vis alle","Selected program":"","Some programs are being filtered.":"Noen programmer blir filtrert.","Select program":"Velg program","Selected":"","Online":"P\xe5koblet","Offline":"Frakoblet","Syncing":"Synkroniserer","Add comment":"","You dont have access to write comments":"","Write comment":"Skriv kommentar","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"Hendelsen kunne ikke lastes. Er du sikker p\xe5 at den finnes?","Event could not be loaded":"Hendelse kunne ikke lastes inn","Organisation unit could not be loaded":"Organisasjonsenhet kunne ikke lastes inn","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"Det har oppst\xe5tt en feil. Se logg for detaljer","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"Feil ved lagring av hendelse","Could not save event. See log for details":"Kunne ikke lagre hendelse. Se loggen for detaljer","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6423:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"\u0627\u0645\u0631\u0648\u0632","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"\u062f\u0631","Cancel":"\u0627\u0646\u0635\u0631\u0627\u0641","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u0631\u0648\u06cc\u062f\u0627\u062f \u062c\u062f\u06cc\u062f","You don\'t have access to create an event in the current selections":"","Save":"\u0630\u062e\u06cc\u0631\u0647","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u062e\u0637\u0627\u0647\u0627","Feedback":"\u0646\u0638\u0631\u0627\u062a/\u0641\u06cc\u062f\u0628\u06a9","Indicators":"\u0634\u0627\u062e\u0635 \u0647\u0627","Warnings":"","search group result could not be retrieved":"","Complete":"\u062a\u06a9\u0645\u06cc\u0644","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"\u062a\u0646\u0638\u06cc\u0645","No events to display":"","Data for offline list not present":"","Close":"\u0628\u0633\u062a\u0646","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u0628\u0631\u0627\u06cc","From":"\u0627\u0632 \u062c\u0627\u0646\u0628","To":"\u0628\u0647","This week":"","This month":"","This Year":"","Last week":"\u0647\u0641\u062a\u0647 \u06af\u0630\u0634\u062a\u0647","Last month":"\u0645\u0627\u0647 \u06af\u0630\u0634\u062a\u0647","Last 3 months":"3 \u0645\u0627\u0647\u0647 \u06af\u0630\u0634\u062a\u0647","Custom range":"","Max":"\u0628\u0632\u0631\u06af\u062a\u0631","Min":"\u06a9\u0648\u0686\u06a9\u062a\u0631","Contains text":"","Yes":"\u0628\u0644\u06cc","mm/dd/yyyy":"","Years":"\u0633\u0627\u0644\u0627\u0646\u0647","Months":"\u0645\u0627\u0647 \u0647\u0627","Days":"\u0631\u0648\u0632\u0647\u0627","Uploading file":"","selected":"\u0645\u0646\u062a\u062e\u0628\u06cc\u0646","Delete":"\u062d\u0630\u0641","Select file":"","No":"\u0646\u062e\u06cc\u0631","Uploading image":"","Select image":"","Search":"","Clear":"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"\u0633\u062a\u0648\u0646","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"\u062c\u062f\u06cc\u062f","Find":"\u06cc\u0627\u0641\u062a\u0646","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"\u0627\u0646\u062a\u062e\u0627\u0628","Program":"\u0628\u0631\u0646\u0627\u0645\u0647","No programs available.":"","Show all":"\u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0646 \u0647\u0645\u0647","Selected program":"","Some programs are being filtered.":"","Select program":"\u067e\u0631\u0648\u06ab\u0631\u0627\u0645 \u063a\u0648\u0631\u0647 \u06a9\u0693\u0626","Selected":"","Online":"\u0622\u0646\u0644\u0627\u06cc\u0646","Offline":"\u0622\u0641\u0644\u0627\u06cc\u0646","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6424:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"\u0646\u0646 \u0648\u0631\u0681","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"\u0631\u062f \u06cc\u06d0 \u06a9\u0693\u0626 [ \u0698\u0628\u0627\u0693\u0647 \u0640 \u0631\u062f\u0648\u0644 ]","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u0646\u0648\u06d0 \u067e\u06d0\u069a\u0647","You don\'t have access to create an event in the current selections":"","Save":"\u062b\u0628\u062a \u06cc\u06d0 \u06a9\u0693\u0626 [ \u0698\u0628\u0627\u0693\u0647 - \u062b\u0628\u062a \u06a9\u0693\u0626 ]","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u062a\u06d0\u0631\u0648\u062a\u0646\u06d0","Feedback":"\u062f \u0641\u06cc\u0689\u0628\u06a9 \u06cc\u0627 \u0646\u0638\u0631 \u0648\u0631\u06a9\u0648\u0644","Indicators":"\u0634\u0627\u062e\u0635\u0648\u0646\u0647","Warnings":"","search group result could not be retrieved":"","Complete":"\u0628\u0634\u067e\u0693 \u06cc\u06d0 \u06a9\u0693\u0626","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"","No events to display":"","Data for offline list not present":"","Close":"\u0628\u0646\u062f \u06cc\u06d0 \u06a9\u0693\u0626","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"","From":"\u0685\u062e\u0647","To":"\u062a\u0631","This week":"","This month":"","This Year":"","Last week":"\u062a\u06d0\u0631\u0647 \u0627\u0648\u0646\u06cd","Last month":"\u062a\u06d0\u0631\u0647 \u0645\u06cc\u0627\u0634\u062a","Last 3 months":"\u062a\u06d0\u0631\u06d0 3 \u0645\u06cc\u0627\u0634\u062a\u06d0","Custom range":"","Max":"\u062d\u062f\u0627\u0639\u0638\u0645","Min":"\u062d\u062f\u0627\u0642\u0644","Contains text":"","Yes":"\u0647\u0648 [ \u062f\u0631\u0633\u062a ]","mm/dd/yyyy":"","Years":"\u06a9\u0644\u0648\u0646\u0647","Months":"\u0645\u06cc\u0627\u0634\u062a","Days":"\u0648\u0631\u0681\u06d0","Uploading file":"","selected":"","Delete":"\u062e\u0630\u0641 \u06cc\u06d0 \u06a9\u0693\u0626","Select file":"","No":"\u0646\u0647 [ \u0646\u0647 ]","Uploading image":"","Select image":"","Search":"","Clear":"\u067e\u0627\u06a9 \u06cc\u06d0 \u06a9\u0693\u0626","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"\u0633\u062a\u0648\u0646","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"\u0646\u0648\u06cc","Find":"\u067e\u06cc\u062f\u0627 \u06cc\u06d0 \u06a9\u0693\u0626","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"\u063a\u0648\u0631\u0647 \u06cc\u06d0 \u06a9\u0693\u0626","Program":"\u067e\u0631\u0648\u06ab\u0631\u0627\u0645","No programs available.":"","Show all":"\u067c\u0648\u0644 \u069a\u06a9\u0627\u0631\u0647 \u06a9\u0693\u0626","Selected program":"","Some programs are being filtered.":"","Select program":"\u062f \u067e\u0631\u0648\u06ab\u0631\u0627\u0645 \u067c\u0627\u06a9\u0644","Selected":"","Online":"\u067e\u0647 \u0644\u06cc\u06a9\u0647 \u06a9\u06d0 \u062f\u06cc","Offline":"\u067e\u0647 \u0644\u06cc\u06a9\u0647 \u06a9\u06d0 \u0646\u0634\u062a\u0647","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6425:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"Hoje","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"Por favor forne\xe7a data valida ","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"no","Cancel":"Cancelar","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"Novo evento","You don\'t have access to create an event in the current selections":"","Save":"Salvar","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"Erros","Feedback":"Retroinformac\xe3o","Indicators":"Indicadores","Warnings":"","search group result could not be retrieved":"","Complete":"Completo","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"Ordenar","No events to display":"","Data for offline list not present":"","Close":"Fechar","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"para","From":"A partir de","To":"At\xe9","This week":"","This month":"","This Year":"","Last week":"\xdaltima semana","Last month":"\xdaltimo m\xeas","Last 3 months":"\xdaltimos tr\xeas meses","Custom range":"","Max":"M\xe1x","Min":"M\xednimo","Contains text":"","Yes":"Sim","mm/dd/yyyy":"","Years":"Anos","Months":"Meses","Days":"Dias","Uploading file":"","selected":"Seleccionado","Delete":"Apagar","Select file":"Selecionar o ficheiro","No":"N\xe3o","Uploading image":"","Select image":"","Search":"","Clear":"Limpar","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"Colunas a serem mostradas na tabela","Column":"Coluna","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"Novo","Find":"Encontrar","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"Seleccione","Program":"Programa","No programs available.":"","Show all":"Mostrar tudo","Selected program":"","Some programs are being filtered.":"","Select program":"Selecionar o programa","Selected":"","Online":"Ligado","Offline":"Desligado","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6426:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"Hoje","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"Cancelar","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"","You don\'t have access to create an event in the current selections":"","Save":"Salvar","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"","Feedback":"Retroinformac\xe3o","Indicators":"Indicadores","Warnings":"","search group result could not be retrieved":"","Complete":"Completo","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"Ordenar","No events to display":"","Data for offline list not present":"","Close":"Fechar","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"para","From":"","To":"","This week":"","This month":"","This Year":"","Last week":"\xdaltima semana","Last month":"M\xeas passado","Last 3 months":"\xdaltimos 3 meses","Custom range":"","Max":"M\xe1x","Min":"Min","Contains text":"","Yes":"Sim","mm/dd/yyyy":"","Years":"Anos","Months":"Meses","Days":"","Uploading file":"","selected":"","Delete":"Apagar","Select file":"","No":"nenhum","Uploading image":"","Select image":"","Search":"","Clear":"Limpar","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"Coluna","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"Novo","Find":"Encontrar","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"Seleccione","Program":"Programa","No programs available.":"","Show all":"","Selected program":"","Some programs are being filtered.":"","Select program":"Seleccione Programa","Selected":"","Online":"Ligado","Offline":"Desligado","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6427:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 1 \u0438\u043b\u0438 \u0431\u043e\u043b\u0435\u0435 \u0434\u0430\u0442...","Choose a date...":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443...","Today":"\u0421\u0435\u0433\u043e\u0434\u043d\u044f","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0443\u044e \u0434\u0430\u0442\u0443","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"\u0432","Cancel":"\u041e\u0442\u043c\u0435\u043d\u0430","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u044e \u0432","This is not an event program or the metadata is corrupt. See log for details.":"\u042d\u0442\u043e \u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0421\u043e\u0431\u044b\u0442\u0438\u0435 \u0438\u043b\u0438 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0441\u043f\u043e\u0440\u0447\u0435\u043d\u044b. \u0421\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0434\u0435\u0442\u0430\u043b\u0438 \u0432 \u043b\u043e\u0433-\u0444\u0430\u0439\u043b\u0435","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u0443\u044e","Save and exit":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u0432\u044b\u0439\u0442\u0438","Finish":"","No write access":"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u0440\u0430\u0432\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u044c ","Switch to form view":"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u044c \u0432\u0438\u0434 \u043d\u0430 \u0424\u043e\u0440\u043c\u044b","Switch to row view":"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 ","events added":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u044f","No events added":"\u041d\u0435\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435","You don\'t have access to create an event in the current selections":"","Save":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u041e\u0448\u0438\u0431\u043a\u0438","Feedback":"\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c","Indicators":"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u044b","Warnings":"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f","search group result could not be retrieved":"","Complete":"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0439","Warnings found":"\u0418\u043c\u0435\u044e\u0442\u0441\u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f","Abort":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","No events to display":"\u041d\u0435\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","Data for offline list not present":"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0434\u043b\u044f \u043e\u0444\u043b\u0430\u0439\u043d \u0441\u043f\u0438\u0441\u043a\u0430 ","Close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u041f\u043e","From":"\u041e\u0442","To":"\u0414\u043e","This week":"","This month":"","This Year":"","Last week":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043d\u0435\u0434\u0435\u043b\u044f","Last month":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446","Last 3 months":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 3 \u043c\u0435\u0441\u044f\u0446\u0430","Custom range":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b","Max":"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c","Min":"\u041c\u0438\u043d\u0438\u043c\u0443\u043c","Contains text":"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0442\u0435\u043a\u0441\u0442","Yes":"\u0414\u0430","mm/dd/yyyy":"\u043c\u043c/\u0434\u0434/\u0433\u0433\u0433\u0433","Years":"\u0413\u043e\u0434\u044b","Months":"\u041c\u0435\u0441\u044f\u0446\u044b","Days":"\u0414\u043d\u0438","Uploading file":"\u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0444\u0430\u0439\u043b\u0430","selected":"\u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439","Delete":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","Select file":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b","No":"\u041d\u0435\u0442","Uploading image":"\u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","Select image":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","Search":"","Clear":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c","No results":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043d\u0435\u0442","start typing to search":"","suggestions could not be retrieved":"","No items to display":"\u041d\u0435\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","Select columns":"","Columns to show in table":"\u0421\u0442\u043e\u043b\u0431\u044b, \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0430 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435","Column":"\u0421\u0442\u043e\u043b\u0431\u0435\u0446","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"\u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e","less than or equal to":"\u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e","More filters":"\u0415\u0449\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b","Rows per page":"\u0421\u0442\u0440\u043e\u043a \u0432 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435","Could not get organisation unit":"\u041d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u041e\u0440\u0433.\u0435\u0434\u0438\u043d\u0438\u0446\u0443","Program doesn\'t exist":"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442","Selected program is invalid for selected registering unit":"","New":"\u041d\u043e\u0432\u044b\u0439","Find":"\u041d\u0430\u0439\u0442\u0438","Clear selections":"","Selected registering unit":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e-\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440","Start Again":"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e","Are you sure? All unsaved data will be lost.":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b? \u0412\u0441\u0435 \u043d\u0435\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0443\u0442\u0435\u0440\u044f\u043d\u044b.","Accept":"","Registering Organisation Unit":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0435\u0434\u0438\u043d\u0438\u0446\u044b","Select":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c","Program":"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430","No programs available.":"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c","Show all":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435","Selected program":"","Some programs are being filtered.":"\u0424\u0438\u043b\u044c\u0442\u0440\u0443\u044e\u0442\u0441\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b ","Select program":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443","Selected":"","Online":"\u041e\u043d\u043b\u0430\u0439\u043d","Offline":"\u041e\u0444\u0444\u043b\u0430\u0439\u043d","Syncing":"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u044e...","Add comment":"","You dont have access to write comments":"","Write comment":"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430. \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442?","Event could not be loaded":"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e","Organisation unit could not be loaded":"\u041d\u0435 \u043c\u043e\u0433\u0443 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u043e\u043d\u043d\u0443\u044e \u0435\u0434\u0438\u043d\u0438\u0446\u0443","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0421\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0432 \u043b\u043e\u0433-\u0444\u0430\u0439\u043b\u0435","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f","Could not save event. See log for details":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435. \u0421\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0434\u0435\u0442\u0430\u043b\u0438 \u0432 \u043b\u043e\u0433-\u0444\u0430\u0439\u043b\u0435","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6428:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"Annullera","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"Ny h\xe4ndelse","You don\'t have access to create an event in the current selections":"","Save":"Spara","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"","Feedback":"\xc5terkoppling","Indicators":"indikatorer","Warnings":"","search group result could not be retrieved":"","Complete":"F\xe4rdigt","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"","No events to display":"","Data for offline list not present":"","Close":"St\xe4nga","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"","From":"","To":"","This week":"","This month":"","This Year":"","Last week":"F\xf6rra veckan","Last month":"F\xf6rra m\xe5naden","Last 3 months":"Senaste 3 m\xe5naderna","Custom range":"","Max":"max","Min":"min","Contains text":"","Yes":"Ja","mm/dd/yyyy":"","Years":"\xc5r","Months":"M\xe5nader","Days":"Dagar","Uploading file":"","selected":"","Delete":"Radera","Select file":"","No":"Nej","Uploading image":"","Select image":"","Search":"","Clear":"Klar","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"Ny","Find":"Hitta","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"Markera","Program":"Program","No programs available.":"","Show all":"","Selected program":"","Some programs are being filtered.":"","Select program":"V\xe4lj program","Selected":"","Online":"Uppkopplad","Offline":"Off-line","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6429:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"Kansela","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"","You don\'t have access to create an event in the current selections":"","Save":"Rai","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"","Feedback":"Feedback","Indicators":"Indikadores","Warnings":"","search group result could not be retrieved":"","Complete":"Kompletu","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"","No events to display":"","Data for offline list not present":"","Close":"Taka","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"b\xe1","From":"","To":"","This week":"","This month":"","This Year":"","Last week":"Semana kotuk","Last month":"Fulan kotuk","Last 3 months":"Fulan 3 ikus","Custom range":"","Max":"Max","Min":"Min","Contains text":"","Yes":"Sim","mm/dd/yyyy":"","Years":"Tinan","Months":"Fulan","Days":"","Uploading file":"","selected":"","Delete":"Soe","Select file":"","No":"Lae","Uploading image":"","Select image":"","Search":"","Clear":"Ham\xf3s","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"Koluna","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"Foun","Find":"Buka","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"Selesiona","Program":"","No programs available.":"","Show all":"","Selected program":"","Some programs are being filtered.":"","Select program":"","Selected":"","Online":"Online","Offline":"Offline","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6430:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"\u0418\u043c\u0440\u04ef\u0437","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"\u0411\u0435\u043a\u043e\u0440 \u043a\u0430\u0440\u0434\u0430\u043d","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"","You don\'t have access to create an event in the current selections":"","Save":"\u0417\u0430\u0445\u0438\u0440\u0430 \u043a\u0430\u0440\u0434\u0430\u043d","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"","Feedback":"\u0418\u0437\u04b3\u043e\u0440\u0438 \u043d\u0430\u0437\u0430\u0440","Indicators":"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u04b3\u043e","Warnings":"","search group result could not be retrieved":"","Complete":"\u0410\u043d\u04b7\u043e\u043c \u0451\u0444\u0442","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"\u04b6\u0443\u0434\u043e\u043a\u0443\u043d\u04e3","No events to display":"","Data for offline list not present":"","Close":"\u041f\u04ef\u0448\u0438\u0434\u0430\u043d","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u0411\u0430","From":"","To":"","This week":"","This month":"","This Year":"","Last week":"\u04b2\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430","Last month":"\u041c\u043e\u04b3\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430","Last 3 months":"3 \u043c\u043e\u04b3\u0438 \u043e\u0445\u0438\u0440","Custom range":"","Max":"\u041c\u0430\u043a\u0441","Min":"\u041c\u0438\u043d","Contains text":"","Yes":"\u04b2\u0430","mm/dd/yyyy":"","Years":"\u0421\u043e\u043b\u04b3\u043e","Months":"\u041c\u043e\u04b3\u04b3\u043e","Days":"","Uploading file":"","selected":"","Delete":"\u041d\u0435\u0441\u0442 \u043a\u0430\u0440\u0434\u0430\u043d","Select file":"","No":"\u041d\u0435","Uploading image":"","Select image":"","Search":"","Clear":"\u041f\u043e\u043a \u043a\u0430\u0440\u0434\u0430\u043d","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"\u0421\u0443\u0442\u0443\u043d","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"\u041d\u0430\u0432","Find":"\u0401\u0444\u0442\u0430\u043d","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"\u0418\u043d\u0442\u0438\u0445\u043e\u0431 \u043a\u0443\u043d\u0435\u0434","Program":"\u0411\u0430\u0440\u043d\u043e\u043c\u0430","No programs available.":"","Show all":"","Selected program":"","Some programs are being filtered.":"","Select program":"\u0418\u043d\u0442\u0438\u0445\u043e\u0431\u0438 \u0431\u0430\u0440\u043d\u043e\u043c\u0430","Selected":"","Online":"\u041e\u043d\u043b\u0430\u0439\u043d","Offline":"\u041e\u0444\u043b\u0430\u0439\u043d","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6431:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"","Cancel":"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u041d\u043e\u0432\u0430 \u043f\u043e\u0434\u0456\u044f","You don\'t have access to create an event in the current selections":"","Save":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u041f\u043e\u043c\u0438\u043b\u043a\u0438","Feedback":"\u0412\u0456\u0434\u0433\u0443\u043a","Indicators":"\u041f\u043e\u043a\u0430\u0437\u043d\u0438\u043a\u0438","Warnings":"","search group result could not be retrieved":"","Complete":"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0435","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"","No events to display":"","Data for offline list not present":"","Close":"\u0417\u0430\u043a\u0440\u0438\u0442\u0438","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u0434\u043e","From":"\u0412\u0456\u0434","To":"\u0414\u043e","This week":"","This month":"","This Year":"","Last week":"\u041c\u0438\u043d\u0443\u043b\u0438\u0439 \u0442\u0438\u0436\u0434\u0435\u043d\u044c","Last month":"\u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u043c\u0456\u0441\u044f\u0446\u044c","Last 3 months":"\u041e\u0441\u0442\u0430\u043d\u043d\u0456 3 \u043c\u0456\u0441\u044f\u0446\u0456","Custom range":"","Max":"\u041c\u0430\u043a\u0441","Min":"\u041c\u0456\u043d","Contains text":"","Yes":"\u0422\u0430\u043a","mm/dd/yyyy":"","Years":"\u0420\u043e\u043a\u0438","Months":"\u041c\u0456\u0441\u044f\u0446\u0456","Days":"\u0414\u043d\u0456","Uploading file":"","selected":"","Delete":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438","Select file":"","No":"\u041d\u0456","Uploading image":"","Select image":"","Search":"","Clear":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"\u0421\u0442\u043e\u0432\u043f\u0447\u0438\u043a","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"\u041d\u043e\u0432\u0435","Find":"\u0417\u043d\u0430\u0439\u0442\u0438","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"\u041e\u0431\u0440\u0430\u0442\u0438","Program":"Program","No programs available.":"","Show all":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0432\u0441\u0435","Selected program":"","Some programs are being filtered.":"","Select program":"\u041e\u0431\u0440\u0430\u0442\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0443","Selected":"","Online":"\u041e\u043d\u043b\u0430\u0439\u043d","Offline":"\u041e\u0444\u043b\u0430\u0439\u043d","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6432:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"\u0622\u062c","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"\u0627\u0646\u062f\u0631","Cancel":"\u0645\u0646\u0633\u0648\u062e","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"","Save and exit":"","Finish":"","No write access":"","Switch to form view":"","Switch to row view":"","events added":"","No events added":"","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u0646\u0626\u06cc \u062a\u0642\u0631\u06cc\u0628","You don\'t have access to create an event in the current selections":"","Save":"\u0645\u062d\u0641\u0648\u0638","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u063a\u0644\u0637\u06cc\u0627\u06ba","Feedback":"\u0631\u0627\u0626\u06d2","Indicators":"\u0627\u0634\u0627\u0631\u06d2","Warnings":"","search group result could not be retrieved":"","Complete":"\u0645\u06a9\u0645\u0644","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"\u062a\u0631\u062a\u06cc\u0628 \u062f\u06cc\u06ba","No events to display":"","Data for offline list not present":"","Close":"\u0628\u0646\u062f","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"","From":"\u0633\u06d2","To":"\u06a9\u0631\u0646\u06d2 \u06a9\u06d2 \u0644\u0626\u06d2","This week":"","This month":"","This Year":"","Last week":"\u0627\u0653\u062e\u0631\u06cc \u06c1\u0641\u062a\u06c1","Last month":"\u0627\u0653\u062e\u0631\u06cc \u0645\u0627\u06c1","Last 3 months":"\u0627\u0653\u062e\u0631\u06cc \u06f3 \u0645\u0627\u06c1","Custom range":"","Max":"\u0632\u06cc\u0627\u062f\u06c1 \u0633\u06d2 \u0632\u06cc\u0627\u062f\u06c1","Min":"\u06a9\u0645 \u0633\u06d2 \u06a9\u0645","Contains text":"","Yes":"\u06c1\u0627\u06ba","mm/dd/yyyy":"","Years":"\u0633\u0627\u0644","Months":"\u0645\u06c1\u06cc\u0646\u06d2","Days":"\u062f\u0646","Uploading file":"","selected":"\u0645\u0646\u062a\u062e\u0628 \u0634\u062f\u06c1","Delete":"\u062d\u0630\u0641","Select file":"","No":"\u0646\u06c1\u06cc\u06ba","Uploading image":"","Select image":"","Search":"","Clear":"\u06a9\u0644\u06cc\u0626\u0631","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Select columns":"","Columns to show in table":"","Column":"\u06a9\u0627\u0644\u0645","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Rows per page":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","New":"\u0646\u06cc\u0627","Find":"\u062a\u0644\u0627\u0634","Clear selections":"","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"","Registering Organisation Unit":"","Select":"\u0645\u0646\u062a\u062e\u0628 \u06a9\u0631\u06cc\u06ba","Program":"\u067e\u0631\u0648\u06af\u0631\u0627\u0645","No programs available.":"","Show all":"\u0633\u0627\u0631\u06d2 \u062f\u06a9\u06be\u0627\u0648","Selected program":"","Some programs are being filtered.":"","Select program":"\u067e\u0631\u0648\u06af\u0631\u0627\u0645 \u0645\u0646\u062a\u062e\u0628 \u06a9\u0631\u06cc\u06ba","Selected":"","Online":"\u0627\u0653\u0646 \u0644\u0627\u0626\u0646","Offline":"\u0627\u0653\u0641 \u0644\u0627\u0626\u0646","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6433:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"\u0411\u0438\u0440 \u0451\u043a\u0438 \u0431\u0438\u0440 \u043d\u0435\u0447\u0430 \u0441\u0430\u043d\u0430\u043b\u0430\u0440\u043d\u0438 \u0442\u0430\u043d\u043b\u0430\u043d\u0433...","Choose a date...":"\u0421\u0430\u043d\u0430\u043d\u0438 \u0442\u0430\u043d\u043b\u0430\u043d\u0433 ...","Today":"\u0431\u0443\u0433\u0443\u043d","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"\u0418\u043b\u0442\u0438\u043c\u043e\u0441, \u0442\u045e\u0493\u0440\u0438 \u0441\u0430\u043d\u0430\u043d\u0438 \u043a\u045e\u0440\u0441\u0430\u0442\u0438\u043d\u0433","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"\u0438\u0447\u0438\u0434\u0430","Cancel":"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"...\u0434\u0430 \u0441\u0430\u049b\u043b\u0430\u0448","This is not an event program or the metadata is corrupt. See log for details.":"\u0411\u0443 \u04b3\u043e\u0434\u0438\u0441\u0430/\u0442\u0430\u0434\u0431\u0438\u0440 \u0434\u0430\u0441\u0442\u0443\u0440\u0438 \u044d\u043c\u0430\u0441 \u0451\u043a\u0438 \u043c\u0435\u0442\u0430\u043c\u0430\u044a\u043b\u0443\u043c\u043e\u0442\u043b\u0430\u0440 \u0431\u0443\u0437\u0438\u043b\u0433\u0430\u043d. \u0422\u0430\u0444\u0441\u0438\u043b\u043e\u0442\u043b\u0430\u0440 \u0443\u0447\u0443\u043d \u0436\u0443\u0440\u043d\u0430\u043b\u0433\u0430 \u049b\u0430\u0440\u0430\u043d\u0433.","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"\u0421\u0430\u049b\u043b\u0430\u0448 \u0432\u0430 \u0431\u043e\u0448\u049b\u0430\u0441\u0438\u043d\u0438 \u049b\u045e\u0448\u0438\u0448","Save and exit":"\u0421\u0430\u049b\u043b\u0430\u0448 \u0432\u0430 \u0447\u0438\u049b\u0438\u0448","Finish":"","No write access":"\u0401\u0437\u0443\u0432 \u043a\u0438\u0440\u0438\u0442\u0438\u0448 \u0443\u0447\u0443\u043d \u0440\u0443\u0445\u0441\u0430\u0442 \u0439\u045e\u049b","Switch to form view":"\u0428\u0430\u043a\u043b \u043a\u045e\u0440\u0438\u043d\u0438\u0448\u0438\u0433\u0430 \u045e\u0442\u0438\u0448","Switch to row view":"\u0416\u0430\u0434\u0432\u0430\u043b \u043a\u045e\u0440\u0438\u043d\u0438\u0448\u0438\u0433\u0430 \u045e\u0442\u0438\u0448","events added":"\u04b3\u043e\u0434\u0438\u0441\u0430/\u0442\u0430\u0434\u0431\u0438\u0440\u043b\u0430\u0440 \u049b\u045e\u0448\u0438\u043b\u0434\u0438","No events added":"\u04b2\u0435\u0447 \u049b\u0430\u043d\u0434\u0430\u0439 \u04b3\u043e\u0434\u0438\u0441\u0430/\u0442\u0430\u0434\u0431\u0438\u0440 \u049b\u045e\u0448\u0438\u043b\u043c\u0430\u0433\u0430\u043d","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u042f\u043d\u0433\u0438 \u04b3\u043e\u0434\u0438\u0441\u0430","You don\'t have access to create an event in the current selections":"","Save":"\u0421\u0430\u049b\u043b\u0430\u0448","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u0425\u0430\u0442\u043e\u043b\u0438\u043a\u043b\u0430\u0440","Feedback":"\u049a\u0430\u0439\u0442\u0430 \u0430\u043b\u043e\u049b\u0430","Indicators":"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u043b\u0430\u0440","Warnings":"\u041e\u0433\u043e\u04b3\u043b\u0430\u043d\u0442\u0438\u0440\u0438\u0448","search group result could not be retrieved":"","Complete":"\u0422\u045e\u043b\u0434\u0438\u0440\u0438\u0448","Warnings found":"\u041e\u0433\u043e\u04b3\u043b\u0430\u043d\u0442\u0438\u0440\u0438\u0448\u043b\u0430\u0440 \u0442\u043e\u043f\u0438\u043b\u0434\u0438","Abort":"\u0410\u0431\u043e\u0440\u0442","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"\u0421\u0430\u0440\u0430\u043b\u0430\u0448","No events to display":"\u041a\u045e\u0440\u0441\u0430\u0442\u0438\u043b\u0430\u0434\u0438\u0433\u0430\u043d \u04b3\u0435\u0447 \u049b\u0430\u043d\u0434\u0430\u0439 \u04b3\u043e\u0434\u0438\u0441\u0430/\u0442\u0430\u0434\u0431\u0438\u0440 \u0439\u045e\u049b","Data for offline list not present":"\u041e\u0444\u0444\u043b\u0430\u0439\u043d \u0440\u045e\u0439\u0445\u0430\u0442 \u0443\u0447\u0443\u043d \u043c\u0430\u044a\u043b\u0443\u043c\u043e\u0442\u043b\u0430\u0440 \u043c\u0430\u0432\u0436\u0443\u0434 \u044d\u043c\u0430\u0441","Close":"\u0401\u043f\u0438\u0448","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u0433\u0430","From":"\u0414\u0430\u043d","To":"\u041a\u0438\u043c\u0433\u0430","This week":"","This month":"","This Year":"","Last week":"\u041e\u0445\u0438\u0440\u0433\u0438 \u04b3\u0430\u0444\u0442\u0430","Last month":"\u041e\u0445\u0438\u0440\u0433\u0438 \u043e\u0439","Last 3 months":"\u041e\u0445\u0438\u0440\u0433\u0438 3 \u043e\u0439","Custom range":"\u041c\u0430\u0445\u0441\u0443\u0441 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d","Max":"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c","Min":"\u041c\u0438\u043d\u0438\u043c\u0443\u043c","Contains text":"\u041c\u0430\u0442\u043d\u043d\u0438 \u045e\u0437 \u0438\u0447\u0438\u0433\u0430 \u043e\u043b\u0430\u0434\u0438","Yes":"\u04b2\u0430","mm/dd/yyyy":"\u043a\u0443\u043d/\u043e\u0439/\u0439\u0438\u043b","Years":"\u0419\u0438\u043b\u043b\u0430\u0440","Months":"\u041e\u0439\u043b\u0430\u0440","Days":"\u041a\u0443\u043d\u043b\u0430\u0440","Uploading file":"\u0424\u0430\u0439\u043b \u044e\u043a\u043b\u0430\u043d\u043c\u043e\u049b\u0434\u0430","selected":"\u0442\u0430\u043d\u043b\u0430\u043d\u0433\u0430\u043d","Delete":"\u040e\u0447\u0438\u0440\u0438\u0431 \u0442\u0430\u0448\u043b\u0430\u0448","Select file":"\u0424\u0430\u0439\u043b\u043d\u0438 \u0442\u0430\u043d\u043b\u0430\u0448","No":"\u0419\u045e\u049b","Uploading image":"\u0420\u0430\u0441\u043c \u044e\u043a\u043b\u0430\u043d\u043c\u043e\u049b\u0434\u0430","Select image":"\u0420\u0430\u0441\u043c\u043d\u0438 \u0442\u0430\u043d\u043b\u0430\u043d\u0433","Search":"","Clear":"\u0422\u043e\u0437\u0430\u043b\u0430\u0448","No results":"\u041d\u0430\u0442\u0438\u0436\u0430 \u0439\u045e\u049b","start typing to search":"","suggestions could not be retrieved":"","No items to display":"\u041a\u045e\u0440\u0441\u0430\u0442\u0438\u043b\u0430\u0434\u0438\u0433\u0430\u043d \u0430\u0445\u0431\u043e\u0440\u043e\u0442 \u0439\u045e\u049b","Select columns":"","Columns to show in table":"\u0416\u0430\u0434\u0432\u0430\u043b\u0434\u0430 \u043a\u045e\u0440\u0441\u0430\u0442\u0438\u043b\u0430\u0434\u0438\u0433\u0430\u043d \u0443\u0441\u0442\u0443\u043d\u043b\u0430\u0440","Column":"\u0423\u0441\u0442\u0443\u043d","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"\u0434\u0430\u043d \u043a\u0430\u0442\u0442\u0430 \u0451\u043a\u0438 \u0442\u0435\u043d\u0433","less than or equal to":"\u0434\u0430\u043d \u043a\u0430\u043c \u0451\u043a\u0438 \u0442\u0435\u043d\u0433","More filters":"\u041a\u045e\u043f\u0440\u043e\u049b \u0444\u0438\u043b\u044c\u0442\u0440","Rows per page":"\u0421\u0430\u04b3\u0438\u0444\u0430\u0434\u0430 \u049b\u0430\u0442\u043e\u0440\u043b\u0430\u0440","Could not get organisation unit":"\u0422\u0430\u0448\u043a\u0438\u043b\u0438\u0439 \u0431\u045e\u043b\u0438\u043c\u043d\u0438 \u043e\u043b\u0438\u0431 \u0431\u045e\u043b\u043c\u0430\u0434\u0438","Program doesn\'t exist":"\u0414\u0430\u0441\u0442\u0443\u0440 \u043c\u0430\u0432\u0436\u0443\u0434 \u044d\u043c\u0430\u0441","Selected program is invalid for selected registering unit":"","New":"\u042f\u043d\u0433\u0438","Find":"\u0422\u043e\u043f\u0438\u043d\u0433","Clear selections":"","Selected registering unit":"\u0411\u045e\u043b\u0438\u043c\u043d\u0438 \u0442\u0430\u043d\u043b\u0430\u043d\u0433\u0430\u043d \u0440\u045e\u0439\u0445\u0430\u0442\u0433\u0430 \u043e\u043b\u0438\u0448","Start Again":"\u049a\u0430\u0439\u0442\u0430 \u0431\u043e\u0448\u043b\u0430\u043d\u0433","Are you sure? All unsaved data will be lost.":"\u0418\u0448\u043e\u043d\u0447\u0438\u043d\u0433\u0438\u0437 \u043a\u043e\u043c\u0438\u043b\u043c\u0438? \u0411\u0430\u0440\u0447\u0430 \u0441\u0430\u049b\u043b\u0430\u043d\u043c\u0430\u0433\u0430\u043d \u043c\u0430\u044a\u043b\u0443\u043c\u043e\u0442\u043b\u0430\u0440 \u0439\u045e\u049b\u043e\u043b\u0430\u0434\u0438.","Accept":"","Registering Organisation Unit":"\u0422\u0430\u043d\u043b\u0430\u043d\u0433\u0430\u043d \u0431\u045e\u043b\u0438\u043c \u0440\u045e\u0439\u0445\u0430\u0442\u0434\u0430\u043d \u045e\u0442\u043a\u0430\u0437\u0438\u043b\u043c\u043e\u049b\u0434\u0430","Select":"\u0422\u0430\u043d\u043b\u0430\u043d\u0433","Program":"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430","No programs available.":"\u04b2\u0435\u0447 \u049b\u0430\u043d\u0434\u0430\u0439 \u0434\u0430\u0441\u0442\u0443\u0440 \u043c\u0430\u0432\u0436\u0443\u0434 \u044d\u043c\u0430\u0441","Show all":"\u0411\u0430\u0440\u0447\u0430\u0433\u0430 \u043a\u045e\u0440\u0441\u0430\u0442\u0438\u0448","Selected program":"","Some programs are being filtered.":"\u0411\u0430\u044a\u0437\u0438 \u0434\u0430\u0441\u0442\u0443\u0440\u043b\u0430\u0440 \u0444\u0438\u043b\u044c\u0442\u0440\u043b\u0430\u043d\u043c\u043e\u049b\u0434\u0430.","Select program":"\u0414\u0430\u0441\u0442\u0443\u0440\u043d\u0438 \u0442\u0430\u043d\u043b\u0430\u0448","Selected":"","Online":"\u041e\u043d\u043b\u0430\u0439\u043d","Offline":"\u041e\u0444\u0444\u043b\u0430\u0439\u043d","Syncing":"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u043b\u0430\u0448\u043c\u043e\u049b\u0434\u0430","Add comment":"","You dont have access to write comments":"","Write comment":"\u0424\u0438\u043a\u0440 \u0451\u0437\u0438\u043d\u0433","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"\u04b2\u043e\u0434\u0438\u0441\u0430/\u0442\u0430\u0434\u0431\u0438\u0440\u043d\u0438 \u044e\u043a\u043b\u0430\u0431 \u0431\u045e\u043b\u043c\u0430\u0434\u0438. \u0423\u043d\u0438\u043d\u0433 \u043c\u0430\u0432\u0436\u0443\u0434\u043b\u0438\u0433\u0438\u0433\u0430 \u0438\u0448\u043e\u043d\u0447\u0438\u043d\u0433\u0438\u0437 \u043a\u043e\u043c\u0438\u043b\u043c\u0438?","Event could not be loaded":"\u04b2\u043e\u0434\u0438\u0441\u0430/\u0442\u0430\u0434\u0431\u0438\u0440\u043d\u0438 \u044e\u043a\u043b\u0430\u0431 \u0431\u045e\u043b\u043c\u0430\u0434\u0438","Organisation unit could not be loaded":"\u0422\u0430\u0448\u043a\u0438\u043b\u0438\u0439 \u0431\u045e\u043b\u0438\u043c\u043d\u0438 \u044e\u043a\u043b\u0430\u0431 \u0431\u045e\u043b\u043c\u0430\u0434\u0438","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"\u0425\u0430\u0442\u043e\u043b\u0438\u043a \u044e\u0437 \u0431\u0435\u0440\u0434\u0438. \u0422\u0430\u0444\u0441\u0438\u043b\u043e\u0442\u043b\u0430\u0440\u043d\u0438 \u0436\u0443\u0440\u043d\u0430\u043b\u0434\u0430\u043d \u043a\u045e\u0440\u0438\u043d\u0433.","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"\u04b2\u043e\u0434\u0438\u0441\u0430/\u0442\u0430\u0434\u0431\u0438\u0440\u043d\u0438 \u0441\u0430\u049b\u043b\u0430\u0448\u0434\u0430 \u0445\u0430\u0442\u043e","Could not save event. See log for details":"\u04b2\u043e\u0434\u0438\u0441\u0430/\u0442\u0430\u0434\u0431\u0438\u0440 \u0441\u0430\u049b\u043b\u0430\u043d\u043c\u0430\u0434\u0438. \u0422\u0430\u0444\u0441\u0438\u043b\u043e\u0442\u043b\u0430\u0440 \u0443\u0447\u0443\u043d \u0436\u0443\u0440\u043d\u0430\u043b\u0433\u0430 \u049b\u0430\u0440\u0430\u043d\u0433","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6434:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"","Choose a date...":"","Today":"\u0431\u0443\u0433\u0443\u043d","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"\u0422\u0430\u0448\u043a\u0438\u043b\u0438\u0439 \u0431\u045e\u043b\u0438\u043c","Date of enrollment":"","Last updated":"\u041e\u0445\u0438\u0440\u0433\u0438 \u044f\u043d\u0433\u0438\u043b\u0430\u043d\u0433\u0430\u043d","Enrolled":"","Previously enrolled":"","Not enrolled":"","Columns to show in table":"","Column":"\u0423\u0441\u0442\u0443\u043d","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"\u041c\u0430\u0439\u0434\u043e\u043d","Coordinate":"\u041c\u0443\u0432\u043e\u0444\u0438\u049b\u043b\u0430\u0448\u0442\u0438\u0440\u0438\u0448","Enrollment":"\u0420\u045e\u0439\u0445\u0430\u0442\u0433\u0430 \u043e\u043b\u0438\u0448","A future date is not allowed":"","An error has occured. See log for details":"","Cancel":"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448","Unsaved changes":"\u0421\u0430\u049b\u043b\u0430\u043d\u043c\u0430\u0433\u0430\u043d \u045e\u0437\u0433\u0430\u0440\u0442\u0438\u0440\u0438\u0448\u043b\u0430\u0440","Leaving this page will discard the changes you made to this event.":"","Yes, discard":"","No, stay here":"","validation failed":"","Errors":"\u0425\u0430\u0442\u043e\u043b\u0438\u043a\u043b\u0430\u0440","Feedback":"\u049a\u0430\u0439\u0442\u0430 \u0430\u043b\u043e\u049b\u0430","Indicators":"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u043b\u0430\u0440","Warnings":"","search group result could not be retrieved":"","Complete":"\u0411\u0430\u0436\u0430\u0440\u0438\u043b\u0434\u0438","Warnings found":"","Abort":"","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Sort":"","No events to display":"","Data for offline list not present":"","Close":"\u0401\u043f\u0438\u049b","Please select the user":"","Search for user":"","Me":"","Anyone":"","None":"\u0419\u045e\u049b","Select user":"","to":"\u0433\u0430","From":"\u0414\u0430\u043d","To":"\u041a\u0438\u043c\u0433\u0430","This week":"\u0423\u0448\u0431\u0443 \u04b3\u0430\u0444\u0442\u0430","This month":"\u0423\u0448\u0431\u0443 \u043e\u0439","This Year":"","Last week":"\u041e\u0445\u0438\u0440\u0433\u0438 \u04b3\u0430\u0444\u0442\u0430","Last month":"\u041e\u0445\u0438\u0440\u0433\u0438 \u043e\u0439","Last 3 months":"\u041e\u0445\u0438\u0440\u0433\u0438 3 \u043e\u0439","Custom range":"","Max":"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c","Min":"\u041c\u0438\u043d\u0438\u043c\u0443\u043c","Contains text":"","Yes":"\u04b2\u0430","mm/dd/yyyy":"","Years":"\u0419\u0438\u043b\u043b\u0430\u0440","Months":"\u041e\u0439\u043b\u0430\u0440","Days":"\u041a\u0443\u043d\u043b\u0430\u0440","Uploading file":"","selected":"\u0442\u0430\u043d\u043b\u0430\u043d\u0433\u0430\u043d","Delete":"\u040e\u0447\u0438\u0440\u0438\u0448","Select file":"\u0424\u0430\u0439\u043b\u043d\u0438 \u0442\u0430\u043d\u043b\u0430\u0448","No":"\u0419\u045e\u049b","Uploading image":"","Select image":"","Search":"\u0418\u0437\u043b\u0430\u0448","Clear":"\u0410\u043d\u0438\u049b","No results":"","start typing to search":"","suggestions could not be retrieved":"","No items to display":"","Could not get organisation unit":"","Program doesn\'t exist":"","Selected program is invalid for selected registering unit":"","Start again":"","New {{typeName}}":"","New":"\u042f\u043d\u0433\u0438","Find":"\u0422\u043e\u043f\u0438\u043d\u0433","Selected registering unit":"","Start Again":"","Are you sure? All unsaved data will be lost.":"","Accept":"\u049a\u0430\u0431\u0443\u043b \u049b\u0438\u043b\u0438\u043d\u0433","Registering Organisation Unit":"","Select":"\u0422\u0430\u043d\u043b\u0430\u043d\u0433","Selected Program":"","Some programs are being filtered.":"","Show all":"\u0411\u0430\u0440\u0447\u0430\u0433\u0430 \u043a\u045e\u0440\u0441\u0430\u0442\u0438\u0448","Program":"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430","Select program":"\u0414\u0430\u0441\u0442\u0443\u0440\u043d\u0438 \u0442\u0430\u043d\u043b\u0430\u0448","No programs available.":"","Online":"","Offline":"","Syncing":"","Add comment":"","You dont have access to write comments":"","Write comment":"","Basic info":"","Status":"\u0421\u0442\u0430\u0442\u0443\u0441","Comments":"","Please add or cancel comment before saving the event":"","No write access":"","Save":"\u0421\u0430\u049b\u043b\u0430\u0448","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"","Event could not be loaded":"","Organisation unit could not be loaded":"","View event info":"","Delete event":"\u0422\u0430\u0434\u0431\u0438\u0440\u043d\u0438 \u045e\u0447\u0438\u0440\u0438\u043d\u0433","Update":"\u042f\u043d\u0433\u0438\u043b\u0430\u0448","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"","less than or equal to":"","More filters":"","Select columns":"","Download as JSON":"","Download as XML":"","Download as CSV":"CSV \u0441\u0438\u0444\u0430\u0442\u0438\u0434\u0430 \u044e\u043a\u043b\u0430\u043d\u0433","Download with current filters":"","Download data...":"","Rows per page":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"\u0422\u0430\u0441\u0434\u0438\u049b\u043b\u0430\u043d\u0433","Save As view":"","View name":"","Show Less":"","Show All":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Active":"\u0424\u0430\u043e\u043b","Completed":"\u0431\u0430\u0436\u0430\u0440\u0438\u043b\u0434\u0438","Creating a new {{TET}} in {{program}} in {{orgUnit}}":"","Save and add another":"","Save and exit":"","Finish":"","Switch to form view":"","Switch to row view":"","New {{TET}}":"","Working Lists":"","Program with programid {{programId}} isn\'t a tracker program. Enrollments can only be done in tracker programs.":"","Assigned user":"\u0422\u0430\u0432\u0441\u0438\u044f \u044d\u0442\u0438\u043b\u0433\u0430\u043d \u0444\u043e\u0439\u0434\u0430\u043b\u0430\u043d\u0443\u0432\u0447\u0438","Relationships":"\u040e\u0437\u0430\u0440\u043e \u0430\u043b\u043e\u049b\u0430\u043b\u0430\u0440","Assignee":"\u0412\u0430\u043a\u043e\u043b\u0430\u0442 \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d \u0448\u0430\u0445\u0441","Saving to":"","in":"\u0438\u0447\u0438\u0434\u0430","This is not an event program or the metadata is corrupt. See log for details.":"","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","New event":"\u042f\u043d\u0433\u0438 \u04b3\u043e\u0434\u0438\u0441\u0430","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Leaving this page will discard the selections you made for a new relationship":"","events added":"","No events added":"","Select a registering unit and program above to get started":"","Select a program to start reporting":"","Select a registering unit to start reporting":"","Select a category option to start reporting":"","You dont have access to create an event in the current selections":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","Metadata error. see log for details":"","Review duplicates":"","Create {{trackedEntityTypeName}} and link":"","Possible duplicates found":"","No results found":"\u04b2\u0435\u0447 \u049b\u0430\u043d\u0434\u0430\u0439 \u043d\u0430\u0442\u0438\u0436\u0430 \u0442\u043e\u043f\u0438\u043b\u043c\u0430\u0434\u0438","An error occured loading possible duplicates":"","Hide":"\u042f\u0448\u0438\u0440\u0438\u0448","Save as new {{tetName}}":"","Organisation Unit":"\u0422\u0430\u0448\u043a\u0438\u043b\u0438\u0439 \u0411\u045e\u043b\u0438\u043c","Registration":"\u0420\u045e\u0439\u0445\u0430\u0442\u0434\u0430\u043d \u045e\u0442\u0438\u0448","Review Duplicates":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"\u0420\u045e\u0439\u0445\u0430\u0442","Search scope":"","Find results from":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"\u041e\u0440\u049b\u0430\u0433\u0430","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Make a selection to start searching":"","View dashboard":"","View active enrollment":"","Re-enroll":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"\u040e\u0437\u0430\u0440\u043e \u0430\u043b\u043e\u049b\u0430 \u043a\u0438\u0440\u0438\u0442\u0438\u0448","Results found":"","Selected program":"\u0422\u0430\u043d\u043b\u0430\u043d\u0433\u0430\u043d \u0434\u0430\u0441\u0442\u0443\u0440","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","Program not found":"","Program is not a tracker program":"","Profile":"\u041f\u0440\u043e\u0444\u0438\u043b","Error saving event":"","Could not save event. See log for details":"","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"\u0421\u0430\u043d\u0430","Time":"\u0412\u0430\u049b\u0442","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6435:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"Bir yoki bir necha sanalarni tanlang...","Choose a date...":"Sanani tanlang ...","Today":"Bugun","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"Iltimos, to\u02bcg\u02bcri sanani ko\u02bcrsating","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"ichida","Cancel":"Bekor qilish","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"...da saqlash","This is not an event program or the metadata is corrupt. See log for details.":"Bu hodisa/tadbir dasturi emas yoki metama\u02bclumotlar buzilgan. Tafsilotlar uchun jurnalga qarang.","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"Saqlash va boshqasini qo\u02bcshish","Save and exit":"Saqlash va chiqish","Finish":"","No write access":"Yozuv kiritish uchun ruxsat yo\u02bcq","Switch to form view":"Shakl ko\u02bcrinishiga o\u02bctish","Switch to row view":"Jadval ko\u02bcrinishiga o\u02bctish","events added":"hodisa/tadbirlar qo\u02bcshildi","No events added":"Hech qanday hodisa/tadbir qo\u02bcshilmagan","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"Yangi hodisa","You don\'t have access to create an event in the current selections":"","Save":"Saqlash","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"Xatoliklar","Feedback":"Qayta aloqa","Indicators":"Indikatorlar","Warnings":"Ogohlantirishlar","search group result could not be retrieved":"","Complete":"To\u02bcldirish","Warnings found":"Ogohlantirishlar topildi","Abort":"\u0410bort","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"Saralash","No events to display":"Ko\u02bcrsatiladigan hech qanday hodisa/tadbir yo\u02bcq","Data for offline list not present":"Offlayn ro\u02bcyxat uchun ma\u02bclumotlar mavjud emas","Close":"Yopmoq","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"ga","From":"Dan","To":"Kimga","This week":"","This month":"","This Year":"","Last week":"Oxirgi hafta","Last month":"Oxirgi oy","Last 3 months":"Oxirgi 3 oy","Custom range":"Maxsus diapazon","Max":"Maksimum","Min":"Minimum","Contains text":"Matnni o\u02bcz ichiga oladi","Yes":"Ha","mm/dd/yyyy":"kun/oy/yil","Years":"Yillar","Months":"Oylar","Days":"Kunlar","Uploading file":"Fayl yuklanmoqda","selected":"tanlangan","Delete":"O\u02bcchirib tashlash","Select file":"Faylni tanlash","No":"Yo\u02bcq","Uploading image":"Rasm yuklanmoqda","Select image":"Rasmni tanlang","Search":"","Clear":"Tozalash","No results":"Natija yo\u02bcq","start typing to search":"","suggestions could not be retrieved":"","No items to display":"Ko\u02bcrsatiladigan axborot yo\u02bcq","Select columns":"","Columns to show in table":"Jadvalda ko\u02bcrsatiladigan ustunlar","Column":"Ustun","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"dan katta yoki teng","less than or equal to":"dan kam yoki teng","More filters":"Ko\u02bcproq Filtr","Rows per page":"Sahifada qatorlar","Could not get organisation unit":"Tashkiliy bo\u02bclimni olib bo\u02bclmadi","Program doesn\'t exist":"Dastur mavjud emas","Selected program is invalid for selected registering unit":"","New":"Yangi","Find":"Toping","Clear selections":"","Selected registering unit":"Bo\u02bclimni tanlangan ro\u02bcyxatga olish","Start Again":"Qayta boshlang","Are you sure? All unsaved data will be lost.":"Ishonchingiz komilmi? Barcha saqlanmagan ma\u02bclumotlar yo\u02bcqoladi.","Accept":"","Registering Organisation Unit":"Tanlangan bo\u02bclim ro\u02bcyxatdan o\u02bctkazilmoqda","Select":"Tanlang","Program":"Programma","No programs available.":"Hech qanday dastur mavjud emas.","Show all":"Barchaga ko\u02bcrsatish","Selected program":"","Some programs are being filtered.":"Ba\u02bczi dasturlar Filtrlanmoqda.","Select program":"Dasturni tanlash","Selected":"","Online":"Onlayn","Offline":"Offlayn","Syncing":"Sinxronlashmoqda","Add comment":"","You dont have access to write comments":"","Write comment":"Fikr yozing","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"Hodisa/tadbirni yuklab bo\u02bclmadi. Uning mavjudligiga ishonchingiz komilmi?","Event could not be loaded":"Hodisa/tadbirni yuklab bo\u02bclmadi","Organisation unit could not be loaded":"Tashkiliy bo\u02bclimni yuklab bo\u02bclmadi","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"Xatolik yuz berdi. Tafsilotlarni jurnaldan ko\u02bcring.","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"Hodisa/tadbirni saqlashda xato","Could not save event. See log for details":"Hodisa/tadbir saqlanmadi. Tafsilotlar uchun jurnalga qarang","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6436:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"Ch\u1ecdn m\u1ed9t ho\u1eb7c nhi\u1ec1u ng\xe0y...","Choose a date...":"Ch\u1ecdn m\u1ed9t ng\xe0y...","Today":"H\xf4m Nay","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"Xin vui l\xf2ng cung c\u1ea5p ng\xe0y \u0111\xfang","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"trong","Cancel":"H\u1ee7y","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"\u0110ang l\u01b0u v\xe0o","This is not an event program or the metadata is corrupt. See log for details.":"\u0110\xe2y kh\xf4ng ph\u1ea3i l\xe0 ch\u01b0\u01a1ng tr\xecnh s\u1ef1 ki\u1ec7n ho\u1eb7c d\u1eef li\u1ec7u mi\xeau t\u1ea3 b\u1ecb h\u1ecfng. Xem log \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft.","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"L\u01b0u v\xe0 th\xeam s\u1ef1 ki\u1ec7n kh\xe1c","Save and exit":"L\u01b0u v\xe0 \u0111\xf3ng","Finish":"","No write access":"Kh\xf4ng c\xf3 quy\u1ec1n vi\u1ebft","Switch to form view":"Chuy\u1ec3n sang xem bi\u1ec3u nh\u1eadp","Switch to row view":"Chuy\u1ec3n sang xem d\xf2ng","events added":"s\u1ef1 ki\u1ec7n \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam","No events added":"Kh\xf4ng c\xf3 s\u1ef1 ki\u1ec7n \u0111\u01b0\u1ee3c th\xeam","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"S\u1ef1 ki\u1ec7n m\u1edbi","You don\'t have access to create an event in the current selections":"","Save":"L\u01b0u l\u1ea1i","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"L\u1ed7i","Feedback":"Ph\u1ea3n h\u1ed3i","Indicators":"C\xe1c ch\u1ec9 s\u1ed1","Warnings":"C\u1ea3nh b\xe1o","search group result could not be retrieved":"","Complete":"Ho\xe0n t\u1ea5t","Warnings found":"C\u1ea3nh b\xe1o \u0111\xe3 t\xecm th\u1ea5y","Abort":"H\u1ee7y b\u1ecf","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"S\u1eafp x\u1ebfp","No events to display":"Kh\xf4ng c\xf3 s\u1ef1 ki\u1ec7n \u0111\u1ec3 hi\u1ec3n th\u1ecb","Data for offline list not present":"D\u1eef li\u1ec7u cho danh s\xe1ch ngo\u1ea1i tuy\u1ebfn kh\xf4ng hi\u1ec3n th\u1ecb","Close":"\u0110\xf3ng l\u1ea1i","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"th\xe0nh","From":"T\u1eeb","To":"\u0110\u1ebfn","This week":"","This month":"","This Year":"","Last week":"Tu\u1ea7n tr\u01b0\u1edbc","Last month":"Th\xe1ng tr\u01b0\u1edbc","Last 3 months":"3 th\xe1ng tr\u01b0\u1edbc","Custom range":"T\xf9y ch\u1ec9nh kho\u1ea3n","Max":"L\u1edbn nh\u1ea5t","Min":"Nh\u1ecf nh\u1ea5t","Contains text":"Ch\u1ee9a v\u0103n b\u1ea3n","Yes":"C\xf3","mm/dd/yyyy":"mm / dd / yyyy","Years":"N\u0103m","Months":"Th\xe1ng","Days":"Ng\xe0y","Uploading file":"\u0110ang t\u1ea3i t\u1eadp tin l\xean","selected":"\u0111\xe3 ch\u1ecdn","Delete":"X\xf3a","Select file":"Ch\u1ecdn t\u1eadp tin","No":"Sai","Uploading image":"\u0110ang t\u1ea3i \u1ea3nh l\xean","Select image":"Ch\u1ecdn \u1ea3nh","Search":"","Clear":"X\xf3a","No results":"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3","start typing to search":"","suggestions could not be retrieved":"","No items to display":"Kh\xf4ng c\xf3 m\u1ee5c \u0111\u1ec3 hi\u1ec3n th\u1ecb","Select columns":"","Columns to show in table":"C\u1ed9t hi\u1ec3n th\u1ecb trong b\u1ea3ng","Column":"C\u1ed9t","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"l\u1edbn h\u01a1n ho\u1eb7c b\u1eb1ng","less than or equal to":"nh\u1ecf h\u01a1n ho\u1eb7c b\u1eb1ng","More filters":"Th\xeam b\u1ed9 l\u1ecdc","Rows per page":"D\xf2ng m\u1ed7i trang","Could not get organisation unit":"Kh\xf4ng th\u1ec3 l\u1ea5y \u0111\u01a1n v\u1ecb","Program doesn\'t exist":"Ch\u01b0\u01a1ng tr\xecnh kh\xf4ng t\u1ed3n t\u1ea1i","Selected program is invalid for selected registering unit":"","New":"M\u1edbi","Find":"T\xecm ki\u1ebfm","Clear selections":"","Selected registering unit":"\u0110\u01a1n v\u1ecb \u0111\u0103ng k\xfd \u0111\xe3 ch\u1ecdn","Start Again":"Kh\u1edfi \u0110\u1ea7u L\u1ea1i","Are you sure? All unsaved data will be lost.":"B\u1ea1n c\xf3 ch\u1eafc kh\xf4ng? T\u1ea5t c\u1ea3 d\u1eef li\u1ec7u ch\u01b0a \u0111\u01b0\u1ee3c l\u01b0u s\u1ebd b\u1ecb m\u1ea5t.","Accept":"","Registering Organisation Unit":"\u0110\u01a1n V\u1ecb \u0110\u0103ng K\xfd","Select":"Ch\u1ecdn","Program":"Ch\u01b0\u01a1ng tr\xecnh","No programs available.":"Kh\xf4ng c\xf3 ch\u01b0\u01a1ng tr\xecnh","Show all":"Hi\u1ec3n th\u1ecb t\u1ea5t c\u1ea3","Selected program":"","Some programs are being filtered.":"Ch\u01b0\u01a1ng tr\xecnh \u0111ang \u0111\u01b0\u1ee3c l\u1ecdc","Select program":"Ch\u1ecdn Ch\u01b0\u01a1ng Tr\xecnh","Selected":"","Online":"Tr\u1ef1c tuy\u1ebfn","Offline":"Ngo\u1ea1i tuy\u1ebfn","Syncing":"\u0110ang \u0111\u1ed3ng b\u1ed9","Add comment":"","You dont have access to write comments":"","Write comment":"Vi\u1ebft b\xecnh lu\u1eadn","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"Kh\xf4ng th\u1ec3 t\u1ea3i s\u1ef1 ki\u1ec7n. B\u1ea1n c\xf3 ch\u1eafc n\xf3 t\u1ed3n t\u1ea1i?","Event could not be loaded":"Kh\xf4ng th\u1ec3 t\u1ea3i s\u1ef1 ki\u1ec7n","Organisation unit could not be loaded":"Kh\xf4ng th\u1ec3 t\u1ea3i \u0111\u01a1n v\u1ecb","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"C\xf3 l\u1ed7i. Xem log \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft.","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"C\xf3 l\u1ed7i khi \u0111ang l\u01b0u s\u1ef1 ki\u1ec7n","Could not save event. See log for details":"Kh\xf4ng th\u1ec3 l\u01b0u s\u1ef1 ki\u1ec7n. Xem log \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6437:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"\u9009\u62e9\u4e00\u4e2a\u6216\u591a\u4e2a\u65e5\u671f","Choose a date...":"\u9009\u62e9\u65e5\u671f","Today":"\u4eca\u5929","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"\u8bf7\u63d0\u4f9b\u6709\u6548\u7684\u65e5\u671f","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":" \u5728","Cancel":"\u53d6\u6d88","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"\u4fdd\u5b58\u5230","This is not an event program or the metadata is corrupt. See log for details.":"\u8fd9\u4e0d\u662f\u4e8b\u4ef6\u9879\u76ee\u6216\u8005\u5143\u6570\u636e\u574f\u4e86\uff0c\u67e5\u770b\u65e5\u5fd7\u8be6\u60c5","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"\u4fdd\u5b58\u5e76\u53e6\u5916\u6dfb\u52a0","Save and exit":"\u4fdd\u5b58\u540e\u9000\u51fa","Finish":"","No write access":"\u65e0\u5199\u6743\u9650","Switch to form view":"\u5207\u6362\u5230\u8868\u5355\u89c6\u56fe","Switch to row view":"\u5207\u6362\u5230\u884c\u89c6\u56fe","events added":"\u4e8b\u4ef6\u5df2\u7ecf\u88ab\u6dfb\u52a0","No events added":"\u6ca1\u6709\u4e8b\u4ef6\u88ab\u6dfb\u52a0","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u65b0\u4e8b\u4ef6","You don\'t have access to create an event in the current selections":"","Save":"\u4fdd\u5b58","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u9519\u8bef","Feedback":"\u53cd\u9988","Indicators":"\u6307\u6807","Warnings":"\u9519\u8bef","search group result could not be retrieved":"","Complete":"\u5b8c\u6210","Warnings found":"\u53d1\u73b0\u8b66\u544a","Abort":"\u5173\u4e8e","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"\u6392\u5e8f","No events to display":"\u65e0\u4e8b\u4ef6\u53ef\u663e\u793a","Data for offline list not present":"\u79bb\u7ebf\u5217\u8868\u6570\u636e\u4e0d\u5728","Close":"\u5173\u95ed","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u5230","From":"\u4ece","To":"\u81f3","This week":"","This month":"","This Year":"","Last week":"\u4e0a\u5468","Last month":"\u4e0a\u6708","Last 3 months":"\u6700\u8fd13\u4e2a\u6708","Custom range":"\u5b9a\u5236\u8303\u56f4","Max":"\u6700\u5927","Min":"\u6700\u5c0f","Contains text":"\u5305\u542b\u6587\u672c","Yes":"\u662f","mm/dd/yyyy":"mm/dd/yyyy","Years":"\u5e74","Months":"\u6708","Days":"\u5929","Uploading file":"\u4e0a\u4f20\u6587\u4ef6","selected":"\u9009\u62e9\u7684","Delete":"\u5220\u9664","Select file":"\u9009\u62e9\u6587\u4ef6","No":"\u5426","Uploading image":"\u4e0a\u4f20\u56fe\u50cf","Select image":"\u9009\u62e9\u56fe\u50cf","Search":"","Clear":"\u6e05\u9664","No results":"\u65e0\u7ed3\u679c","start typing to search":"","suggestions could not be retrieved":"","No items to display":"\u65e0\u6761\u76ee\u53ef\u663e\u793a","Select columns":"","Columns to show in table":"\u8868\u4e2d\u663e\u793a\u7684\u5217","Column":"\u5217","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"\u5927\u4e8e\u7b49\u4e8e","less than or equal to":"\u5c0f\u4e8e\u7b49\u4e8e","More filters":"\u66f4\u591a\u8fc7\u6ee4\u5668","Rows per page":"\u884c\u6bcf\u9875","Could not get organisation unit":"\u4e0d\u80fd\u83b7\u53d6\u673a\u6784","Program doesn\'t exist":"\u9879\u76ee\u4e0d\u5b58\u5728","Selected program is invalid for selected registering unit":"","New":"\u65b0\u5efa","Find":"\u67e5\u8be2","Clear selections":"","Selected registering unit":"\u9009\u62e9\u6ce8\u518c\u7684\u673a\u6784","Start Again":"\u518d\u5f00\u59cb","Are you sure? All unsaved data will be lost.":"\u4f60\u786e\u4fe1\uff1f\u6240\u4ee5\u672a\u4fdd\u5b58\u7684\u6570\u636e\u5c06\u4e22\u5931","Accept":"","Registering Organisation Unit":"\u5728\u6ce8\u518c\u7684\u673a\u6784","Select":"\u9009\u62e9","Program":"\u9879\u76ee","No programs available.":"\u65e0\u53ef\u7528\u9879\u76ee","Show all":"\u663e\u793a\u5168\u90e8","Selected program":"","Some programs are being filtered.":"\u6709\u4e9b\u9879\u76ee\u5df2\u7ecf\u88ab\u8fc7\u6ee4\u4e86","Select program":"\u9009\u62e9\u9879\u76ee","Selected":"","Online":"\u5728\u7ebf","Offline":"\u79bb\u7ebf","Syncing":"\u540c\u6b65","Add comment":"","You dont have access to write comments":"","Write comment":"\u5199\u5907\u6ce8","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"\u4e8b\u4ef6\u4e0d\u80fd\u8f7d\u5165","Event could not be loaded":"\u4e8b\u4ef6\u4e0d\u80fd\u8f7d\u5165","Organisation unit could not be loaded":"\u673a\u6784\u4e0d\u80fd\u8f7d\u5165","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"\u53d1\u751f\u4e00\u4e2a\u9519\u8bef,\u770b\u65e5\u5fd7","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"\u4fdd\u5b58\u65f6\u95f4\u9519\u8bef","Could not save event. See log for details":"\u4e0d\u80fd\u4fdd\u5b58\u4e8b\u4ef6\uff0c\u770b\u65e5\u5fd7","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},6438:function(e){e.exports=JSON.parse('{"Choose one or more dates...":"\u9009\u62e9\u4e00\u4e2a\u6216\u591a\u4e2a\u65e5\u671f","Choose a date...":"\u9009\u62e9\u65e5\u671f","Today":"\u4eca\u5929","A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details.":"","You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions.":"","Organisation unit":"","Date of enrollment":"","Last updated":"","Enrolled":"","Previously enrolled":"","This value is validating":"","Async field update failed":"","A value is required":"","Please provide a valid number":"","Please provide a valid integer":"","Please provide a positive integer":"","Please provide zero or a positive integer":"","Please provide a negative integer":"","Please provide a valid date":"\u8bf7\u63d0\u4f9b\u6709\u6548\u7684\u65e5\u671f","A date in the future is not allowed":"","Please provide a valid date and time":"","Please provide a valid time":"","Please provide a valid percentage":"","Please provide a valid url":"","Please provide a valid email address":"","Please provide a valid age":"","Please provide a valid phone number":"","Please provide a valid organisation unit":"","Please provide valid coordinates":"","This value already exists":"","\\"From\\" cannot be greater than \\"To\\"":"","Checking...":"","Area":"","Coordinate":"","Enrollment":"","A future date is not allowed":"","Saving a {{trackedEntityName}} in":"","in":"\u5728","Cancel":"\u53d6\u6d88","Metadata error. see log for details":"","Assigned user":"","Search for user":"","Basic info":"","Status":"","Comments":"","Relationships":"","Assignee":"","Saving to":"\u4fdd\u5b58\u5230","This is not an event program or the metadata is corrupt. See log for details.":"\u8fd9\u4e0d\u662f\u4e8b\u4ef6\u9879\u76ee\u6216\u8005\u5143\u6570\u636e\u574f\u4e86\uff0c\u67e5\u770b\u65e5\u5fd7\u8be6\u60c5","This event":"","Relationship of type {{relationshipTypeName}} to {{entityName}} already exists":"","Active":"","Completed":"","Please add or cancel comment before saving the event":"","Save and add another":"\u4fdd\u5b58\u5e76\u53e6\u5916\u6dfb\u52a0","Save and exit":"\u4fdd\u5b58\u540e\u9000\u51fa","Finish":"","No write access":"\u65e0\u5199\u6743\u9650","Switch to form view":"\u5207\u6362\u5230\u8868\u5355\u89c6\u56fe","Switch to row view":"\u5207\u6362\u5230\u884c\u89c6\u56fe","events added":"\u4e8b\u4ef6\u5df2\u7ecf\u88ab\u6dfb\u52a0","No events added":"\u6ca1\u6709\u4e8b\u4ef6\u88ab\u6dfb\u52a0","New event relationship":"","Adding relationship to event.":"","Go back to event without saving relationship":"","Unsaved changes":"","Leaving this page will discard the selections you made for a new relationship":"","Yes, discard":"","No, stay here":"","New event":"\u65b0\u4e8b\u4ef6","You don\'t have access to create an event in the current selections":"","Save":"\u4fdd\u5b58","Leaving this page will discard the changes you made to this event.":"","Saving a {{trackedEntityName}}":"","without":"","enrollment":"","Enroll in a program by selecting a program from the top bar.":"","An error has occurred. See log for details":"","A duplicate exists (but there were some errors, see log for details":"","An item with this {{attributeName}} is already registered, but you don\'t have access to it":"","You have already registered this {{attributeName}}":"","A {{trackedEntityTypeName}} with this {{attributeName}} is already registered":"","Show registered {{trackedEntityTypeName}}":"","Registered person":"","Link":"","validation failed":"","Errors":"\u9519\u8bef","Feedback":"\u53cd\u9988","Indicators":"\u6307\u6807","Warnings":"\u9519\u8bef","search group result could not be retrieved":"","Complete":"\u5b8c\u6210","Warnings found":"\u53d1\u73b0\u8b66\u544a","Abort":"\u5173\u4e8e","Back to form":"","Save anyway":"","Validation errors and warnings":"","Validation errors":"","Validation warnings":"","Some operations are still runnning. Please wait..":"","Operations running":"","Hide":"","Possible duplicates found":"","Sort":"\u6392\u5e8f","No events to display":"\u65e0\u4e8b\u4ef6\u53ef\u663e\u793a","Data for offline list not present":"\u79bb\u7ebf\u5217\u8868\u7684\u6570\u636e\u4e0d\u5b58\u5728","Close":"\u5173\u95ed","Please select the user":"","Me":"","Anyone":"","None":"","Select user":"","to":"\u5230","From":"\u4ece","To":"\u5230","This week":"","This month":"","This Year":"","Last week":"\u4e0a\u5468","Last month":"\u4e0a\u6708","Last 3 months":"\u6700\u8fd13\u4e2a\u6708","Custom range":"\u81ea\u8ba2\u8303\u56f4","Max":"\u6700\u5927","Min":"\u6700\u5c0f","Contains text":"\u5305\u542b\u6587\u672c","Yes":"Yes","mm/dd/yyyy":"mm/dd/yyyy","Years":"\u5e74","Months":"\u6708","Days":"\u5929\u6570","Uploading file":"\u4e0a\u4f20\u6587\u4ef6","selected":"\u9009\u62e9\u7684","Delete":"\u5220\u9664","Select file":"\u9009\u62e9\u6587\u4ef6","No":"No","Uploading image":"\u4e0a\u4f20\u56fe\u50cf","Select image":"\u9009\u62e9\u56fe\u50cf","Search":"","Clear":"\u6e05\u9664","No results":"\u65e0\u7ed3\u679c","start typing to search":"","suggestions could not be retrieved":"","No items to display":"\u65e0\u6761\u76ee\u53ef\u663e\u793a","Select columns":"","Columns to show in table":"\u8868\u4e2d\u663e\u793a\u7684\u5217","Column":"\u5217","Apply":"","{{fromDate}} to {{toDate}}":"","after or equal to {{date}}":"","before or equal to {{date}}":"","greater than or equal to":"\u5927\u4e8e\u7b49\u4e8e","less than or equal to":"\u5c0f\u4e8e\u7b49\u4e8e","More filters":"\u66f4\u591a\u8fc7\u6ee4\u5668","Rows per page":"\u884c\u6bcf\u9875","Could not get organisation unit":"\u4e0d\u80fd\u83b7\u53d6\u673a\u6784","Program doesn\'t exist":"\u9879\u76ee\u4e0d\u5b58\u5728","Selected program is invalid for selected registering unit":"","New":"\u65b0\u5efa","Find":"\u53d1\u73b0","Clear selections":"","Selected registering unit":"\u9009\u62e9\u6ce8\u518c\u7684\u673a\u6784","Start Again":"\u518d\u5f00\u59cb","Are you sure? All unsaved data will be lost.":"\u4f60\u786e\u4fe1\uff1f\u6240\u4ee5\u672a\u4fdd\u5b58\u7684\u6570\u636e\u5c06\u4e22\u5931","Accept":"","Registering Organisation Unit":"\u5728\u6ce8\u518c\u7684\u673a\u6784","Select":"\u9009\u62e9","Program":"\u9879\u76ee","No programs available.":"\u65e0\u53ef\u7528\u9879\u76ee","Show all":"\u5168\u90e8\u663e\u793a","Selected program":"","Some programs are being filtered.":"\u6709\u4e9b\u9879\u76ee\u5df2\u7ecf\u88ab\u8fc7\u6ee4\u4e86","Select program":"\u9009\u62e9\u9879\u76ee","Selected":"","Online":"\u5728\u7ebf","Offline":"\u79bb\u7ebf","Syncing":"\u540c\u6b65","Add comment":"","You dont have access to write comments":"","Write comment":"\u5199\u5907\u6ce8","Show all events":"","Edit event":"","Event could not be loaded. Are you sure it exists?":"\u4e8b\u4ef6\u4e0d\u80fd\u8f7d\u5165","Event could not be loaded":"\u4e8b\u4ef6\u4e0d\u80fd\u8f7d\u5165","Organisation unit could not be loaded":"\u673a\u6784\u4e0d\u80fd\u8f7d\u5165","Tracked entity instance with id \\"{{teiId}}\\" does not exist":"","There is an error while opening this enrollment. Please enter a valid url.":"","Enrollment with id \\"{{enrollmentId}}\\" does not exist":"","{{teiDisplayName}} is enrolled in multiple programs. Choose a program.":"","{{programName}} has categories. Choose all categories to view dashboard.":"","There are multiple enrollments for this program. Choose an enrollment to view the dashboard.":"","{{teiDisplayName}} is not enrolled in this program.":"","Enroll {{teiDisplayName}} in this program.":"","{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ":"","Enroll a new {{selectedTetName}} in this program.":"","{{programName}} is an event program and does not have enrollments.":"","Create a new event in this program.":"","View working list in this program.":"","Delete event":"","Download as JSON":"","Download as XML":"","Download as CSV":"","Download with current filters":"","Download data...":"","Working list could not be loaded":"","an error occurred loading working lists":"","Registered events":"","Enrollment status":"","Cancelled":"","Assigned to":"","Registering unit":"","Registration Date":"","Inactive":"","Working list could not be updated":"","Update view":"","Save current view...":"","Save current view as...":"","Delete view":"","Share view...":"","Do you really want to delete the \'{{templateName}}\' view?":"","Confirm":"","Save As view":"","View name":"","Show Less":"","Show All":"","Choose a registering unit to start reporting":"","Choose the {{missingCategories}} to start reporting":"","Save as new":"","View dashboard":"","Create for":"","You can also choose a program from the top bar and create in that program":"","Review Duplicates":"","Save new {{trackedEntityTypeName}} and link":"","Save as new {{trackedEntityName}}":"","Organisation Unit":"","Registration":"","Search results":"","No {{trackedEntityTypeName}} found.":"","New search":"","Edit search":"","Link to an existing {{trackedEntityType}}":"","Create new {{trackedEntityType}}":"","Register":"","Fill in at least {{minAttributesRequiredToSearch}}  attributes to search":"","Search {{name}}":"","Find by {{name}}":"","Search by attributes":"","Back":"","Search for":"","You can also choose a program from the top bar and search in that program":"","No results found":"","You can change your search terms and search again to find what you are looking for.":"","Back to search":"","An error has occurred":"","There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools":"","Too many results":"","This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.":"","Choose a type to start searching":"","View active enrollment":"","Re-enroll":"","Not finding the results you were looking for? Try to search all programs that use type ":"","Search in all programs":"","You dont have access to edit this event":"","Leaving this page will discard any selections you made for a new relationship":"","No one is assigned to this event":"","Assign":"","Event assigned to {{name}}":"","Feedbacks":"","An error occurred loading possible duplicates":"","You dont have access to delete this relationship":"","You dont have access to create any relationships":"","Add relationship":"","Results found":"","Search {{uniqueAttrName}}":"","Fill in at least {{minAttributesRequired}} attributes to search":"","To work with the selected program,":"","open the Tracker Capture app":"","An error has occured. See log for details":"\u53d1\u751f\u9519\u8bef\u3002\u67e5\u770b\u65e5\u5fd7\u4ee5\u83b7\u53d6\u8be6\u7ec6\u4fe1\u606f","Program not found":"","Program is not a tracker program":"","Profile":"","Error saving event":"\u4fdd\u5b58\u65f6\u95f4\u9519\u8bef","Could not save event. See log for details":"\u4e0d\u80fd\u4fdd\u5b58\u4e8b\u4ef6\uff0c\u770b\u65e5\u5fd7","Could not delete event":"","Could not save working list":"","Could not add working list":"","Could not delete working list":"","Organisation unit search failed. See log for details":"","tracked entity instance":"","Set coordinate":"","Page {{currentPage}}":"","Date":"","Time":"","From date":"","From time":"","To date":"","To time":"","error encountered during field validation":"","error":"","Delete polygon":"","Set area":"","Compatibility mode":""}')},651:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(235),n=a.n(r);class o{constructor(e){e&&n()(e)&&e(this)}set id(e){this._id=e}get id(){return this._id}set optionIds(e){this._optionIds=e}get optionIds(){return this._optionIds}}},652:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(235),n=a.n(r);class o{constructor(e){e&&n()(e)&&e(this)}get stageForm(){return this._stageForm}set stageForm(e){this._stageForm=e}get id(){return this._id}set id(e){this._id=e}get name(){return this._name}set name(e){this._name=e}get relationshipTypes(){return this._relationshipTypes}get relationshipTypesWhereStageIsFrom(){return this._relationshipTypes?this._relationshipTypes.filter(e=>e.from.programStageId&&e.from.programStageId===this.id):[]}set relationshipTypes(e){this._relationshipTypes=e}get enableUserAssignment(){return this._enableUserAssignment}set enableUserAssignment(e){this._enableUserAssignment=e}get autoGenerateEvent(){return this._autoGenerateEvent}set autoGenerateEvent(e){this._autoGenerateEvent=e}get generatedByEnrollmentDate(){return this._generatedByEnrollmentDate}set generatedByEnrollmentDate(e){this._generatedByEnrollmentDate=e}get openAfterEnrollment(){return this._openAfterEnrollment}set openAfterEnrollment(e){this._openAfterEnrollment=e}get reportDateToUse(){return this._reportDateToUse}set reportDateToUse(e="enrollmentDate"){this._reportDateToUse="false"===e?"enrollmentDate":e}get standardInterval(){return this._standardInterval}set standardInterval(e=0){this._standardInterval=e}}},653:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a(11),n=a(189),o=a.n(n),i=a(190),s=a(235),l=a.n(s),c=a(524),d=a(228);class p{constructor(e){this._sections=new Map,this._labels={},this.programRules=[],this._validationStrategy=c.a.ON_UPDATE_AND_INSERT,e&&l()(e)&&e(this)}set id(e){this._id=e}get id(){return this._id}set access(e){this._access=e}get access(){return this._access}set name(e){this._name=e}get name(){return this._name}set description(e){this._description=e}get description(){return this._description}set programId(e){this._programId=e}get programId(){return this._programId}set programRules(e){this._programRules=e}get programRules(){return this._programRules}get sections(){return this._sections}set customForm(e){this._customForm=e}get customForm(){return this._customForm}set featureType(e){this._featureType=e}get featureType(){return this._featureType}set validationStrategy(e){e&&(c.b.includes(e)?this._validationStrategy=e:o.a.warn(Object(i.c)(p.errorMessages.UNSUPPORTED_VALIDATION_STRATEGY)({renderFoundation:this,strategy:e})))}get validationStrategy(){return this._validationStrategy}addLabel({id:e,label:t}){this._labels[e]=t}getLabel(e){return this._labels[e]}addSection(e){this._sections.set(e.id,e)}getSection(e){return this._sections.get(e)}getElement(e){return this.getElementsById()[e]}addProgramRules(e){this.programRules=[...this.programRules,...e]}getElements(){return Array.from(this.sections.entries()).map(e=>e[1]).reduce((e,t)=>[...e,...Array.from(t.elements.entries()).map(e=>e[1])],[])}getElementsById(){return Array.from(this.sections.entries()).map(e=>e[1]).reduce((e,t)=>{const a=Array.from(t.elements.entries()).reduce((e,t)=>(e[t[0]]=t[1],e),{});return Object(r.a)({},e,{},a)},{})}convertValues(e,t){const a=this.getElements();return Object(d.a)(e,a,t)}}p.errorMessages={UNSUPPORTED_VALIDATION_STRATEGY:"Tried to set an unsupported validation strategy"}},654:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(189),n=a.n(r),o=a(6),i=a.n(o),s=a(190),l=a(263);const c="Program not found",d="Stage not found",p="An error has occured. See log for details";function u(e){const t=l.a.get(e);if(!t)return n.a.error(Object(s.c)(c)({programId:e})),{error:i.a.t(p),stage:null,program:null};const a=t.stage;return a?{stage:a,program:t,error:null}:(n.a.error(Object(s.c)(d)({program:t,programId:e})),{error:i.a.t(p),stage:null,program:null})}},655:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(189),n=a.n(r),o=a(6),i=a.n(o),s=a(190),l=a(263);const c="Program not found",d="Stage not found",p="An error has occured. See log for details";function u(e){const t=l.a.get(e);if(!t)return n.a.error(Object(s.c)(c)({programId:e})),{error:i.a.t(p),stage:null};const a=t.stage;return a?{stage:a,error:null}:(n.a.error(Object(s.c)(d)({programId:e})),{error:i.a.t(p),stage:null})}},656:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(189),n=a.n(r),o=a(6),i=a.n(o),s=a(190),l=a(263);const c="Program not found",d="Stage not found",p="An error has occured. See log for details";function u(e){const t=e.eventId,a=l.a.get(e.programId);if(!a)return n.a.error(Object(s.c)(c)({eventId:t,event:e})),{error:i.a.t(p),stage:null};const r=a.getStage(e.programStageId);return r?{stage:r,error:null}:(n.a.error(Object(s.c)(d)({eventId:t,event:e})),{error:i.a.t(p),stage:null})}},657:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l}));var r=a(278),n=a(443),o=a(525),i=a(444);const s=e=>{const t=Object(o.a)(e);return l(t)},l=e=>{if(e instanceof r.b){return{trackedEntityName:"",programName:e.name,scopeType:i.b.EVENT_PROGRAM,tetId:null}}if(e instanceof r.c){return{trackedEntityName:e.trackedEntityType?e.trackedEntityType.name.toLowerCase():"",programName:e.name,scopeType:i.b.TRACKER_PROGRAM,tetId:e.trackedEntityType.id}}if(e instanceof n.b){return{trackedEntityName:e.name.toLowerCase(),programName:"",scopeType:i.b.TRACKED_ENTITY_TYPE,tetId:e.id}}return{programName:"",scopeType:"",trackedEntityName:"",tetId:""}}},658:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(1),n=a(6622);class o{constructor(e){this.transformNode=(e,t,a)=>{if("input"===e.name){const n=e.attribs&&e.attribs.id,o=n&&/-[^-]+/.exec(n);if(o){const i=o[0].replace("-",""),s=a(e,t),l={id:n,style:s.props&&s.props.style,className:s.props&&s.props.className};return r.createElement("FormField",{customFormElementProps:l,id:i})}}},this._id="",e&&e(this)}set id(e){this._id=e}get id(){return this._id}set data(e){const t=Object(n.parseHtml)(e,{onTransform:this.transformNode,allowScript:!0});this._data=t}get data(){return this._data}}},6640:function(e,t){},6692:function(e,t,a){var r={"./_lib/build_formatting_tokens_reg_exp":[179,7,68],"./_lib/build_formatting_tokens_reg_exp/":[179,7,68],"./_lib/build_formatting_tokens_reg_exp/index":[179,7,68],"./_lib/build_formatting_tokens_reg_exp/index.js":[179,7,68],"./_lib/package":[1135,3,103],"./_lib/package.json":[1135,3,103],"./ar":[580,7,1],"./ar/":[580,7,1],"./ar/build_distance_in_words_locale":[377,7,69],"./ar/build_distance_in_words_locale/":[377,7,69],"./ar/build_distance_in_words_locale/index":[377,7,69],"./ar/build_distance_in_words_locale/index.js":[377,7,69],"./ar/build_format_locale":[378,7,34],"./ar/build_format_locale/":[378,7,34],"./ar/build_format_locale/index":[378,7,34],"./ar/build_format_locale/index.js":[378,7,34],"./ar/index":[580,7,1],"./ar/index.js":[580,7,1],"./ar/package":[1136,3,104],"./ar/package.json":[1136,3,104],"./bg":[581,7,2],"./bg/":[581,7,2],"./bg/build_distance_in_words_locale":[379,7,70],"./bg/build_distance_in_words_locale/":[379,7,70],"./bg/build_distance_in_words_locale/index":[379,7,70],"./bg/build_distance_in_words_locale/index.js":[379,7,70],"./bg/build_format_locale":[380,7,35],"./bg/build_format_locale/":[380,7,35],"./bg/build_format_locale/index":[380,7,35],"./bg/build_format_locale/index.js":[380,7,35],"./bg/index":[581,7,2],"./bg/index.js":[581,7,2],"./bg/package":[1137,3,105],"./bg/package.json":[1137,3,105],"./ca":[582,7,3],"./ca/":[582,7,3],"./ca/build_distance_in_words_locale":[381,7,71],"./ca/build_distance_in_words_locale/":[381,7,71],"./ca/build_distance_in_words_locale/index":[381,7,71],"./ca/build_distance_in_words_locale/index.js":[381,7,71],"./ca/build_format_locale":[382,7,36],"./ca/build_format_locale/":[382,7,36],"./ca/build_format_locale/index":[382,7,36],"./ca/build_format_locale/index.js":[382,7,36],"./ca/index":[582,7,3],"./ca/index.js":[582,7,3],"./ca/package":[1138,3,106],"./ca/package.json":[1138,3,106],"./cs":[583,7,4],"./cs/":[583,7,4],"./cs/build_distance_in_words_locale":[383,7,72],"./cs/build_distance_in_words_locale/":[383,7,72],"./cs/build_distance_in_words_locale/index":[383,7,72],"./cs/build_distance_in_words_locale/index.js":[383,7,72],"./cs/build_format_locale":[384,7,37],"./cs/build_format_locale/":[384,7,37],"./cs/build_format_locale/index":[384,7,37],"./cs/build_format_locale/index.js":[384,7,37],"./cs/index":[583,7,4],"./cs/index.js":[583,7,4],"./cs/package":[1139,3,107],"./cs/package.json":[1139,3,107],"./da":[584,7,5],"./da/":[584,7,5],"./da/build_distance_in_words_locale":[385,7,73],"./da/build_distance_in_words_locale/":[385,7,73],"./da/build_distance_in_words_locale/index":[385,7,73],"./da/build_distance_in_words_locale/index.js":[385,7,73],"./da/build_format_locale":[386,7,38],"./da/build_format_locale/":[386,7,38],"./da/build_format_locale/index":[386,7,38],"./da/build_format_locale/index.js":[386,7,38],"./da/index":[584,7,5],"./da/index.js":[584,7,5],"./da/package":[1140,3,108],"./da/package.json":[1140,3,108],"./de":[585,7,6],"./de/":[585,7,6],"./de/build_distance_in_words_locale":[387,7,74],"./de/build_distance_in_words_locale/":[387,7,74],"./de/build_distance_in_words_locale/index":[387,7,74],"./de/build_distance_in_words_locale/index.js":[387,7,74],"./de/build_format_locale":[388,7,39],"./de/build_format_locale/":[388,7,39],"./de/build_format_locale/index":[388,7,39],"./de/build_format_locale/index.js":[388,7,39],"./de/index":[585,7,6],"./de/index.js":[585,7,6],"./de/package":[1141,3,109],"./de/package.json":[1141,3,109],"./el":[586,7,7],"./el/":[586,7,7],"./el/build_distance_in_words_locale":[389,7,75],"./el/build_distance_in_words_locale/":[389,7,75],"./el/build_distance_in_words_locale/index":[389,7,75],"./el/build_distance_in_words_locale/index.js":[389,7,75],"./el/build_format_locale":[390,7,40],"./el/build_format_locale/":[390,7,40],"./el/build_format_locale/index":[390,7,40],"./el/build_format_locale/index.js":[390,7,40],"./el/index":[586,7,7],"./el/index.js":[586,7,7],"./el/package":[1142,3,110],"./el/package.json":[1142,3,110],"./en":[579,7,0],"./en/":[579,7,0],"./en/build_distance_in_words_locale":[375,7,76],"./en/build_distance_in_words_locale/":[375,7,76],"./en/build_distance_in_words_locale/index":[375,7,76],"./en/build_distance_in_words_locale/index.js":[375,7,76],"./en/build_format_locale":[376,7,41],"./en/build_format_locale/":[376,7,41],"./en/build_format_locale/index":[376,7,41],"./en/build_format_locale/index.js":[376,7,41],"./en/index":[579,7,0],"./en/index.js":[579,7,0],"./en/package":[1143,3,111],"./en/package.json":[1143,3,111],"./eo":[587,7,8],"./eo/":[587,7,8],"./eo/build_distance_in_words_locale":[391,7,77],"./eo/build_distance_in_words_locale/":[391,7,77],"./eo/build_distance_in_words_locale/index":[391,7,77],"./eo/build_distance_in_words_locale/index.js":[391,7,77],"./eo/build_format_locale":[392,7,42],"./eo/build_format_locale/":[392,7,42],"./eo/build_format_locale/index":[392,7,42],"./eo/build_format_locale/index.js":[392,7,42],"./eo/index":[587,7,8],"./eo/index.js":[587,7,8],"./eo/package":[1144,3,112],"./eo/package.json":[1144,3,112],"./es":[588,7,9],"./es/":[588,7,9],"./es/build_distance_in_words_locale":[393,7,78],"./es/build_distance_in_words_locale/":[393,7,78],"./es/build_distance_in_words_locale/index":[393,7,78],"./es/build_distance_in_words_locale/index.js":[393,7,78],"./es/build_format_locale":[394,7,43],"./es/build_format_locale/":[394,7,43],"./es/build_format_locale/index":[394,7,43],"./es/build_format_locale/index.js":[394,7,43],"./es/index":[588,7,9],"./es/index.js":[588,7,9],"./es/package":[1145,3,113],"./es/package.json":[1145,3,113],"./fi":[589,7,10],"./fi/":[589,7,10],"./fi/build_distance_in_words_locale":[395,7,79],"./fi/build_distance_in_words_locale/":[395,7,79],"./fi/build_distance_in_words_locale/index":[395,7,79],"./fi/build_distance_in_words_locale/index.js":[395,7,79],"./fi/build_format_locale":[396,7,44],"./fi/build_format_locale/":[396,7,44],"./fi/build_format_locale/index":[396,7,44],"./fi/build_format_locale/index.js":[396,7,44],"./fi/index":[589,7,10],"./fi/index.js":[589,7,10],"./fi/package":[1146,3,114],"./fi/package.json":[1146,3,114],"./fil":[590,7,11],"./fil/":[590,7,11],"./fil/build_distance_in_words_locale":[397,7,80],"./fil/build_distance_in_words_locale/":[397,7,80],"./fil/build_distance_in_words_locale/index":[397,7,80],"./fil/build_distance_in_words_locale/index.js":[397,7,80],"./fil/build_format_locale":[398,7,45],"./fil/build_format_locale/":[398,7,45],"./fil/build_format_locale/index":[398,7,45],"./fil/build_format_locale/index.js":[398,7,45],"./fil/index":[590,7,11],"./fil/index.js":[590,7,11],"./fil/package":[1147,3,115],"./fil/package.json":[1147,3,115],"./fr":[591,7,12],"./fr/":[591,7,12],"./fr/build_distance_in_words_locale":[399,7,81],"./fr/build_distance_in_words_locale/":[399,7,81],"./fr/build_distance_in_words_locale/index":[399,7,81],"./fr/build_distance_in_words_locale/index.js":[399,7,81],"./fr/build_format_locale":[400,7,46],"./fr/build_format_locale/":[400,7,46],"./fr/build_format_locale/index":[400,7,46],"./fr/build_format_locale/index.js":[400,7,46],"./fr/index":[591,7,12],"./fr/index.js":[591,7,12],"./fr/package":[1148,3,116],"./fr/package.json":[1148,3,116],"./hr":[592,7,13],"./hr/":[592,7,13],"./hr/build_distance_in_words_locale":[401,7,82],"./hr/build_distance_in_words_locale/":[401,7,82],"./hr/build_distance_in_words_locale/index":[401,7,82],"./hr/build_distance_in_words_locale/index.js":[401,7,82],"./hr/build_format_locale":[402,7,47],"./hr/build_format_locale/":[402,7,47],"./hr/build_format_locale/index":[402,7,47],"./hr/build_format_locale/index.js":[402,7,47],"./hr/index":[592,7,13],"./hr/index.js":[592,7,13],"./hr/package":[1149,3,117],"./hr/package.json":[1149,3,117],"./hu":[593,7,14],"./hu/":[593,7,14],"./hu/build_distance_in_words_locale":[403,7,83],"./hu/build_distance_in_words_locale/":[403,7,83],"./hu/build_distance_in_words_locale/index":[403,7,83],"./hu/build_distance_in_words_locale/index.js":[403,7,83],"./hu/build_format_locale":[404,7,48],"./hu/build_format_locale/":[404,7,48],"./hu/build_format_locale/index":[404,7,48],"./hu/build_format_locale/index.js":[404,7,48],"./hu/index":[593,7,14],"./hu/index.js":[593,7,14],"./hu/package":[1150,3,118],"./hu/package.json":[1150,3,118],"./id":[594,7,15],"./id/":[594,7,15],"./id/build_distance_in_words_locale":[405,7,84],"./id/build_distance_in_words_locale/":[405,7,84],"./id/build_distance_in_words_locale/index":[405,7,84],"./id/build_distance_in_words_locale/index.js":[405,7,84],"./id/build_format_locale":[406,7,49],"./id/build_format_locale/":[406,7,49],"./id/build_format_locale/index":[406,7,49],"./id/build_format_locale/index.js":[406,7,49],"./id/index":[594,7,15],"./id/index.js":[594,7,15],"./id/package":[1151,3,119],"./id/package.json":[1151,3,119],"./is":[595,7,16],"./is/":[595,7,16],"./is/build_distance_in_words_locale":[407,7,85],"./is/build_distance_in_words_locale/":[407,7,85],"./is/build_distance_in_words_locale/index":[407,7,85],"./is/build_distance_in_words_locale/index.js":[407,7,85],"./is/build_format_locale":[408,7,50],"./is/build_format_locale/":[408,7,50],"./is/build_format_locale/index":[408,7,50],"./is/build_format_locale/index.js":[408,7,50],"./is/index":[595,7,16],"./is/index.js":[595,7,16],"./is/package":[1152,3,120],"./is/package.json":[1152,3,120],"./it":[596,7,17],"./it/":[596,7,17],"./it/build_distance_in_words_locale":[409,7,86],"./it/build_distance_in_words_locale/":[409,7,86],"./it/build_distance_in_words_locale/index":[409,7,86],"./it/build_distance_in_words_locale/index.js":[409,7,86],"./it/build_format_locale":[410,7,51],"./it/build_format_locale/":[410,7,51],"./it/build_format_locale/index":[410,7,51],"./it/build_format_locale/index.js":[410,7,51],"./it/index":[596,7,17],"./it/index.js":[596,7,17],"./it/package":[1153,3,121],"./it/package.json":[1153,3,121],"./ja":[597,7,18],"./ja/":[597,7,18],"./ja/build_distance_in_words_locale":[411,7,87],"./ja/build_distance_in_words_locale/":[411,7,87],"./ja/build_distance_in_words_locale/index":[411,7,87],"./ja/build_distance_in_words_locale/index.js":[411,7,87],"./ja/build_format_locale":[412,7,52],"./ja/build_format_locale/":[412,7,52],"./ja/build_format_locale/index":[412,7,52],"./ja/build_format_locale/index.js":[412,7,52],"./ja/index":[597,7,18],"./ja/index.js":[597,7,18],"./ja/package":[1154,3,122],"./ja/package.json":[1154,3,122],"./ko":[598,7,19],"./ko/":[598,7,19],"./ko/build_distance_in_words_locale":[413,7,88],"./ko/build_distance_in_words_locale/":[413,7,88],"./ko/build_distance_in_words_locale/index":[413,7,88],"./ko/build_distance_in_words_locale/index.js":[413,7,88],"./ko/build_format_locale":[414,7,53],"./ko/build_format_locale/":[414,7,53],"./ko/build_format_locale/index":[414,7,53],"./ko/build_format_locale/index.js":[414,7,53],"./ko/index":[598,7,19],"./ko/index.js":[598,7,19],"./ko/package":[1155,3,123],"./ko/package.json":[1155,3,123],"./mk":[599,7,20],"./mk/":[599,7,20],"./mk/build_distance_in_words_locale":[415,7,89],"./mk/build_distance_in_words_locale/":[415,7,89],"./mk/build_distance_in_words_locale/index":[415,7,89],"./mk/build_distance_in_words_locale/index.js":[415,7,89],"./mk/build_format_locale":[416,7,54],"./mk/build_format_locale/":[416,7,54],"./mk/build_format_locale/index":[416,7,54],"./mk/build_format_locale/index.js":[416,7,54],"./mk/index":[599,7,20],"./mk/index.js":[599,7,20],"./mk/package":[1156,3,124],"./mk/package.json":[1156,3,124],"./nb":[600,7,21],"./nb/":[600,7,21],"./nb/build_distance_in_words_locale":[417,7,90],"./nb/build_distance_in_words_locale/":[417,7,90],"./nb/build_distance_in_words_locale/index":[417,7,90],"./nb/build_distance_in_words_locale/index.js":[417,7,90],"./nb/build_format_locale":[418,7,55],"./nb/build_format_locale/":[418,7,55],"./nb/build_format_locale/index":[418,7,55],"./nb/build_format_locale/index.js":[418,7,55],"./nb/index":[600,7,21],"./nb/index.js":[600,7,21],"./nb/package":[1157,3,125],"./nb/package.json":[1157,3,125],"./nl":[601,7,22],"./nl/":[601,7,22],"./nl/build_distance_in_words_locale":[419,7,91],"./nl/build_distance_in_words_locale/":[419,7,91],"./nl/build_distance_in_words_locale/index":[419,7,91],"./nl/build_distance_in_words_locale/index.js":[419,7,91],"./nl/build_format_locale":[420,7,56],"./nl/build_format_locale/":[420,7,56],"./nl/build_format_locale/index":[420,7,56],"./nl/build_format_locale/index.js":[420,7,56],"./nl/index":[601,7,22],"./nl/index.js":[601,7,22],"./nl/package":[1158,3,126],"./nl/package.json":[1158,3,126],"./package":[1159,3,127],"./package.json":[1159,3,127],"./pl":[602,7,23],"./pl/":[602,7,23],"./pl/build_distance_in_words_locale":[421,7,92],"./pl/build_distance_in_words_locale/":[421,7,92],"./pl/build_distance_in_words_locale/index":[421,7,92],"./pl/build_distance_in_words_locale/index.js":[421,7,92],"./pl/build_format_locale":[422,7,57],"./pl/build_format_locale/":[422,7,57],"./pl/build_format_locale/index":[422,7,57],"./pl/build_format_locale/index.js":[422,7,57],"./pl/index":[602,7,23],"./pl/index.js":[602,7,23],"./pl/package":[1160,3,128],"./pl/package.json":[1160,3,128],"./pt":[603,7,24],"./pt/":[603,7,24],"./pt/build_distance_in_words_locale":[423,7,93],"./pt/build_distance_in_words_locale/":[423,7,93],"./pt/build_distance_in_words_locale/index":[423,7,93],"./pt/build_distance_in_words_locale/index.js":[423,7,93],"./pt/build_format_locale":[424,7,58],"./pt/build_format_locale/":[424,7,58],"./pt/build_format_locale/index":[424,7,58],"./pt/build_format_locale/index.js":[424,7,58],"./pt/index":[603,7,24],"./pt/index.js":[603,7,24],"./pt/package":[1161,3,129],"./pt/package.json":[1161,3,129],"./ro":[604,7,25],"./ro/":[604,7,25],"./ro/build_distance_in_words_locale":[425,7,94],"./ro/build_distance_in_words_locale/":[425,7,94],"./ro/build_distance_in_words_locale/index":[425,7,94],"./ro/build_distance_in_words_locale/index.js":[425,7,94],"./ro/build_format_locale":[426,7,59],"./ro/build_format_locale/":[426,7,59],"./ro/build_format_locale/index":[426,7,59],"./ro/build_format_locale/index.js":[426,7,59],"./ro/index":[604,7,25],"./ro/index.js":[604,7,25],"./ro/package":[1162,3,130],"./ro/package.json":[1162,3,130],"./ru":[605,7,26],"./ru/":[605,7,26],"./ru/build_distance_in_words_locale":[427,7,95],"./ru/build_distance_in_words_locale/":[427,7,95],"./ru/build_distance_in_words_locale/index":[427,7,95],"./ru/build_distance_in_words_locale/index.js":[427,7,95],"./ru/build_format_locale":[428,7,60],"./ru/build_format_locale/":[428,7,60],"./ru/build_format_locale/index":[428,7,60],"./ru/build_format_locale/index.js":[428,7,60],"./ru/index":[605,7,26],"./ru/index.js":[605,7,26],"./ru/package":[1163,3,131],"./ru/package.json":[1163,3,131],"./sk":[606,7,27],"./sk/":[606,7,27],"./sk/build_distance_in_words_locale":[429,7,96],"./sk/build_distance_in_words_locale/":[429,7,96],"./sk/build_distance_in_words_locale/index":[429,7,96],"./sk/build_distance_in_words_locale/index.js":[429,7,96],"./sk/build_format_locale":[430,7,61],"./sk/build_format_locale/":[430,7,61],"./sk/build_format_locale/index":[430,7,61],"./sk/build_format_locale/index.js":[430,7,61],"./sk/index":[606,7,27],"./sk/index.js":[606,7,27],"./sk/package":[1164,3,132],"./sk/package.json":[1164,3,132],"./sl":[607,7,28],"./sl/":[607,7,28],"./sl/build_distance_in_words_locale":[431,7,97],"./sl/build_distance_in_words_locale/":[431,7,97],"./sl/build_distance_in_words_locale/index":[431,7,97],"./sl/build_distance_in_words_locale/index.js":[431,7,97],"./sl/build_format_locale":[432,7,62],"./sl/build_format_locale/":[432,7,62],"./sl/build_format_locale/index":[432,7,62],"./sl/build_format_locale/index.js":[432,7,62],"./sl/index":[607,7,28],"./sl/index.js":[607,7,28],"./sl/package":[1165,3,133],"./sl/package.json":[1165,3,133],"./sv":[608,7,29],"./sv/":[608,7,29],"./sv/build_distance_in_words_locale":[433,7,98],"./sv/build_distance_in_words_locale/":[433,7,98],"./sv/build_distance_in_words_locale/index":[433,7,98],"./sv/build_distance_in_words_locale/index.js":[433,7,98],"./sv/build_format_locale":[434,7,63],"./sv/build_format_locale/":[434,7,63],"./sv/build_format_locale/index":[434,7,63],"./sv/build_format_locale/index.js":[434,7,63],"./sv/index":[608,7,29],"./sv/index.js":[608,7,29],"./sv/package":[1166,3,134],"./sv/package.json":[1166,3,134],"./th":[609,7,30],"./th/":[609,7,30],"./th/build_distance_in_words_locale":[435,7,99],"./th/build_distance_in_words_locale/":[435,7,99],"./th/build_distance_in_words_locale/index":[435,7,99],"./th/build_distance_in_words_locale/index.js":[435,7,99],"./th/build_format_locale":[436,7,64],"./th/build_format_locale/":[436,7,64],"./th/build_format_locale/index":[436,7,64],"./th/build_format_locale/index.js":[436,7,64],"./th/index":[609,7,30],"./th/index.js":[609,7,30],"./th/package":[1167,3,135],"./th/package.json":[1167,3,135],"./tr":[610,7,31],"./tr/":[610,7,31],"./tr/build_distance_in_words_locale":[437,7,100],"./tr/build_distance_in_words_locale/":[437,7,100],"./tr/build_distance_in_words_locale/index":[437,7,100],"./tr/build_distance_in_words_locale/index.js":[437,7,100],"./tr/build_format_locale":[438,7,65],"./tr/build_format_locale/":[438,7,65],"./tr/build_format_locale/index":[438,7,65],"./tr/build_format_locale/index.js":[438,7,65],"./tr/index":[610,7,31],"./tr/index.js":[610,7,31],"./tr/package":[1168,3,136],"./tr/package.json":[1168,3,136],"./zh_cn":[611,7,32],"./zh_cn/":[611,7,32],"./zh_cn/build_distance_in_words_locale":[439,7,101],"./zh_cn/build_distance_in_words_locale/":[439,7,101],"./zh_cn/build_distance_in_words_locale/index":[439,7,101],"./zh_cn/build_distance_in_words_locale/index.js":[439,7,101],"./zh_cn/build_format_locale":[440,7,66],"./zh_cn/build_format_locale/":[440,7,66],"./zh_cn/build_format_locale/index":[440,7,66],"./zh_cn/build_format_locale/index.js":[440,7,66],"./zh_cn/index":[611,7,32],"./zh_cn/index.js":[611,7,32],"./zh_cn/package":[1169,3,137],"./zh_cn/package.json":[1169,3,137],"./zh_tw":[612,7,33],"./zh_tw/":[612,7,33],"./zh_tw/build_distance_in_words_locale":[441,7,102],"./zh_tw/build_distance_in_words_locale/":[441,7,102],"./zh_tw/build_distance_in_words_locale/index":[441,7,102],"./zh_tw/build_distance_in_words_locale/index.js":[441,7,102],"./zh_tw/build_format_locale":[442,7,67],"./zh_tw/build_format_locale/":[442,7,67],"./zh_tw/build_format_locale/index":[442,7,67],"./zh_tw/build_format_locale/index.js":[442,7,67],"./zh_tw/index":[612,7,33],"./zh_tw/index.js":[612,7,33],"./zh_tw/package":[1170,3,138],"./zh_tw/package.json":[1170,3,138]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[2]).then((function(){return a.t(n,t[1])}))}n.keys=function(){return Object.keys(r)},n.id=6692,e.exports=n},6734:function(e,t,a){e.exports={fieldOuterContainer:"formBuilder_fieldOuterContainer__3goXr"}},6735:function(e,t,a){e.exports={label:"shrinkLabel_label__2Qht8",labelUnshrinked:"shrinkLabel_labelUnshrinked__1QlVB",labelShrinked:"shrinkLabel_labelShrinked__1cYUu"}},6736:function(e,t,a){e.exports={container:"withShrinkLabel_container__U_H5h"}},6737:function(e,t,a){e.exports={containerAbsolute:"datePopup_containerAbsolute__12w9D",calendarAbsolute:"datePopup_calendarAbsolute__y6vJ7"}},675:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(235),n=a.n(r),o=a(291),i=a.n(o);class s{constructor(e){this._visible=!0,this._open=!0,this._collapsible=!1,this._elements=new Map,this._showContainer=!0,e&&n()(e)&&e(this)}set id(e){this._id=e}get id(){return this._id}set name(e){this._name=e}get name(){return this._name}set open(e){this._open=!i()(e)||e}get open(){return this._open}set visible(e){this._visible=!i()(e)||e}get visible(){return this._visible}set showContainer(e){this._showContainer=!i()(e)||e}get showContainer(){return this._showContainer}get elements(){return this._elements}addElement(e){this.elements.has(e.id)||this.elements.set(e.id,e)}*getPropertyNames(){const e=["getPropertyNames","constructor","copyPropertiesTo"];for(const t of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))e.includes(t)||(yield t)}copyPropertiesTo(e){for(const t of this.getPropertyNames())e[t]=this[t];return e}}s.MAIN_SECTION_ID="#MAIN#",s.errorMessages={DATA_ELEMENT_NOT_FOUND:"Data element was not found"}},6775:function(e,t,a){},6776:function(e,t,a){e.exports={container:"ageField_container__1GLd0",containerVertical:"ageField_containerVertical__2mBC-",containerHorizontal:"ageField_containerHorizontal__eAypD",ageNumberInputContainer:"ageField_ageNumberInputContainer__3Z8SU",ageDateInputContainerHorizontal:"ageField_ageDateInputContainerHorizontal__1kKy-",ageClearHorizontal:"ageField_ageClearHorizontal__3rupl"}},6777:function(e,t,a){e.exports={icon:"svgIcon_icon__35Evt"}},6778:function(e,t,a){e.exports={input:"singleSelectBox_input__3y3t6",iconContainer:"singleSelectBox_iconContainer__2j8KD",iconFocusContainer:"singleSelectBox_iconFocusContainer__2JRsf",label:"singleSelectBox_label__1Tuy1",name:"singleSelectBox_name__XXgNe",inFocus:"singleSelectBox_inFocus__1dEcK","focus-pulsate":"singleSelectBox_focus-pulsate__3fBz9",labelDisabled:"singleSelectBox_labelDisabled__14973"}},6779:function(e,t,a){e.exports={containerHorizontal:"singleSelectionBoxes_containerHorizontal__2We7Y",containerVertical:"singleSelectionBoxes_containerVertical__3kqwY",optionContainerHorizontal:"singleSelectionBoxes_optionContainerHorizontal__yYGeT",optionContainerVertical:"singleSelectionBoxes_optionContainerVertical__2sUs4",disabledIcon:"singleSelectionBoxes_disabledIcon__qUYEr"}},6787:function(e,t,a){e.exports={coordinateField:"coordinateField_coordinateField__7lB_I",coordinateFieldsHorizontal:"coordinateField_coordinateFieldsHorizontal__3inTD",coordinateFieldsVertical:"coordinateField_coordinateFieldsVertical__3qoQs",mapIcon:"coordinateField_mapIcon__1EBlw",mapIconContainer:"coordinateField_mapIconContainer__1HIFi",mapIconContainerWithMargin:"coordinateField_mapIconContainerWithMargin__3rGvs",clearIcon:"coordinateField_clearIcon__2Eh7U",clearIconWithMargin:"coordinateField_clearIconWithMargin__2rgfh",inputContainer:"coordinateField_inputContainer__3GImv",latitudeTextInput:"coordinateField_latitudeTextInput__3qjHp",longitudeTextInput:"coordinateField_longitudeTextInput__3UFTx",dialogActionOuterContainer:"coordinateField_dialogActionOuterContainer__3wwBS",dialogActionInnerContainer:"coordinateField_dialogActionInnerContainer__29hz6",mapContainer:"coordinateField_mapContainer__3LOC2",leafletContainer:"coordinateField_leafletContainer__1x7QO",dialogContent:"coordinateField_dialogContent__3YhkT",buttonsContainerVertical:"coordinateField_buttonsContainerVertical__3u5vl"}},6789:function(e,t,a){e.exports={fieldsContainer:"dateTime_fieldsContainer__2396H",fieldsContainerVertical:"dateTime_fieldsContainerVertical__3X-K0",formControl:"dateTime_formControl__2xCUr",root:"dateTime_root__2_PpK"}},6793:function(e,t,a){e.exports={container:"polygonField_container__Fw0bR",statusContainer:"polygonField_statusContainer__2hlHM",mapIcon:"polygonField_mapIcon__3oggM",statusText:"polygonField_statusText__3Ppp7",checkIcon:"polygonField_checkIcon__1NxDu",dialogActionOuterContainer:"polygonField_dialogActionOuterContainer__CIQeu",dialogActionInnerContainer:"polygonField_dialogActionInnerContainer__3qAKm",mapContainer:"polygonField_mapContainer__etpx4",map:"polygonField_map__6YoeX",dialogContent:"polygonField_dialogContent__34Qpm"}},6794:function(e,t,a){},6795:function(e,t,a){e.exports={container:"textField_container__3VRip"}},6796:function(e,t,a){e.exports={container:"textRangeField_container__3mndm"}},6797:function(e,t,a){e.exports={container:"dateRangeField_container__1PqzJ"}},6798:function(e,t,a){},6799:function(e,t,a){e.exports={labelContainer:"label_labelContainer__2mJzC",labelContainerVertical:"label_labelContainerVertical__15yZQ"}},6800:function(e,t,a){e.exports={container:"withLabel_container__2plU5",containerVertical:"withLabel_containerVertical__1b9Te",labelContainer:"withLabel_labelContainer__ydTPa",labelContainerVertical:"withLabel_labelContainerVertical__3I_c6",inputContainer:"withLabel_inputContainer__2OfML"}},6801:function(e,t,a){e.exports={horizontal:"divider_horizontal__XvuNZ"}},6802:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_runner_work_capture_app_capture_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),loglevel__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(189),loglevel__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_2__),react_transform_tree__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6803),react_transform_tree__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_transform_tree__WEBPACK_IMPORTED_MODULE_3__),capture_core_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(190),_metaData__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(187);class D2CustomForm extends react__WEBPACK_IMPORTED_MODULE_1__.Component{static getEventListenersForCurrentNode(e){return Object.keys(e).filter(e=>e.startsWith("on"))}static getEventListenerSpecsForCurrentNode(e,t,a){return e.map(e=>{const r=t[e],n=e.replace(/^on/,"");return{id:a,type:n,handler:r}})}static renderField(e,t,a){return a(Object(_home_runner_work_capture_app_capture_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{props:Object(_home_runner_work_capture_app_capture_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e.props,{customFormElementProps:t})}))}constructor(e){super(e),this.preProcessSourceTree()}componentDidMount(){this.addScripts(),this.addEventListeners()}componentWillUnmount(){this.removeEventListeners()}preProcessSourceTree(){const{specs:e}=this.props,t=e.data.elements;let a=1,r=[],n=[];try{n=Object(react_transform_tree__WEBPACK_IMPORTED_MODULE_3__.walk)(t,{[react_transform_tree__WEBPACK_IMPORTED_MODULE_3__.kinds.DOM_ELEMENT]:e=>{const{node:t}=e,{props:n}=t;if(n){const o=D2CustomForm.getEventListenersForCurrentNode(n);if(o.length>0){const i=D2CustomForm.getEventListenerSpecsForCurrentNode(o,n,a);r=[...r,...i];const s=Object.keys(n).reduce((e,t)=>(o.includes(t)||(e[t]=n[t]),e),{}),l=react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(t,Object(_home_runner_work_capture_app_capture_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},s,{"data-custom-form-id":a}),...e.walkChildren());return a+=1,l}}return react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(t,t.props,...e.walkChildren())}})}catch(o){loglevel__WEBPACK_IMPORTED_MODULE_2___default.a.error(Object(capture_core_utils__WEBPACK_IMPORTED_MODULE_4__.c)(D2CustomForm.errorMessages.PRE_PROCESS_FAILED)({sourceTree:t,error:o})),r=[],n=[]}this.eventListenerSpecs=r,this.preProcessedSourceTree=n}addScripts(){this.props.specs.data.scripts.forEach(e=>{const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.innerHTML=e,document.body.appendChild(t)})}addEventListeners(){const eventListenerSpecs=this.eventListenerSpecs,specsWithHandlerRef=eventListenerSpecs.map(spec=>{const handlerRef=()=>{eval(spec.handler)};return document.querySelector('[data-custom-form-id="'.concat(spec.id,'"]')).addEventListener(spec.type,handlerRef),Object(_home_runner_work_capture_app_capture_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},spec,{handlerRef:handlerRef})});this.eventListenerSpecs=specsWithHandlerRef}removeEventListeners(){this.eventListenerSpecs.forEach(e=>{document.querySelector('[data-custom-form-id="'.concat(e.id,'"]')).removeEventListener(e.type,e.handlerRef)})}transform(){const{fields:e,onRenderField:t}=this.props,a=this.preProcessedSourceTree;return Object(react_transform_tree__WEBPACK_IMPORTED_MODULE_3__.walk)(a,{[react_transform_tree__WEBPACK_IMPORTED_MODULE_3__.kinds.DOM_ELEMENT]:a=>{const{node:r}=a;if("FormField"===r.type){const a=r.props.id,n=e.find(e=>e.id===a);return n?D2CustomForm.renderField(n,r.props.customFormElementProps,t):null}return a.defaultHandler()}})}render(){const e=this.transform();return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",null,e)}}D2CustomForm.errorMessages={PRE_PROCESS_FAILED:"Could not pre process custom form source tree"},__webpack_exports__.a=D2CustomForm},6829:function(e,t,a){},6834:function(e,t,a){e.exports={inputWrapper:"selectField_inputWrapper__SLXjI"}},6912:function(e,t,a){e.exports={container:"searchSuggestions_container__1DvLT",list:"searchSuggestions_list__15ZbP"}},6913:function(e,t,a){e.exports={listUp:"searchSuggestionsUp_listUp__1HtPg",listUpInner:"searchSuggestionsUp_listUpInner__ELgmk"}},6915:function(e,t,a){e.exports={suggestion:"searchSuggestion_suggestion__UaWR9",suggestionInUpList:"searchSuggestion_suggestionInUpList__14Yv9"}},6916:function(e,t,a){e.exports={container:"selected_container__B7438",chipContainer:"selected_chipContainer__2kAsL",input:"selected_input__3uzVo",inputContainer:"selected_inputContainer__2d1GQ"}},6917:function(e,t,a){e.exports={defaultCustomContainer:"coordinateFieldCustomForm_defaultCustomContainer__zXD20"}},6918:function(e,t,a){e.exports={defaultCustomContainer:"optionSetSelectFieldForCustomForm_defaultCustomContainer__3VCN0"}},6919:function(e,t,a){},6920:function(e,t,a){e.exports={defaultCustomContainer:"polygonFieldCustomForm_defaultCustomContainer__3Er9o"}},6921:function(e,t,a){e.exports={defaultCustomContainer:"textFieldCustomForm_defaultCustomContainer__1R60w"}},6922:function(e,t,a){e.exports={defaultCustomContainer:"userNameFieldCustomForm_defaultCustomContainer__3UUau"}},6923:function(e,t,a){e.exports={defaultCustomContainer:"ViewModeFieldCustomForm_defaultCustomContainer__1WqLk"}},6949:function(e,t,a){},6950:function(e,t,a){},6953:function(e,t,a){},7088:function(e,t,a){e.exports={booleanLabel:"fieldLabels_booleanLabel__2-Wuj",trueOnlyLabel:"fieldLabels_trueOnlyLabel__3XIfu",noteLabel:"fieldLabels_noteLabel__1mmYm",textLabel:"fieldLabels_textLabel__2GVvN",ageLabel:"fieldLabels_ageLabel__3EQlY",coordinateLabel:"fieldLabels_coordinateLabel__Tm6Xy",polygonLabel:"fieldLabels_polygonLabel__3HY64",dateLabel:"fieldLabels_dateLabel__MClXT",dateTimeLabel:"fieldLabels_dateTimeLabel__1sfaI",imageLabel:"fieldLabels_imageLabel__1mLZC",fileLabel:"fieldLabels_fileLabel__3caiV",orgUnitLabel:"fieldLabels_orgUnitLabel__-YV9z"}},7092:function(e,t,a){},7150:function(e,t,a){e.exports={booleanLabel:"dataEntryFieldLabels_booleanLabel__TMi2W",trueOnlyLabel:"dataEntryFieldLabels_trueOnlyLabel__2FCmF",noteLabel:"dataEntryFieldLabels_noteLabel__3A794",textLabel:"dataEntryFieldLabels_textLabel__2EjKH",ageLabel:"dataEntryFieldLabels_ageLabel__1Y2HY",coordinateLabel:"dataEntryFieldLabels_coordinateLabel__1B758",polygonLabel:"dataEntryFieldLabels_polygonLabel__17U0J",dateLabel:"dataEntryFieldLabels_dateLabel__3sqRD",dateTimeLabel:"dataEntryFieldLabels_dateTimeLabel__2B1f8",imageLabel:"dataEntryFieldLabels_imageLabel__1JCdC",fileLabel:"dataEntryFieldLabels_fileLabel__3ZcWY",orgUnitLabel:"dataEntryFieldLabels_orgUnitLabel__36Nbw"}},7151:function(e,t,a){e.exports={fieldLabelMediaBased:"enrollment_fieldLabelMediaBased__-vTfd"}},7152:function(e,t,a){e.exports={fieldLabelMediaBased:"trackedEntityInstance_fieldLabelMediaBased__11tLe"}},7158:function(e,t,a){},7392:function(e,t,a){e.exports={booleanLabel:"dataEntryFieldLabels_booleanLabel__2i_u2",trueOnlyLabel:"dataEntryFieldLabels_trueOnlyLabel__1G4W_",noteLabel:"dataEntryFieldLabels_noteLabel__10Ekv",textLabel:"dataEntryFieldLabels_textLabel__aDTO-",ageLabel:"dataEntryFieldLabels_ageLabel__2bwOI",coordinateLabel:"dataEntryFieldLabels_coordinateLabel__2seaY",polygonLabel:"dataEntryFieldLabels_polygonLabel__2_1rL",dateLabel:"dataEntryFieldLabels_dateLabel__5f-sF",dateTimeLabel:"dataEntryFieldLabels_dateTimeLabel__1Po-0",imageLabel:"dataEntryFieldLabels_imageLabel__rZjuD",fileLabel:"dataEntryFieldLabels_fileLabel__23U9t",orgUnitLabel:"dataEntryFieldLabels_orgUnitLabel__1WUc_"}},7393:function(e,t,a){e.exports={booleanLabel:"viewEventDataEntryFieldLabels_booleanLabel__2SJo2",trueOnlyLabel:"viewEventDataEntryFieldLabels_trueOnlyLabel__9cVrs",noteLabel:"viewEventDataEntryFieldLabels_noteLabel__2GmZT",textLabel:"viewEventDataEntryFieldLabels_textLabel__-XNg3",ageLabel:"viewEventDataEntryFieldLabels_ageLabel__13XN7",coordinateLabel:"viewEventDataEntryFieldLabels_coordinateLabel__13Ae5",polygonLabel:"viewEventDataEntryFieldLabels_polygonLabel__27GEE",dateLabel:"viewEventDataEntryFieldLabels_dateLabel__1nZ10",dateTimeLabel:"viewEventDataEntryFieldLabels_dateTimeLabel__1C-eX",imageLabel:"viewEventDataEntryFieldLabels_imageLabel__2uHv3",fileLabel:"viewEventDataEntryFieldLabels_fileLabel__39phG",orgUnitLabel:"viewEventDataEntryFieldLabels_orgUnitLabel__2RVKk",defaultViewLabel:"viewEventDataEntryFieldLabels_defaultViewLabel__3NkXp"}},7425:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=(a(6407),a(6408),a(6)),i=a.n(o),s=a(6409),l=a(6410),c=a(6411),d=a(6412),p=a(6413),u=a(6414),m=a(6415),h=a(6416),g=a(6417),y=a(6418),v=a(6419),b=a(6420),E=a(6421),f=a(6422),O=a(6423),S=a(6424),C=a(6425),I=a(6426),w=a(6427),T=a(6428),N=a(6429),_=a(6430),A=a(6431),R=a(6432),k=a(6433),j=a(6434),P=a(6435),D=a(6436),F=a(6437),x=a(6438);i.a.addResources("ar","default",s),i.a.addResources("ar_IQ","default",l),i.a.addResources("bn","default",c),i.a.addResources("ckb","default",d),i.a.addResources("cs","default",p),i.a.addResources("da","default",u),i.a.addResources("en","default",m),i.a.addResources("es","default",h),i.a.addResources("fr","default",g),i.a.addResources("id","default",y),i.a.addResources("km","default",v),i.a.addResources("lo","default",b),i.a.addResources("my","default",E),i.a.addResources("nb","default",f),i.a.addResources("prs","default",O),i.a.addResources("ps","default",S),i.a.addResources("pt","default",C),i.a.addResources("pt_BR","default",I),i.a.addResources("ru","default",w),i.a.addResources("sv","default",T),i.a.addResources("tet","default",N),i.a.addResources("tg","default",_),i.a.addResources("uk","default",A),i.a.addResources("ur","default",R),i.a.addResources("uz","default",k),i.a.addResources("uz_Cyrl","default",j),i.a.addResources("uz_Latn","default",P),i.a.addResources("vi","default",D),i.a.addResources("zh","default",F),i.a.addResources("zh_CN","default",x);i.a;var L=a(189),U=a.n(L),M=a(6439),V=a(618),B=a(190),G=a(11);function H(e){return(t,a,r)=>({type:e,payload:t,meta:a,error:r})}function W(e){return t=>Object(G.a)({},e,{payload:Object(G.a)({},e.payload,{},t)})}const Y="CoreLoad",z="CoreLoadSucess",q="CoreLoadFailed",K="OrgUnitCaptureRootsLoadSuccess",X="OrgUnitSearchRootsLoadSuccess";var J=a(225);const Z="CoreLoadSuccessBatch";var Q=a(7417);let $;const ee=()=>($||U.a.error("please set d2 before using it"),$),te=()=>ee().Api.getApi(),ae=()=>ee().currentUser;var re=ee;const ne={};function oe(e,t){ne[e]=t}function ie(e){return ne[e]}const se="id,displayName,path,publicAccess,access,lastUpdated,children[id,displayName,publicAccess,access,path,children::isNotEmpty]";async function le(){const e=await ae().getOrganisationUnits({defaultFields:se,paging:!1}).then(e=>e.toArray());oe("captureRoots",e);const t=e.map(e=>({id:e.id,path:e.path,displayName:e.displayName}));return a=t,H(K)({roots:a});var a}async function ce(){const e=await function(){const e=ae();if(!e.teiSearchOrganisationUnits||0===e.teiSearchOrganisationUnits.length)return Promise.resolve(ie("captureRoots"));const t=e.teiSearchOrganisationUnits.map(e=>e.id).join(",");return re().models.organisationUnits.list({fields:se,filter:"id:in:[".concat(t,"]"),paging:!1}).then(e=>e.toArray())}();oe("searchRoots",e);const t=e.map(e=>({id:e.id,path:e.path,displayName:e.displayName}));return a=t,H(X)({roots:a});var a}const de="AppLoad",pe="AppLoadSuccess",ue="AppLoadFailed";var me=a(816),he=a.n(me),ge=a(185),ye=(a(22),a(1177)),ve=a(7),be=a(503),Ee=a.n(be);var fe=e=>{const t=Object.assign({},e);return n.a.createElement(Ee.a,t)};var Oe=Object(ge.withStyles)(()=>({container:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"}}))(e=>n.a.createElement("div",{className:e.classes.container},n.a.createElement(fe,{size:50}))),Se=a(261),Ce=a.n(Se),Ie=a(249),we=a.n(Ie);class Te extends r.Component{render(){return n.a.createElement(Ce.a,{open:!0},n.a.createElement(we.a,null,n.a.createElement(fe,null)))}}var Ne=Te,_e=a(178);var Ae=Object(ge.withStyles)(()=>({container:{display:"flex",alignItems:"center",justifyContent:"center",height:"calc(100vh - 48px)"}}))(e=>{const{containerStyle:t,classes:a}=e,r=Object(_e.a)(e,["containerStyle","classes"]);return n.a.createElement("div",{className:a.container,style:t},n.a.createElement(fe,r))});function Re(e,t){this.message=e,this.innerError=t,this.toString=()=>this.message}var ke=a(450),je=a(451),Pe=a(12),De=a.n(Pe);class Fe{static set(e){Fe.currentData=e}static get(){return Fe.currentData}}var xe={USER_CACHES:"userCaches",STATUS:"status",SYSTEM_SETTINGS:"systemSettings"},Le={CONSTANTS:"constants",ORGANISATION_UNIT_LEVELS:"organisationUnitLevels",ORGANISATION_UNIT_GROUPS:"organisationUnitGroups",RELATIONSHIP_TYPES:"relationshipTypes",TRACKED_ENTITY_TYPES:"trackedEntityTypes",PROGRAMS:"programs",PROGRAM_RULES:"programRules",PROGRAM_RULES_VARIABLES:"programRulesVariables",PROGRAM_INDICATORS:"programIndicators",TRACKED_ENTITY_ATTRIBUTES:"trackedEntityAttributes",OPTION_SETS:"optionSets",CATEGORIES:"categories",CATEGORY_OPTIONS_BY_CATEGORY:"categoryOptionsByCategory",CATEGORY_OPTIONS:"categoryOptions",REDUX_PERSIST:"reduxPersist"},Ue=a(291),Me=a.n(Ue),Ve=a(319);class Be{static isSupported(){return Be.indexedDB&&Be.iDBKeyRange&&Be.iDBTransaction}static closeDB(e){e.close()}static destroyDB(e){return new Promise((t,a)=>{const r=Be.indexedDB.deleteDatabase(e);let n=!1;r.onsuccess=e=>{n||t(e)},r.onerror=e=>{a(Object(Ve.a)(Be.errorMessages.DESTROY_FAILED)({error:e}))},r.onblocked=e=>{n=!0,a(Object(Ve.a)(Be.errorMessages.DESTROY_BLOCKED)({error:e}))}})}static get(e,t,a,r){return new Promise((n,o)=>{let i,s;try{let l;i=a.transaction([e],Be.transactionMode.READ_ONLY),i.oncomplete=()=>{n(l)},i.onerror=e=>{o(Object(Ve.a)(Be.errorMessages.GET_FAILED)({error:e}))},i.onabort=()=>{o(Object(Ve.a)(Be.errorMessages.GET_FAILED)({aborted:!0,error:s}))},i.objectStore(e).get(t).onsuccess=e=>{const a=e.target.result;Me()(a)&&(a[r]=t),l=a}}catch(l){i&&(e=>{s=e,i.abort()})(l),o(Object(Ve.a)(Be.errorMessages.GET_FAILED)({error:l}))}})}constructor(e){this.name=e.name,this.version=e.version,this.objectStoreNames=e.objectStores,this.keyPath=e.keyPath,this.onCacheExpired=e.onCacheExpired}_upgrade(e){if(this.db.objectStoreNames){Array.from(this.db.objectStoreNames).forEach(e=>{this.db.deleteObjectStore(e)})}this.objectStoreNames.forEach(t=>{const a=this.db.createObjectStore(t);e&&e(a,Be)})}static facilitateDowngradeIfApplicable(e,t,a,r){const n=Be.indexedDB.open(e);return new Promise((o,i)=>{n.onsuccess=n=>{const s=n.target.result.version,l=n.target.result;l.onversionchange=()=>{l.close()},s>t?Promise.resolve().then(()=>r&&r({get:(e,t)=>l.objectStoreNames.contains(e)?Be.get(e,t,l,a):Promise.resolve(null),isDowngrade:!0})).then(()=>{Be.closeDB(l),Be.destroyDB(e).then(()=>{o(!0)}).catch(e=>{U.a.error(Object(Ve.a)(Be.errorMessages.OPEN_FAILED)({error:e})),i(Be.errorMessages.OPEN_FAILED)})}):(Be.closeDB(l),o(!1))},n.onerror=e=>{U.a.error(Object(Ve.a)(Be.errorMessages.OPEN_FAILED)({error:e})),i(Be.errorMessages.OPEN_FAILED)}})}async open(e,t,a){const r=await Be.facilitateDowngradeIfApplicable(this.name,this.version,this.keyPath,e),n=Be.indexedDB.open(this.name,this.version);let o=!1;await new Promise((i,s)=>{n.onsuccess=e=>{this.db=e.target.result,this.db.onversionchange=()=>{this.db.close(),this.db=void 0,this.onCacheExpired&&this.onCacheExpired()},i()},n.onerror=e=>{s(Object(Ve.a)(Be.errorMessages.OPEN_FAILED)({adapter:this,error:e}))},n.onblocked=e=>{o=!0,s(Object(Ve.a)(Be.errorMessages.OPEN_BLOCKED)({adapter:this,error:e}))},n.onupgradeneeded=n=>{const i=n.target.transaction;if(!o)return this.db=n.target.result,this.db.onversionchange=()=>{this.db.close(),this.db=void 0},Promise.resolve().then(()=>!r&&e&&e({get:(e,t)=>this.db.objectStoreNames.contains(e)?this.getForUpgrade(e,t,i):Promise.resolve(null)})).then(()=>(this._upgrade(a),Promise.resolve())).then(()=>t&&t({set:(e,t)=>this.setForUpgrade(e,t,i)}));i.abort()}})}setForUpgrade(e,t,a){return new Promise((r,n)=>{const o=JSON.parse(JSON.stringify(t)),i=o[this.keyPath],s=a.objectStore(e).put(o,i);s.onsuccess=()=>{r(o)},s.onerror=e=>{n(Object(Ve.a)(Be.errorMessages.SET_FAILED)({adapter:this,error:e}))}})}set(e,t){return new Promise((a,r)=>{let n,o;try{const i=JSON.parse(JSON.stringify(t)),s=i[this.keyPath];n=this.db.transaction([e],Be.transactionMode.READ_WRITE),n.oncomplete=()=>{a(i)},n.onerror=e=>{r(Object(Ve.a)(Be.errorMessages.SET_FAILED)({adapter:this,error:e}))},n.onabort=()=>{r(Object(Ve.a)(Be.errorMessages.SET_FAILED)({adapter:this,aborted:!0,error:o}))},n.objectStore(e).put(i,s)}catch(i){n?(e=>{o=e,n.abort()})(i):r(Object(Ve.a)(Be.errorMessages.SET_FAILED)({adapter:this,error:i}))}})}setAll(e,t){return new Promise((a,r)=>{let n,o;const i=e=>{o=e,n.abort()};try{n=this.db.transaction([e],Be.transactionMode.READ_WRITE),n.oncomplete=()=>{a()},n.onerror=e=>{r(Object(Ve.a)(Be.errorMessages.SET_FAILED)({adapter:this,error:e}))},n.onabort=()=>{r(Object(Ve.a)(Be.errorMessages.SET_FAILED)({adapter:this,aborted:!0,error:o}))};const s=n.objectStore(e);let l=0;const c=()=>{if(l<t.length){const e=t[l],a=JSON.parse(JSON.stringify(e));Me()(a)&&Me()(a[this.keyPath])||i(Object(Ve.a)(Be.errorMessages.INVALID_STORAGE_OBJECT)({adapter:this}));const r=a[this.keyPath];s.put(a,r).onsuccess=()=>{l+=1,c()}}};c()}catch(s){n&&i(s),r(Object(Ve.a)(Be.errorMessages.SET_FAILED)({adapter:this,error:s}))}})}getForUpgrade(e,t,a){return new Promise((r,n)=>{const o=a.objectStore(e).get(t);o.onsuccess=e=>{const a=e.target.result;Me()(a)&&(a[this.keyPath]=t),r(a)},o.onerror=e=>{n(Object(Ve.a)(Be.errorMessages.GET_FAILED)({adapter:this,error:e}))}})}get(e,t){return Be.get(e,t,this.db,this.keyPath)}async _getAllInBatches(e,t,a){const{predicate:r,project:n,onIDBGetRequest:o,batchSize:i}=t||{},s=t=>new Promise(s=>{const l=o?o(e,Be):e.getAll(t,i);l.onsuccess=()=>{const e=l.result,t=e?e.length:0;let o;t>0&&(e.forEach(e=>{this._processGetAllItem(e,r,n,a)}),o=e[t-1].id),s({count:t,lastId:o})}});let l,c=!1;do{const{count:e,lastId:t}=await s(l);e<i?c=!0:l=IDBKeyRange.lowerBound(t,!0)}while(!c)}_getAllWithCursor(e,t,a,r){const{predicate:n,project:o,onIsAborted:i,onIDBGetRequest:s}=t||{};(s?s(e,Be):e.openCursor()).onsuccess=e=>{if(!!i&&i())r();else{const t=e.target.result;if(t){t.value[this.keyPath]=t.primaryKey||t.key;const e=t.value;this._processGetAllItem(e,n,o,a),t.continue()}}}}_processGetAllItem(e,t,a,r){if(!t||t(e)){const t=a?a(e):e;r.push(t)}}getAll(e,t){return new Promise((a,r)=>{let n,o;const i=e=>{o=e,n.abort()},{batchSize:s,isAborted:l}=t||{};try{const c=[];n=this.db.transaction([e],Be.transactionMode.READ_ONLY);const d=n.objectStore(e);s?this._getAllInBatches(d,t,c,i):this._getAllWithCursor(d,t,c,i),n.oncomplete=()=>{l&&l()?r(Object(Ve.a)(Be.errorMessages.GET_ALL_FAILED)({adapter:this,aborted:!0,error:o})):a(c)},n.onerror=e=>{l&&l()?r(Object(Ve.a)(Be.errorMessages.GET_ALL_FAILED)({adapter:this,aborted:!0,error:o})):r(Object(Ve.a)(Be.errorMessages.GET_ALL_FAILED)({adapter:this,error:e}))},n.onabort=()=>{r(Object(Ve.a)(Be.errorMessages.GET_ALL_FAILED)({adapter:this,aborted:!0,error:o}))}}catch(c){n&&i(c),r(Object(Ve.a)(Be.errorMessages.GET_ALL_FAILED)({adapter:this,error:c}))}})}getKeys(e){return new Promise((t,a)=>{let r,n;try{const o=[];r=this.db.transaction([e],Be.transactionMode.READ_ONLY),r.oncomplete=()=>{t(o)},r.onerror=e=>{a(Object(Ve.a)(Be.errorMessages.GET_KEYS_FAILED)({adapter:this,error:e}))},r.onabort=()=>{a(Object(Ve.a)(Be.errorMessages.GET_KEYS_FAILED)({adapter:this,aborted:!0,error:n}))},r.objectStore(e).openCursor().onsuccess=e=>{const t=e.target.result;t&&(o.push(t.key),t.continue())}}catch(o){r&&(e=>{n=e,r.abort()})(o),a(Object(Ve.a)(Be.errorMessages.GET_KEYS_FAILED)({adapter:this,error:o}))}})}remove(e,t){return new Promise((a,r)=>{let n,o;try{n=this.db.transaction([e],Be.transactionMode.READ_WRITE),n.oncomplete=()=>{a()},n.onerror=e=>{r(Object(Ve.a)(Be.errorMessages.REMOVE_FAILED)({adapter:this,error:e}))},n.onabort=()=>{r(Object(Ve.a)(Be.errorMessages.REMOVE_FAILED)({adapter:this,aborted:!0,error:o}))};const i=n.objectStore(e);Array.isArray(t)?t.forEach(e=>{i.delete(e)}):i.delete(t)}catch(i){n&&(e=>{o=e,n.abort()})(i),r(Object(Ve.a)(Be.errorMessages.REMOVE_FAILED)({adapter:this,error:i}))}})}removeAll(e){return new Promise((t,a)=>{let r,n;try{r=this.db.transaction([e],Be.transactionMode.READ_WRITE),r.oncomplete=()=>{t()},r.onerror=e=>{a(Object(Ve.a)(Be.errorMessages.REMOVE_ALL_FAILED)({adapter:this,error:e}))},r.onabort=()=>{a(Object(Ve.a)(Be.errorMessages.REMOVE_ALL_FAILED)({adapter:this,aborted:!0,error:n}))},r.objectStore(e).clear()}catch(o){r&&(e=>{n=e,r.abort()})(o),a(Object(Ve.a)(Be.errorMessages.REMOVE_ALL_FAILED)({adapter:this,error:o}))}})}contains(e,t){return new Promise((a,r)=>{let n,o;try{let i;n=this.db.transaction([e],Be.transactionMode.READ_ONLY),n.oncomplete=()=>{a(i)},n.onerror=e=>{r(Object(Ve.a)(Be.errorMessages.CONTAINS_FAILED)({adapter:this,error:e}))},n.onabort=()=>{r(Object(Ve.a)(Be.errorMessages.CONTAINS_FAILED)({adapter:this,aborted:!0,error:o}))},n.objectStore(e).get(t).onsuccess=e=>{const t=e.target.result;i=!!t}}catch(i){n&&(e=>{o=e,n.abort()})(i),r(Object(Ve.a)(Be.errorMessages.CONTAINS_FAILED)({adapter:this,error:i}))}})}count(e,t){return new Promise((a,r)=>{const{onIDBGetRequest:n,query:o}=t||{};let i,s;try{let t;i=this.db.transaction([e],Be.transactionMode.READ_ONLY),i.oncomplete=()=>{a(t)},i.onerror=e=>{r(Object(Ve.a)(Be.errorMessages.COUNT_FAILED)({adapter:this,error:e}))},i.onabort=()=>{r(Object(Ve.a)(Be.errorMessages.COUNT_FAILED)({adapter:this,aborted:!0,error:s}))};const l=i.objectStore(e);(n?n(l):l.count(o)).onsuccess=e=>{t=e.target.result}}catch(l){i&&(e=>{s=e,i.abort()})(l),r(Object(Ve.a)(Be.errorMessages.COUNT_FAILED)({adapter:this,error:l}))}})}close(){return new Promise((e,t)=>{if(this.db)try{const t=this.db;Be.closeDB(t),this.db=null,e()}catch(a){t(Object(Ve.a)(Be.errorMessages.CLOSE_FAILED)({adapter:this,error:a}))}else e()})}async destroy(){await new Promise((e,t)=>{this.close().then(()=>{e()}).catch(e=>{t(Object(Ve.a)(Be.errorMessages.CLOSE_FAILED_FROM_DESTROY)({adapter:this,error:e}))})}),await Be.destroyDB(this.name)}isOpen(){return!!this.db}}Be.errorMessages={OPEN_FAILED:"open indexedDB failed",OPEN_BLOCKED:"indexedDB blocked",OPEN_DATABASE_FIRST:"Open database first",INVALID_STORAGE_OBJECT:"Invalid storage object",STORAGE_ARRAY_NOT_PROVIDED:"An array must be provided",SET_FAILED:"Save to indexedDB failed",INVALID_KEY:"Key is invalid",GET_FAILED:"Get from indexedDB failed",GET_ALL_FAILED:"Get All from indexedDB failed",GET_KEYS_FAILED:"Get Keys from indexedDB failed",REMOVE_FAILED:"Remove from indexedDB failed",REMOVE_ALL_FAILED:"Remove all from indexedDB failed",CONTAINS_FAILED:"Contains check from indexedDB failed",COUNT_FAILED:"Count from indexedDB failed",CLOSE_FAILED:"Close indexedDB failed",DESTROY_FAILED:"Destroy indexedDB failed",DESTROY_BLOCKED:"Destroy indexedDB blocked",CLOSE_FAILED_FROM_DESTROY:"Close indexedDB failed from destroy"},Be.transactionMode={READ_WRITE:"readwrite",READ_ONLY:"readonly"},Be.adapterName="IndexedDBAdapter",Be.indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.oIndexedDB||window.msIndexedDB,Be.iDBKeyRange=(()=>{const e=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange;return e?e.bind(window):null})(),Be.iDBTransaction=(()=>{const e=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction;return e?e.bind(window):null})();var Ge=Be;class He{constructor(e,t,a){this.key="".concat(e,".").concat(t,".**index**"),this.storage=a}all(){let e=this.storage.getItem(this.key);if(e)try{e=JSON.parse(e)}catch(t){e=null}return e||this.storage.setItem(this.key,JSON.stringify([])),JSON.parse(this.storage.getItem(this.key))}add(e){const t=this.all();t.push(e),this.storage.setItem(this.key,JSON.stringify(t))}remove(e){const t=this.all();t.includes(e)&&(t.splice(t.indexOf(e),1),this.storage.setItem(this.key,JSON.stringify(t)))}find(e){return this.all().indexOf(e)}exists(e){return-1!==this.all().indexOf(e)}destroy(){this.storage.removeItem(this.key)}}class We{static isSupported(){return!!We.storage}constructor(e){this.name=e.name,this.version=e.version||1,this.objectStoreNames=e.objectStores,this.keyPath=e.keyPath,this.opened=!1}open(e,t){this.indexer=this.objectStoreNames.reduce((e,t)=>(e[t]=new He(this.name,t,We.storage),e),{});const a="".concat(this.name,".").concat(We.CACHEVERSIONKEY),r=We.storage.getItem(a),n=r&&JSON.parse(r);return this.opened=!0,this.version!==n?Promise.resolve().then(()=>e&&e({get:this.get.bind(this)})).then(()=>(this._executeDestroy(),We.storage.setItem(a,JSON.stringify(this.version)),Promise.resolve())).then(()=>t&&t({set:this.set.bind(this)})):Promise.resolve()}_executeSet(e,t){const a=JSON.parse(JSON.stringify(t)),r=a[this.keyPath];delete a[this.keyPath];const n=this.getStoreKey(e,r);this.indexer[e].exists(n)||this.indexer[e].add(n),We.storage.setItem(n,JSON.stringify(a))}set(e,t){return new Promise((a,r)=>{try{this._executeSet(e,t),a()}catch(n){r(Object(Ve.a)(We.errorMessages.SET_FAILED)({adapter:this,error:n}))}})}setAll(e,t){try{return t.forEach(t=>{this._executeSet(e,t)}),Promise.resolve()}catch(a){return Promise.reject(a)}}get(e,t){return new Promise(a=>{const r=We.storage.getItem(this.getStoreKey(e,t));let n;r&&(n=JSON.parse(r),n[this.keyPath]=t),a(n)})}getAll(e,t){const{predicate:a,project:r}=t||{},n=this.indexer[e].all().reduce((t,n)=>{const o=We.storage.getItem(n);if(o&&(!a||a(o))){const a=JSON.parse(o);a[this.keyPath]=this.mainKeyFromStoreKey(n,e);const i=r?r(a):a;t.push(i)}return t},[]);return Promise.resolve(n)}_executeGetKeys(e){return this.indexer[e].all().map(t=>this.mainKeyFromStoreKey(t,e))}getKeys(e){return Promise.resolve(this._executeGetKeys(e))}_executeRemove(e,t){const a=this.getStoreKey(e,t);this.indexer[e].remove(a),We.storage.removeItem(a)}remove(e,t){return this._executeRemove(e,t),Promise.resolve()}_executeRemoveAll(e){this._executeGetKeys(e).forEach(t=>{this._executeRemove(e,t)})}removeAll(e){return Promise.resolve(this._executeRemoveAll(e))}contains(e,t){const a=this.getStoreKey(e,t);return Promise.resolve(this.indexer[e].exists(a))}count(e,t){return t&&Promise.reject(Object(Ve.a)(We.errorMessages.KEY_BASED_COUNT_IS_NOT_SUPPORTED)({adapter:this})),Promise.resolve(this.indexer[e].all().length)}close(){return this.opened=!1,Promise.resolve()}_executeDestroy(){this.objectStoreNames.forEach(e=>{this._executeRemoveAll(e),this.indexer[e].destroy()})}destroy(){return this.opened=!1,this._executeDestroy(),Promise.resolve()}isOpen(){return this.opened}getStoreKey(e,t){return"".concat(this.name,".").concat(e,".").concat(t)}mainKeyFromStoreKey(e,t){return e.replace("".concat(this.name,".").concat(t,"."),"")}}We.storage=window.localStorage,We.adapterName="DomLocalStorageAdapter",We.CACHEVERSIONKEY="__VERSION__",We.errorMessages={INVALID_STORAGE_OBJECT:"Invalid storage object",SET_FAILED:"Save to localStorage failed",INVALID_KEY:"Key is invalid",KEY_BASED_COUNT_IS_NOT_SUPPORTED:"Key based count is not supported by DomLocalStorageAdapter",STORAGE_NOT_OPENED:"Please call open first in the DomLocalStorageAdapter"};var Ye=We;class ze{static isSupported(){return!0}constructor(e){this.name=e.name,this.version=e.version||1,this.objectStoreNames=e.objectStores,this.keyPath=e.keyPath,this.opened=!1}open(){this.storage=this.objectStoreNames.reduce((e,t)=>(e[t]=new Map,e),{}),this.opened=!0}_executeSet(e,t){const a=t[this.keyPath];e.set(a,t)}set(e,t){const a=this.storage[e];this._executeSet(a,t)}setAll(e,t){const a=this.storage[e];t.forEach(e=>{this._executeSet(a,e)})}get(e,t){return this.storage[e].get(t)}getAll(e,t){const a=this.storage[e],r=Array.from(a.values()),{predicate:n,project:o,onEditSource:i}=t||{},s=i?i(r,ze):r,l=n?s.filter(n):s;return o?l.map(o):l}getKeys(e){const t=this.storage[e];return Array.from(t.keys())}contains(e,t){return this.storage[e].has(t)}count(e,t){if(t)throw Error(Object(Ve.a)(ze.errorMessages.KEY_BASED_COUNT_IS_NOT_SUPPORTED)({adapter:this}));return this.storage[e].size}remove(e,t){this.storage[e].delete(t)}removeAll(e){this.storage[e]=new Map}close(){this.opened=!1}destroy(){this.opened=!1,this.storage=this.objectStoreNames.reduce((e,t)=>(e[t]=new Map,e),{})}isOpen(){return this.opened}}ze.errorMessages={INVALID_STORE_NAME:"Invalid store name",KEY_BASED_COUNT_IS_NOT_SUPPORTED:"Key based count is not supported by DomLocalStorageAdapter"};var qe=ze,Ke={INDEXED_DB:Ge,LOCAL_STORAGE:Ye,MEMORY:qe},Xe=a(279),Je=a.n(Xe);class Ze{static isAdapterValid(e){return!!"isSupported".split(" ").every(t=>e[t])&&"open set setAll get getAll getKeys count contains remove removeAll close destroy isOpen".split(" ").every(t=>e.prototype[t])}constructor(e,t,{Adapters:a,objectStores:r,onCacheExpired:n}){if(this.throwIfDataObjectError=e=>{if(!e||!e[this.adapter.keyPath])throw Error(Object(Ve.a)(Ze.errorMessages.INVALID_STORAGE_OBJECT)({adapter:this.adapter}))},!e)throw new Error(Ze.errorMessages.INVALID_NAME);if(!a||!Je()(a)||0===a.length)throw new Error(Ze.errorMessages.NO_ADAPTERS_DEFINED);const o=a.filter(e=>{if(!Ze.isAdapterValid(e))throw new Error(Object(Ve.a)(Ze.errorMessages.INVALID_ADAPTER_PROVIDED)({Adapter:e}));return e.isSupported()});if(o.length<=0)throw new Error(Ze.errorMessages.NO_VALID_ADAPTERS_FOUND);this.name=e,this.version=t,this.Adapters=a,this.AvailableAdapters=o;const i=o[0];this.adapter=new i({name:e,version:t,objectStores:r,keyPath:"id",onCacheExpired:n}),this.adapterType=i}getOpenStatusError(){return this.adapter.isOpen()?null:Object(Ve.a)(Ze.errorMessages.STORAGE_NOT_OPEN)({adapter:this.adapter})}throwIfNotOpen(){if(this.getOpenStatusError())throw Error(Object(Ve.a)(Ze.errorMessages.STORAGE_NOT_OPEN)({adapter:this.adapter}))}throwIfStoreNotFound(e,t){if(!e||!this.adapter.objectStoreNames.includes(e))throw Error(Object(Ve.a)(Ze.errorMessages.INVALID_OBJECTSTORE)({storageContainer:this,adapter:this.adapter,method:t}))}throwIfDataArrayError(e){if(!e)throw Error(Object(Ve.a)(Ze.errorMessages.INVALID_STORAGE_ARRAY)({adapter:this.adapter}));e.forEach(this.throwIfDataObjectError)}async _openFallbackAdapter(...e){const t=this.AvailableAdapters.findIndex(e=>e===this.adapterType)+1;if(this.AvailableAdapters.length<=t)throw new Error(Ze.errorMessages.OPEN_FAILED);const a=this.AvailableAdapters[t],r=new a({name:this.adapter.name,version:this.adapter.version,objectStores:this.adapter.objectStoreNames,keyPath:"id"});this.adapter=r,this.adapterType=a,await this.open(...e)}async open(...e){if(this.adapter.isOpen())throw new Error(Object(Ve.a)(Ze.errorMessages.STORAGE_ALREADY_OPEN)({adapter:this.adapter}));const t=this.adapter.objectStoreNames;if(!t||!Je()(t)||0===t.length)throw new Error(Ze.errorMessages.NO_OBJECTSTORES_DEFINED);try{await this.adapter.open(...e)}catch(a){await this._openFallbackAdapter(...e)}}async setWithoutFallback(e,t){return this.throwIfNotOpen(),this.throwIfStoreNotFound(e,"set"),this.throwIfDataObjectError(t),this.adapter.set(e,t)}async set(e,t){return this.throwIfNotOpen(),this.throwIfStoreNotFound(e,"set"),this.throwIfDataObjectError(t),Promise.resolve().then(()=>this.adapter.set(e,t)).catch(a=>(U.a.error(Object(Ve.a)(Ze.errorMessages.SET_FAILED)({adapter:this.adapter,store:e,dataObject:t,error:a})),Promise.reject(Ze.errorMessages.SET_FAILED)))}async setAll(e,t){return this.throwIfNotOpen(),this.throwIfStoreNotFound(e,"setAll"),this.throwIfDataArrayError(t),Promise.resolve().then(()=>this.adapter.setAll(e,t)).catch(a=>(U.a.error(Object(Ve.a)(Ze.errorMessages.SET_ALL_FAILED)({adapter:this.adapter,store:e,dataArray:t,error:a})),Promise.reject(Ze.errorMessages.SET_ALL_FAILED)))}async get(e,t){if(this.throwIfNotOpen(),this.throwIfStoreNotFound(e,"get"),!t)throw Error(Object(Ve.a)(Ze.errorMessages.MISSING_KEY)({adapter:this.adapter,key:t,method:"get"}));return this.adapter.get(e,t)}async getAll(e,t){return this.throwIfNotOpen(),this.throwIfStoreNotFound(e,"getAll"),this.adapter.getAll(e,t)}async getKeys(e){return this.throwIfNotOpen(),this.throwIfStoreNotFound(e,"getKeys"),this.adapter.getKeys(e)}async remove(e,t){if(this.throwIfNotOpen(),this.throwIfStoreNotFound(e,"remove"),!t)throw Error(Object(Ve.a)(Ze.errorMessages.MISSING_KEY)({adapter:this.adapter,key:t,method:"remove"}));return this.adapter.remove(e,t)}async removeAll(e){return this.throwIfNotOpen(),this.throwIfStoreNotFound(e,"removeAll"),this.adapter.removeAll(e)}async contains(e,t){if(this.throwIfNotOpen(),this.throwIfStoreNotFound(e,"contains"),!t)throw Error(Object(Ve.a)(Ze.errorMessages.MISSING_KEY)({adapter:this.adapter,key:t,method:"contains"}));return this.adapter.contains(e,t)}async count(e,t){return this.throwIfNotOpen(),this.throwIfStoreNotFound(e,"count"),this.adapter.count(e,t)}async close(...e){return this.adapter.close(...e)}async destroy(...e){return this.adapter.destroy(...e)}}function Qe(e){const t=e.name+ae().id;const a=e.version,r=Object.keys(Le).map(e=>Le[e]);return new Ze(t,a,{Adapters:[e.adapterType],objectStores:r})}Ze.errorMessages={INVALID_NAME:"A valid database name must be provided",NO_OBJECTSTORES_DEFINED:"no objectStores defined",NO_ADAPTERS_PROVIDED:"no adapters provided",NO_VALID_ADAPTERS_FOUND:"no valid adapters found",INVALID_ADAPTER_PROVIDED:"An invalid adapter was provided",INVALID_OBJECTSTORE:"Specify a valid objectStore",STORAGE_NOT_OPEN:"Please open storage first",STORAGE_ALREADY_OPEN:"Storage is already open",INVALID_STORAGE_OBJECT:"Invalid storage object",INVALID_STORAGE_ARRAY:"Invalid storage array",MISSING_KEY:"Please specifiy key",OPEN_FAILED:"Open storage failed",SET_FAILED:"Could not save to cache",SET_ALL_FAILED:"Could not save all to cache"};const $e={[Le.CATEGORY_OPTIONS]:e=>{e.createIndex("categoryId","categories",{multiEntry:!0})},[Le.PROGRAM_RULES]:e=>{e.createIndex("programId","programId")},[Le.PROGRAM_RULES_VARIABLES]:e=>{e.createIndex("programId","programId")},[Le.PROGRAM_INDICATORS]:e=>{e.createIndex("programId","programId")}};var et=async function(e){const t=Qe(e);let a;return await t.open(e=>e.get(Le.REDUX_PERSIST,"reduxPersist:offline").then(e=>{a=e}),e=>a?e.set(Le.REDUX_PERSIST,a):null,(e,t)=>{t===Ge&&$e[e.name]&&$e[e.name](e)}),t};function tt(){return 1e3*(Number("35.0.0".split(".")[0])-30)+Number("2")}var at=async function(e,t){const a=function(e,t,a){const r=tt();return new Ze(e,r,{Adapters:t,objectStores:Object.keys(xe).map(e=>xe[e]),onCacheExpired:a})}("dhis2ca",e,t);let r;return await a.open(e=>e.get(xe.USER_CACHES,"accessHistory").then(e=>{r=e}),e=>r?e.set(xe.USER_CACHES,r):null),a};const rt=[Ke.INDEXED_DB],nt={};function ot(){return nt.main}function it(){return nt.user}let st;const lt=()=>{if(!st)throw Error("metadata loader context not set");return st},ct=(e,t)=>{const{onQueryApi:a}=lt();return a(e,t)},dt=async({query:e,storeName:t,convertQueryResponse:a},{queryVariables:r}={})=>{const{storageController:n}=lt(),o=await ct(e,r),i=a(o);return i&&i.length>0&&await n.setAll(t,i),{rawResponse:o,convertedData:i}},pt=(e,t,a)=>{const r=async(n=1)=>{await(async(e,t,{convertQueryResponse:a,queryVariables:r})=>{const{rawResponse:n}=await dt({query:e,storeName:t,convertQueryResponse:a},{queryVariables:r});return!(n&&n.pager&&n.pager.nextPage)})(e,t,{convertQueryResponse:a,queryVariables:{iteration:n}})||await r(n+1)};return r()},ut=({query:e,storeName:t,convertQueryResponse:a},{iterationSize:r=500}={})=>{const n=((e,t)=>Object(G.a)({},e,{params:a=>Object(G.a)({},e.params,{pageSize:t,page:a.iteration})}))(e,r);return pt(n,t,a)},mt=(e,{pageSize:t=500,convertQueryResponse:a}={})=>((e,t)=>{const a=async(r=1)=>{const n=await ct(e,{page:r}),o=t?t(n):n;if(!!(n&&n.pager&&n.pager.nextPage)){return[o,...await a(r+1)]}return[o]};return a()})(((e,t)=>Object(G.a)({},e,{params:a=>Object(G.a)({},e.params,{pageSize:t,page:a.page})}))(e,t),a),ht=()=>ut({query:{resource:"constants",params:{fields:"id,displayName,value"}},storeName:lt().storeNames.CONSTANTS,convertQueryResponse:e=>e&&e.constants}),gt=()=>ut({query:{resource:"organisationUnitLevels",params:{fields:"id,displayName,level",filter:"level:gt:1"}},storeName:lt().storeNames.ORGANISATION_UNIT_LEVELS,convertQueryResponse:e=>e&&e.organisationUnitLevels}),yt=()=>ut({query:{resource:"relationshipTypes",params:{fields:"id,displayName,fromConstraint[*],toConstraint[*],access[*]"}},storeName:lt().storeNames.RELATIONSHIP_TYPES,convertQueryResponse:e=>e&&e.relationshipTypes}),vt=e=>e&&e.organisationUnitGroups&&e.organisationUnitGroups.map(e=>Object(G.a)({},e,{organisationUnits:void 0,organisationUnitIds:(e.organisationUnits||[]).map(e=>e.id)})),bt=()=>ut({query:{resource:"organisationUnitGroups",params:{fields:"id,name,organisationUnits[id]"}},storeName:lt().storeNames.ORGANISATION_UNIT_GROUPS,convertQueryResponse:vt},{iterationSize:100}),Et=(()=>{const e=(e,t="sortOrder")=>(e.sort((e,a)=>null==e[t]?1:null==a[t]?-1:e[t]-a[t]),e),t=t=>{const a=(t||[]).map(t=>{return Object(G.a)({},t,{programStageDataElements:(r=t.programStageDataElements,(r||[]).filter(e=>e.dataElement).map(e=>(e.dataElement.translations=(e.dataElement.translations||[]).reduce((e,t)=>(e[t.locale]||(e[t.locale]={}),e[t.locale][t.property]=t.value,e),{}),e))),programStageSections:(a=t.programStageSections,a?e(a):[])});var a,r});return e(a),a},a=e=>(e||[]).map(e=>{return t=e,Object(G.a)({},t,{trackedEntityAttribute:void 0,trackedEntityAttributeId:t.trackedEntityAttribute&&t.trackedEntityAttribute.id});var t});return e=>(e&&e.programs||[]).map(e=>{return Object(G.a)({},e,{trackedEntityType:void 0,trackedEntityTypeId:e.trackedEntityType&&e.trackedEntityType.id,programStages:t(e.programStages),organisationUnits:(r=e.organisationUnits,(r||[]).reduce((e,t)=>(e[t.id]=t,e),{})),programTrackedEntityAttributes:a(e.programTrackedEntityAttributes)});var r})})(),ft=(()=>{const e=e=>{const t={programStageSection:void 0,programStage:void 0,dataElement:void 0,trackedEntityAttribute:void 0,optionGroup:void 0,option:void 0},a=e=>e.programStage&&e.programStage.id,r=e=>e.dataElement&&e.dataElement.id,n=e=>e.trackedEntityAttribute&&e.trackedEntityAttribute.id,o=e=>e.optionGroup&&e.optionGroup.id,i=e=>e.option&&e.option.id;return e.map(e=>{return Object(G.a)({},e,{},t,{programStageSectionId:(s=e,s.programStageSection&&s.programStageSection.id),programStageId:a(e),dataElementId:r(e),trackedEntityAttributeId:n(e),optionGroupId:o(e),optionId:i(e)});var s})};return t=>(t&&t.programRules||[]).map(t=>Object(G.a)({},t,{program:void 0,programStage:void 0,programId:t.program&&t.program.id,programStageId:t.programStage&&t.programStage.id,programRuleActions:e(t.programRuleActions)}))})(),Ot=async e=>{const t={resource:"programRules",params:{fields:"id,displayName,condition,description,program[id],programStage[id],priority,programRuleActions[id,content,location,data,programRuleActionType,programStageSection[id],dataElement[id],trackedEntityAttribute[id],programStage[id],optionGroup[id],option[id]]",filter:"program.id:in:[".concat(e.join(","),"]")}};let a=[];return await ut({query:t,storeName:lt().storeNames.PROGRAM_RULES,convertQueryResponse:e=>{const t=ft(e);return a=a.concat(t.map(e=>e.id)),t}}),a},St=(()=>{const e={dataElement:void 0,trackedEntityAttribute:void 0,program:void 0,programStage:void 0,useCodeForOptionSet:void 0};return t=>(t&&t.programRuleVariables||[]).map(t=>Object(G.a)({},t,{},e,{},(e=>({dataElementId:e.dataElement&&e.dataElement.id,trackedEntityAttributeId:e.trackedEntityAttribute&&e.trackedEntityAttribute.id,programId:e.program&&e.program.id,programStageId:e.programStage&&e.programStage.id}))(t),{useNameForOptionSet:null!=t.useCodeForOptionSet&&!t.useCodeForOptionSet}))})(),Ct=async e=>{const t={resource:"programRuleVariables",params:{fields:"id,displayName,programRuleVariableSourceType,program[id],programStage[id],dataElement[id],trackedEntityAttribute[id],useCodeForOptionSet",filter:"program.id:in:[".concat(e.join(","),"]")}};let a=[];return await ut({query:t,storeName:lt().storeNames.PROGRAM_RULES_VARIABLES,convertQueryResponse:e=>{const t=St(e);return a=a.concat(t.map(e=>e.id)),t}}),a},It=async e=>{const t={resource:"programIndicators",params:{fields:"id,displayName,code,shortName,displayInForm,expression,displayDescription,description,filter,program[id]",filter:"program.id:in:[".concat(e.join(","),"]")}};let a=[];return await ut({query:t,storeName:lt().storeNames.PROGRAM_INDICATORS,convertQueryResponse:e=>{const t=(e=>(e&&e.programIndicators||[]).map(e=>Object(G.a)({},e,{program:void 0,programId:e.program&&e.program.id})))(e);return a=a.concat(t.map(e=>e.id)),t}}),a},wt=e=>{const{storageController:t,storeNames:a}=lt();return Promise.all([{storeName:a.PROGRAM_RULES_VARIABLES,storeFn:Ct},{storeName:a.PROGRAM_RULES,storeFn:Ot},{storeName:a.PROGRAM_INDICATORS,storeFn:It}].map(async({storeName:a,storeFn:r})=>{const n=await r(e),o=await(async a=>(await Promise.all(e.map(e=>t.getAll(a,{project:e=>e.id,onIDBGetRequest:t=>t.index("programId").openCursor(window.IDBKeyRange.only(e))})))).flat(1))(a);await(async(e,a,r)=>{const n=e.reduce((e,t)=>(e[t]=t,e),{}),o=a.filter(e=>!n[e]);o.length>0&&await t.remove(r,o)})(n,o,a)}))},Tt=async e=>{const{convertedData:t=[]}=await(e=>{const t={resource:"programs",params:{restrictToCaptureScope:!0,fields:"id,version,displayName,displayShortName,description,programType,style,minAttributesRequiredToSearch,enrollmentDateLabel,incidentDateLabel,featureType,selectEnrollmentDatesInFuture,selectIncidentDatesInFuture,displayIncidentDate,dataEntryForm[id,htmlCode],access[*],trackedEntityType[id],categoryCombo[id,displayName,isDefault,categories[id,displayName]],organisationUnits[id,displayName],userRoles[id,displayName],programStages[id,access,autoGenerateEvent,openAfterEnrollment,generatedByEnrollmentDate,reportDateToUse,standardInterval,displayName,description,executionDateLabel,formType,featureType,validationStrategy,enableUserAssignment,dataEntryForm[id,htmlCode],programStageSections[id,displayName,sortOrder,dataElements[id]],programStageDataElements[compulsory,displayInReports,renderOptionsAsRadio,allowFutureDate,renderType[*],dataElement[id,displayName,displayShortName,displayFormName,valueType,translations[*],description,optionSetValue,style,optionSet[id]]]],programTrackedEntityAttributes[trackedEntityAttribute[id],displayInList,searchable,mandatory,renderOptionsAsRadio,allowFutureDate]",filter:"id:in:[".concat(e.join(","),"]"),pageSize:e.length}};return dt({query:t,storeName:lt().storeNames.PROGRAMS,convertQueryResponse:Et})})(e);return await wt(e),t.map(({programTrackedEntityAttributes:e,categoryCombo:t,trackedEntityTypeId:a})=>({programTrackedEntityAttributes:e,categoryCombo:t,trackedEntityTypeId:a}))},Nt=(()=>{const e=e=>e.flatMap(e=>(e=>{return[...(a=e.programStages,(a||[]).flatMap(e=>(e.programStageDataElements||[]).map(e=>e.dataElement&&e.dataElement.optionSet).filter(e=>e))),...(t=e.programTrackedEntityAttributes,(t||[]).map(e=>e.trackedEntityAttribute&&e.trackedEntityAttribute.optionSet).filter(e=>e))];var t,a})(e)),t=e=>Object(B.e)(()=>e.flatMap(e=>(e.programTrackedEntityAttributes||[]).map(e=>e.trackedEntityAttributeId).filter(e=>e)),e=>[...new Set(e).values()])(),a=e=>Object(B.e)(()=>e.flatMap(e=>e.categoryCombo&&e.categoryCombo.categories||[]),e=>[...new Map(e.map(e=>[e.id,e])).values()])(),r=e=>Object(B.e)(()=>e.reduce((e,t)=>(t.trackedEntityTypeId&&e.add(t.trackedEntityTypeId),e),new Set),e=>[...e.values()])();return(n,o)=>({optionSetsOutline:e(n),trackedEntityAttributeIds:t(o),categories:a(o),trackedEntityTypeIds:r(o),changesDetected:o.length>0})})(),_t=async()=>{const e=await(async()=>(await mt({resource:"programs",params:{restrictToCaptureScope:!0,fields:"id,version,programTrackedEntityAttributes[trackedEntityAttribute[id,optionSet[id,version]]],programStages[id,programStageDataElements[dataElement[id,optionSet[id,version]]]]"}},{pageSize:1e3})).flatMap(e=>e&&e.programs||[]))(),t=await(()=>{const{storageController:e,storeNames:t}=lt();return e.getAll(t.PROGRAMS,{project:e=>({id:e.id,version:e.version})})})();await(async(e,t)=>{const a=e.reduce((e,t)=>(e[t.id]=t,e),{}),r=t.filter(e=>!a[e.id]).map(e=>e.id);if(r.length>0){const{storageController:e,storeNames:t}=lt();await e.remove(t.PROGRAMS,r)}})(e,t);const a=((e,t)=>{const a=t.reduce((e,t)=>(e[t.id]=t,e),{});return e.filter(e=>{const t=a[e.id];return!t||t.version!==e.version}).map(e=>e.id)})(e,t),r=Object(B.b)(a,50),n=(await Promise.all(r.map(Tt))).flat(1);return Nt(e,n)},At=(()=>{const e=e=>(e||[]).map(e=>(e=>{const{trackedEntityAttribute:t}=e,a=Object(_e.a)(e,["trackedEntityAttribute"]),r=t&&t.id;return Object(G.a)({},a,{trackedEntityAttributeId:r})})(e));return t=>(t&&t.trackedEntityTypes||[]).map(t=>Object(G.a)({},t,{trackedEntityTypeAttributes:e(t.trackedEntityTypeAttributes)}))})(),Rt=async e=>{const{convertedData:t=[]}=await(e=>{const t={resource:"trackedEntityTypes",params:{fields:"id,access,displayName,minAttributesRequiredToSearch,featureType,trackedEntityTypeAttributes[trackedEntityAttribute[id],displayInList,mandatory,searchable],translations[property,locale,value]",filter:"id:in:[".concat(e.join(","),"]"),pageSize:e.length}};return dt({query:t,storeName:lt().storeNames.TRACKED_ENTITY_TYPES,convertQueryResponse:At})})(e);return t.map(e=>({trackedEntityTypeAttributes:e.trackedEntityTypeAttributes}))},kt=(()=>{const e=e=>e.flatMap(e=>e.trackedEntityTypeAttributes.map(e=>e.trackedEntityAttribute&&e.trackedEntityAttribute.optionSet).filter(e=>e)),t=e=>e.flatMap(e=>(e.trackedEntityTypeAttributes||[]).map(e=>e.trackedEntityAttributeId).filter(e=>e));return async a=>{const r=await(async()=>(await mt({resource:"trackedEntityTypes",params:{fields:"id, trackedEntityTypeAttributes[trackedEntityAttribute[optionSet[id,version]]]"}},{pageSize:1e3})).flatMap(e=>e&&e.trackedEntityTypes||[]))();return{trackedEntityAttributeIds:t(a),optionSetsOutline:e(r)}}})();async function jt(e){const t=Object(B.b)([...new Set(e).values()],100);await Promise.all(t.map(e=>(e=>{const t={resource:"trackedEntityAttributes",params:{fields:"id,displayName,displayShortName,description,valueType,optionSetValue,unique,orgunitScope,pattern,translations[property,locale,value],optionSet[id]",filter:"id:in:[".concat(e.join(","),"]"),pageSize:e.length}};return dt({query:t,storeName:lt().storeNames.TRACKED_ENTITY_ATTRIBUTES,convertQueryResponse:e=>e&&e.trackedEntityAttributes})})(e)))}async function Pt(e,t,a,r,n){const{categoryOptions:o,hasNextPage:i}=await async function(e,t,a){const r=await ct(e,{page:t,pageSize:a});return{hasNextPage:!!(r&&r.pager&&r.pager.nextPage),categoryOptions:r&&r.categoryOptions||[]}}(t,e,r),s=function(e,t,a){return e.reduce((e,a)=>e=a.categories.filter(e=>t.includes(e)).reduce((e,t)=>{const r=e[t]||{};return r[a.id]=!0,e[t]=r,e},e),a)}(o,a,n),l=function(e){return e.map(e=>{const t=e.organisationUnits&&e.organisationUnits.length>0?e.organisationUnits.reduce((e,t)=>(e[t]=!0,e),{}):null;return e.organisationUnits=t,e})}(o),{storageController:c,storeNames:d}=lt();return await c.setAll(d.CATEGORY_OPTIONS,l),{hasNextPage:i,optionsByCategory:s}}async function Dt(e){await async function(e){const{storageController:t,storeNames:a}=lt();return t.setAll(a.CATEGORIES,e)}(e);const t=e.map(e=>e.id),a=Object(B.b)(t,50);await a.asyncForEach(e=>async function(e){const t=function(e){return{resource:"categoryOptions",params:t=>({fields:"id,displayName,categories~pluck, organisationUnits~pluck, access[*]",filter:["categories.id:in:[".concat(e.join(","),"]"),"access.data.read:in:[true]"],page:t.page,pageSize:t.pageSize})}}(e);let a,r=0,n={};do{r+=1,({hasNextPage:a,optionsByCategory:n}=await Pt(r,t,e,5e3,n))}while(a);const{storageController:o,storeNames:i}=lt(),s=Object.keys(n).map(e=>({id:e,options:n[e]}));await o.setAll(i.CATEGORY_OPTIONS_BY_CATEGORY,s)}(e))}const Ft={resource:"optionGroups",params:e=>({fields:"id,displayName,options[id],optionSet[id]",filter:"optionSet.id:in:[".concat(e.ids.join(","),"]"),page:e.page,pageSize:e.pageSize})},xt=e=>{const t=async(a=1)=>{const{optionGroups:r,hasNextPage:n}=await(async(e,t,a)=>{const r=await ct(Ft,{ids:e,page:t,pageSize:a});return{optionGroups:r&&r.optionGroups||[],hasNextPage:!!(r&&r.pager&&r.pager.nextPage)}})(e,a,1e3);if(n){const e=await t(a+=1);return[...r,...e]}return r||[]};return t()};async function Lt(e){const t=e.reduce((e,t)=>(e.find(e=>e.id===t.id)||e.push(t),e),[]),a=await async function(e){const t=[],{storageController:a,storeNames:r}=lt();return await e.asyncForEach(async e=>{const n=await a.get(r.OPTION_SETS,e.id);n&&n.version===e.version||t.push(e.id)}),t}(t),r=Object(B.b)(a,100),n=await Promise.all(r.map(e=>(async e=>{const t={resource:"optionSets",params:{fields:"id,displayName,version,valueType,options[id,displayName,code,style, translations]",filter:"id:in:[".concat(e.join(","),"]"),pageSize:e.length}},a=await ct(t);return a&&a.optionSets||[]})(e))),o=await Promise.all(r.map(e=>xt(e))),i=((e,t)=>e.map(e=>({id:e.id,displayName:e.displayName,version:e.version,valueType:e.valueType,translations:e.translations,options:e.options&&[...e.options.values()].map(e=>({id:e.id,displayName:e.displayName,code:e.code,style:e.style,translations:e.translations})),optionGroups:t[e.id]&&t[e.id].map(e=>({id:e.id,displayName:e.displayName,options:e.options&&[...e.options.values()].map(e=>e.id)}))})))((e=>e.reduce((e,t)=>[...e,...t],[]))(n),(e=>e.reduce((e,t)=>{return a=e,t.reduce((e,t)=>(e[t.optionSet.id]=[...e[t.optionSet.id]||[],t],e),a);var a},{}))(o)),{storageController:s,storeNames:l}=lt();await s.setAll(l.OPTION_SETS,i)}const Ut=async()=>{const{optionSetsOutline:e,trackedEntityAttributeIds:t,categories:a,trackedEntityTypeIds:r,changesDetected:n}=await _t();n&&await Promise.all([ht,gt,yt,bt].map(e=>e()));const{trackedEntityAttributeIds:o,optionSetsOutline:i}=await(async e=>{const t=Object(B.b)(e,150),a=(await Promise.all(t.map(Rt))).flat(1);return kt(a)})(r);await jt([...t,...o]),await Dt(a),await Lt([...e,...i])},Mt=1,Vt=5,Bt="Could not delete user storage";async function Gt(){const e=ot(),t=await async function(e){const{name:t}=it(),a=await e.get(xe.USER_CACHES,"accessHistory"),r=a&&a.values;let n;n=r?r.filter(e=>e!==t):[];const o=[t,...n];return await e.set(xe.USER_CACHES,{id:"accessHistory",values:o}),o}(e);await async function(e,t){const a=t.adapterType,r=a===Ye?Mt:Vt;if(e.length>r){const n=e.slice(r),o=e.slice(0,r);await n.asyncForEach(async e=>{const t=new Ze(e,1,{Adapters:[a]});try{await t.destroy()}catch(r){U.a.warn(Object(Ve.a)(Bt)({cache:e,error:r}))}}),await t.set(xe.USER_CACHES,{id:"accessHistory",values:o})}}(t,e)}const Ht=async e=>{await Gt(),await(async({onQueryApi:e,storageController:t,storeNames:a},r)=>{st={onQueryApi:e,storageController:t,storeNames:a},await r(),st=null})({onQueryApi:e,storageController:it(),storeNames:Le},Ut)};function Wt(e){const t=["ar","fa","ur"],a=t.map(e=>"".concat(e,"-"));return t.includes(e)||a.filter(t=>e.startsWith(t)).length>0}var Yt=a(187),zt=a(6691),qt=a.n(zt),Kt=async e=>"".concat(te().baseUrl,"/icons/").concat(e,"/icon.svg");function Xt(e){return e.toLowerCase().replace(/_(.)/g,(e,t)=>t.toUpperCase())}var Jt=a(219),Zt=a(303);const Qt={[Yt.v.NUMBER]:Zt.b,[Yt.v.INTEGER]:Zt.b,[Yt.v.INTEGER_POSITIVE]:Zt.b,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:Zt.b,[Yt.v.INTEGER_NEGATIVE]:Zt.b,[Yt.v.DATE]:e=>Object(Jt.a)(e,"YYYY-MM-DD").toISOString(),[Yt.v.DATETIME]:e=>Object(Jt.a)(e,"YYYY-MM-DD HH:mm").toISOString(),[Yt.v.TIME]:function(e){const t=Object(Zt.c)(e);return t.isValid?t.momentTime:null},[Yt.v.TRUE_ONLY]:e=>"true"===e||null,[Yt.v.BOOLEAN]:e=>"true"===e};function $t(e,t){return null==e?null:Qt[t]?Qt[t](e):e}const ea={[Yt.v.NUMBER]:Zt.b,[Yt.v.INTEGER]:Zt.b,[Yt.v.INTEGER_POSITIVE]:Zt.b,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:Zt.b,[Yt.v.INTEGER_NEGATIVE]:Zt.b,[Yt.v.DATE]:e=>Object(Jt.a)(e,"YYYY-MM-DD").toISOString(),[Yt.v.DATETIME]:e=>Object(Jt.a)(e).toISOString(),[Yt.v.TRUE_ONLY]:e=>"true"===e||null,[Yt.v.BOOLEAN]:e=>"true"===e,[Yt.v.COORDINATE]:e=>{const t=JSON.parse(e);return{latitude:t[1],longitude:t[0]}}};function ta(e,t){return null==e?null:ea[t]?ea[t](e):e}var aa=a(651);class ra{static async _buildOptionIcon(e={}){const t=e&&e.icon;if(!t)return null;try{const a=await Kt(t);return new Yt.i(t=>{e.color&&(t.color=e.color),t.data=a})}catch(a){return null}}static getRenderType(e){return e&&Xt(e)}constructor(e,t){this.cachedOptionSets=e,this.locale=t}_getTranslation(e,t){if(this.locale){const a=e.find(e=>e.property===t&&e.locale===this.locale);return a&&a.value}return null}async build(e,t,a,r,n){const o=this.cachedOptionSets.get(t);if(!o)return U.a.warn(Object(B.c)(ra.OPTION_SET_NOT_FOUND)({id:t})),null;e.type=n(o.valueType);const i=o.options.map(async e=>{const t=await ra._buildOptionIcon(e.style);return new Yt.k(a=>{a.id=e.id,a.value=e.code,a.text=this._getTranslation(e.translations,ra.translationPropertyNames.NAME)||e.displayName,a.icon=t})}),s=await Promise.all(i),l=o.optionGroups&&new Map(o.optionGroups.map(e=>[e.id,new aa.a(t=>{t.id=e.id,t.optionIds=new Map(e.options.map(e=>[e,e]))})])),c=new Yt.l(o.id,s,l,e,$t);return c.inputType=ra.getRenderType(r)||(a?Yt.G.VERTICAL_RADIOBUTTONS:null),c}}ra.OPTION_SET_NOT_FOUND="Optionset not found",ra.translationPropertyNames={NAME:"NAME",DESCRIPTION:"DESCRIPTION",SHORT_NAME:"SHORT_NAME"};var na=ra;const oa="NAME",ia="DESCRIPTION",sa="SHORT_NAME",la={[Yt.v.NUMBER]:Yt.v.NUMBER_RANGE,[Yt.v.INTEGER]:Yt.v.INTEGER_RANGE,[Yt.v.INTEGER_POSITIVE]:Yt.v.INTEGER_POSITIVE_RANGE,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:Yt.v.INTEGER_ZERO_OR_POSITIVE_RANGE,[Yt.v.INTEGER_NEGATIVE]:Yt.v.INTEGER_NEGATIVE_RANGE,[Yt.v.DATE]:Yt.v.DATE_RANGE,[Yt.v.DATETIME]:Yt.v.DATETIME_RANGE,[Yt.v.TIME]:Yt.v.TIME_RANGE};class ca{static _getSearchAttributeValueType(e,t){const a=la[e];return!t&&a?a:e}constructor(e,t,a){this.cachedTrackedEntityAttributes=e,this.locale=a,this.optionSetFactory=new na(t,a)}_getAttributeTranslation(e,t){if(this.locale){const a=e.find(e=>e.property===t&&e.locale===this.locale);return a&&a.value}return null}async _buildElement(e){const t=new Yt.d(t=>{const{id:a,translations:r,displayName:n,displayShortName:o,description:i,unique:s,valueType:l}=e.trackedEntityAttribute;t.id=a,t.name=this._getAttributeTranslation(r,oa)||n,t.shortName=this._getAttributeTranslation(r,sa)||o,t.formName=this._getAttributeTranslation(r,oa)||n,t.description=this._getAttributeTranslation(r,ia)||i,t.displayInForms=!0,t.displayInReports=e.displayInList,t.compulsory=!!s,t.disabled=!1,t.type=ca._getSearchAttributeValueType(l,s)}),{optionSetValue:a,optionSet:r}=e.trackedEntityAttribute;return a&&r.id&&(t.optionSet=await this.optionSetFactory.build(t,r.id,e.renderOptionsAsRadio,null,e=>e)),t}async _buildSection(e){const t=new Yt.p(e=>{e.id=Yt.p.MAIN_SECTION_ID,e.showContainer=!1});return await e.asyncForEach(async e=>{const a=await this._buildElement(e);a&&t.addElement(a)}),t}async _buildRenderFoundation(e){const t=new Yt.n;return t.addSection(await this._buildSection(e)),t}async _buildSearchGroup(e,t,a){const r=new Yt.o;return r.searchForm=await this._buildRenderFoundation(t),"main"===e?(r.minAttributesRequiredToSearch=a,r.id="main"):(r.unique=!0,r.id="unique"),r}getTrackedEntityAttribute(e){const t=e.trackedEntityAttributeId,a=t?this.cachedTrackedEntityAttributes.get(t):null;return a||U.a.error(Object(B.c)("Tried to create a searchAttribute where trackedEntityAttributeId was not specified or the trackedEntityAttribute could not be retrieved from the cache")({attribute:e})),a}build(e,t){const a=e.map(e=>Object(G.a)({},e,{trackedEntityAttribute:this.getTrackedEntityAttribute(e)})).filter(e=>e.trackedEntityAttribute&&(e.searchable||e.trackedEntityAttribute.unique)).reduce((e,t)=>(t.trackedEntityAttribute.unique?e[t.trackedEntityAttribute.id]=[t]:e.main=e.main?[...e.main,t]:[t],e),{}),r=Object.keys(a).map(e=>this._buildSearchGroup(e,a[e],t));return Promise.all(r).then(e=>e.sort(({unique:e},{unique:t})=>e===t?0:e?-1:1))}}ca.errorMessages={TRACKED_ENTITY_ATTRIBUTE_NOT_FOUND:"Tracked entity attribute not found"};var da=ca;function pa(e){return e.charAt(0).toLocaleUpperCase()+e.slice(1)}var ua=a(238);function ma(e){return e.toString()}const ha={[Yt.v.NUMBER]:ma,[Yt.v.INTEGER]:ma,[Yt.v.INTEGER_POSITIVE]:ma,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:ma,[Yt.v.INTEGER_NEGATIVE]:ma,[Yt.v.DATE]:function(e){const t=Object(Jt.a)(e);return Object(ua.b)(t)},[Yt.v.DATETIME]:function(e){const t=Object(Jt.a)(e);return{date:Object(ua.b)(t),time:t.format("HH:mm")}},[Yt.v.TIME]:function(e){return Object(Jt.a)(e,"HH:mm",!0).format("HH:mm")},[Yt.v.TRUE_ONLY]:()=>"true",[Yt.v.BOOLEAN]:e=>e?"true":"false",[Yt.v.AGE]:function(e){const t=Object(Jt.a)(),a=Object(Jt.a)(e),r=t.diff(a,"years");a.add(r,"years");const n=t.diff(a,"months");a.add(n,"months");const o=t.diff(a,"days");return{date:Object(ua.b)(Object(Jt.a)(e)),years:r.toString(),months:n.toString(),days:o.toString()}}};function ga(e,t){return(e||0===e||!1===e)&&ha[t]?ha[t](e):e}const ya=e=>parseFloat(e)?parseFloat(e).toFixed(6):null,va=({latitude:e,longitude:t})=>n.a.createElement("div",null,"lat: ",ya(e)," ",n.a.createElement("br",null),"long: ",ya(t));function ba(e){const t=Object(Jt.a)(e);return Object(ua.b)(t)}function Ea(e){return n.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation()}},e.name)}const fa={[Yt.v.NUMBER]:ma,[Yt.v.INTEGER]:ma,[Yt.v.INTEGER_POSITIVE]:ma,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:ma,[Yt.v.INTEGER_NEGATIVE]:ma,[Yt.v.DATE]:ba,[Yt.v.DATE_RANGE]:e=>{return t=ba,a=e,n.a.createElement("span",null,t(a.from)," ","->"," ",t(a.to));var t,a},[Yt.v.DATETIME]:function(e){const t=Object(Jt.a)(e),a=Object(ua.b)(t),r=t.format("HH:mm");return"".concat(a," ").concat(r)},[Yt.v.TIME]:function(e){return Object(Jt.a)(e,"HH:mm",!0).format("HH:mm")},[Yt.v.TRUE_ONLY]:()=>"Yes",[Yt.v.BOOLEAN]:e=>e?"Yes":"No",[Yt.v.COORDINATE]:va,[Yt.v.AGE]:ba,[Yt.v.FILE_RESOURCE]:Ea,[Yt.v.IMAGE]:Ea,[Yt.v.ORGANISATION_UNIT]:e=>e.name,[Yt.v.ASSIGNEE]:e=>"".concat(e.name," (").concat(e.username,")"),[Yt.v.NUMBER_RANGE]:function(e){return n.a.createElement("span",null,e.from," ","->"," ",e.to)}};function Oa(e,t,a){return e||0===e||!1===e?a&&a.optionSet?a.optionSet.getOptionText(e):fa[t]?fa[t](e):e:e}function Sa(e){const t=Object(Jt.a)(e);return Object(ua.b)(t)}function Ca(e){return n.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation()}},e.name)}const Ia={[Yt.v.NUMBER]:ma,[Yt.v.INTEGER]:ma,[Yt.v.INTEGER_POSITIVE]:ma,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:ma,[Yt.v.INTEGER_NEGATIVE]:ma,[Yt.v.DATE]:Sa,[Yt.v.DATETIME]:function(e){const t=Object(Jt.a)(e),a=Object(ua.b)(t),r=t.format("HH:mm");return"".concat(a," ").concat(r)},[Yt.v.TIME]:function(e){return Object(Jt.a)(e,"HH:mm",!0).format("HH:mm")},[Yt.v.TRUE_ONLY]:()=>"Yes",[Yt.v.BOOLEAN]:e=>e?"Yes":"No",[Yt.v.COORDINATE]:va,[Yt.v.AGE]:Sa,[Yt.v.FILE_RESOURCE]:Ca,[Yt.v.IMAGE]:Ca,[Yt.v.ORGANISATION_UNIT]:e=>e.name};function wa(e,t,a){return e||0===e||!1===e?a&&a.optionSet?a.optionSet.getOptionText(e):Ia[t]?Ia[t](e):e:e}function Ta(e){const t=e,a=Object(Jt.a)(t);return a.locale("en"),a.format("YYYY-MM-DD")}function Na(e,t){return{from:e(t.from),to:e(t.to)}}const _a={[Yt.v.NUMBER]:ma,[Yt.v.NUMBER_RANGE]:e=>Na(ma,e),[Yt.v.INTEGER]:ma,[Yt.v.INTEGER_RANGE]:e=>Na(ma,e),[Yt.v.INTEGER_POSITIVE]:ma,[Yt.v.INTEGER_POSITIVE_RANGE]:e=>Na(ma,e),[Yt.v.INTEGER_ZERO_OR_POSITIVE]:ma,[Yt.v.INTEGER_ZERO_OR_POSITIVE_RANGE]:e=>Na(ma,e),[Yt.v.INTEGER_NEGATIVE]:ma,[Yt.v.INTEGER_NEGATIVE_RANGE]:e=>Na(ma,e),[Yt.v.DATE]:Ta,[Yt.v.DATE_RANGE]:e=>Na(Ta,e),[Yt.v.TRUE_ONLY]:()=>"true",[Yt.v.BOOLEAN]:e=>e?"true":"false",[Yt.v.FILE_RESOURCE]:e=>e.value,[Yt.v.IMAGE]:e=>e.value,[Yt.v.COORDINATE]:e=>"[".concat(e.longitude,",").concat(e.latitude,"]"),[Yt.v.PERCENTAGE]:e=>e.replace("%",""),[Yt.v.ORGANISATION_UNIT]:e=>e.id};function Aa(e,t){return(e||0===e||!1===e)&&_a[t]?_a[t](e):e}var Ra=a(310),ka=a.n(Ra);function ja(e){const t=e.date,a=e.time,r=Object(Zt.c)(a).momentTime,n=r.hour(),o=r.minute(),i=Object(ua.c)(t).momentDate;return i.hour(n),i.minute(o),i.toISOString()}function Pa(e){return Object(ua.c)(e).momentDate.toISOString()}function Da(e){const t=Object(Zt.c)(e).momentTime;return t.locale("en"),t.format("HH:mm")}function Fa(e,t){return{from:e(t.from),to:e(t.to)}}const xa={[Yt.v.NUMBER]:Zt.b,[Yt.v.NUMBER_RANGE]:e=>Fa(Zt.b,e),[Yt.v.INTEGER]:Zt.b,[Yt.v.INTEGER_RANGE]:e=>Fa(Zt.b,e),[Yt.v.INTEGER_POSITIVE]:Zt.b,[Yt.v.INTEGER_POSITIVE_RANGE]:e=>Fa(Zt.b,e),[Yt.v.INTEGER_ZERO_OR_POSITIVE]:Zt.b,[Yt.v.INTEGER_ZERO_OR_POSITIVE_RANGE]:e=>Fa(Zt.b,e),[Yt.v.INTEGER_NEGATIVE]:Zt.b,[Yt.v.INTEGER_NEGATIVE_RANGE]:e=>Fa(Zt.b,e),[Yt.v.DATE]:Pa,[Yt.v.DATE_RANGE]:e=>Fa(Pa,e),[Yt.v.DATETIME]:ja,[Yt.v.DATETIME_RANGE]:e=>Fa(ja,e),[Yt.v.TIME]:Da,[Yt.v.TIME_RANGE]:e=>Fa(Da,e),[Yt.v.TRUE_ONLY]:e=>"true"===e||null,[Yt.v.BOOLEAN]:e=>"true"===e,[Yt.v.AGE]:function(e){return Pa(e.date)}};function La(e,t){if(null==e)return null;let a;if(ka()(e)){if(a=e.trim(),!a)return null}else a=e;return xa[t]?xa[t](a):a}class Ua{static buildtetFeatureType(e){return new Yt.d(t=>{t.id="FEATURETYPE_".concat(e),t.name="POINT"===e?i.a.t("Coordinate"):i.a.t("Area"),t.formName=t.name,t.compulsory=!1,t.displayInForms=!0,t.disabled=!1,t.type="POINT"===e?Yt.v.COORDINATE:Yt.v.POLYGON})}static _buildDataElementUnique(e,t){return new Yt.e(a=>{a.scope=t.orgunitScope?Yt.w.ORGANISATION_UNIT:Yt.w.ENTIRE_SYSTEM,a.onValidate=(r,n={})=>{const o=Object(B.e)(La,Aa)(r,t.valueType);if(n.onGetUnsavedAttributeValues){const t=n.onGetUnsavedAttributeValues(e.id);if(t){if(t.find(e=>e===o))return{valid:!1,data:{attributeValueExistsUnsaved:!0}}}}let i;if(a.scope===Yt.w.ORGANISATION_UNIT){const t=n.orgUnitId;i=te().get("trackedEntityInstances",{ou:t,filter:"".concat(e.id,":EQ:").concat(o)})}else i=te().get("trackedEntityInstances",{ouMode:"ACCESSIBLE",filter:"".concat(e.id,":EQ:").concat(o)});return i.then(e=>{const t=e.trackedEntityInstances&&e.trackedEntityInstances[0]||{},a={id:t.trackedEntityInstance,tetId:t.trackedEntityType};return{valid:0===e.trackedEntityInstances.length,data:a}})},t.pattern&&(a.generatable=!!t.pattern)})}constructor(e,t,a){this.cachedTrackedEntityAttributes=e,this.locale=a,this.optionSetFactory=new na(t,a)}_getAttributeTranslation(e,t){if(this.locale){const a=e.find(e=>e.property===t&&e.locale===this.locale);return a&&a.value}return null}async _setBaseProperties(e,t,a){e.id=a.id,e.compulsory=t.mandatory,e.name=this._getAttributeTranslation(a.translations,Ua.translationPropertyNames.NAME)||a.displayName,e.shortName=this._getAttributeTranslation(a.translations,Ua.translationPropertyNames.SHORT_NAME)||a.displayShortName,e.formName=e.name,e.description=this._getAttributeTranslation(a.translations,Ua.translationPropertyNames.DESCRIPTION)||a.description,e.displayInForms=!0,e.displayInReports=t.displayInList,e.disabled=!1,e.type=a.valueType,a.unique&&(e.unique=Ua._buildDataElementUnique(e,a)),a.optionSet&&a.optionSet.id&&(e.optionSet=await this.optionSetFactory.build(e,a.optionSet.id,t.renderOptionsAsRadio,null,e=>e))}async _buildBaseDataElement(e,t){const a=new Yt.d;return a.type=t.valueType,await this._setBaseProperties(a,e,t),a}async _buildDateDataElement(e,t){const a=new Yt.f;return a.type=Yt.v.DATE,a.allowFutureDate=e.allowFutureDate,await this._setBaseProperties(a,e,t),a}build(e){const t=e.trackedEntityAttributeId&&this.cachedTrackedEntityAttributes.get(e.trackedEntityAttributeId);return t?t.valueType===Yt.v.DATE?this._buildDateDataElement(e,t):this._buildBaseDataElement(e,t):(U.a.error(Object(B.c)(Ua.errorMessages.TRACKED_ENTITY_ATTRIBUTE_NOT_FOUND)({cachedProgramTrackedEntityAttribute:e})),null)}}Ua.translationPropertyNames={NAME:"NAME",DESCRIPTION:"DESCRIPTION",SHORT_NAME:"SHORT_NAME"},Ua.errorMessages={TRACKED_ENTITY_ATTRIBUTE_NOT_FOUND:"TrackedEntityAttributeId missing from programTrackedEntityAttribute or trackedEntityAttribute not found"};var Ma=Ua,Va=a(318);class Ba{static _addLabels(e,t){t.enrollmentDateLabel&&(e.enrollmentDateLabel=t.enrollmentDateLabel),t.incidentDateLabel&&(e.incidentDateLabel=t.incidentDateLabel)}static _addFlags(e,t){e.allowFutureEnrollmentDate=t.selectEnrollmentDatesInFuture,e.allowFutureIncidentDate=t.selectIncidentDatesInFuture,e.showIncidentDate=t.displayIncidentDate}static _getFeatureType(e){return e?pa(e.toLowerCase()):"None"}constructor(e,t,a,r,n){this.locale=r,this.trackedEntityTypeCollection=n,this.cachedTrackedEntityAttributes=e,this.cachedTrackedEntityTypes=a,this.dataElementFactory=new Ma(e,t,r)}_buildTetFeatureTypeField(e){const t=e&&this.cachedTrackedEntityTypes.get(e);if(!t)return null;const a=t.featureType;return a&&["POINT","POLYGON"].includes(a)?Ma.buildtetFeatureType(a):null}async _buildSection(e,t){const a=this._buildTetFeatureTypeField(t);if((!e||e.length<=0)&&!a)return null;const r=new Yt.p(e=>{e.id=Yt.p.MAIN_SECTION_ID,e.name=i.a.t("Profile")});return a&&r.addElement(a),e&&e.length>0&&await e.asyncForEach(async e=>{const t=await this.dataElementFactory.build(e);t&&r.addElement(t)}),r}async _buildEnrollmentForm(e){const t=new Yt.n(t=>{t.featureType=Ba._getFeatureType(e.featureType),t.name=e.displayName});let a=await this._buildSection(e.programTrackedEntityAttributes,e.trackedEntityTypeId);if(a&&t.addSection(a),e.dataEntryForm){a||(a=new Yt.p(e=>{e.id=Yt.p.MAIN_SECTION_ID})),a.showContainer=!1;const n=e.dataEntryForm;try{t.customForm=new Yt.c(e=>{e.id=n.id,e.data=n.htmlCode})}catch(r){U.a.error(Object(B.c)(Ba.errorMessages.CUSTOM_FORM_TEMPLATE_ERROR)({template:n.htmlCode,error:r,method:"buildEnrollment"}))}}return t}static _buildSearchGroupElement(e,t){return new Va.a(a=>{a.id=e.id,a.name=e.name,a.shortName=e.shortName,a.formName=e.formName,a.description=e.description,a.displayInForms=!0,a.displayInReports=e.displayInReports,a.compulsory=e.compulsory,a.disabled=e.disabled,a.type=t.valueType,a.optionSet=e.optionSet})}_buildInputSearchGroupFoundation(e,t){const a=(e.programTrackedEntityAttributes||[]).reduce((e,t)=>{if(!t.trackedEntityAttributeId)return U.a.error(Object(B.c)("TrackedEntityAttributeId missing from programTrackedEntityAttribute")({programTeiAttribute:t})),e;const a=this.cachedTrackedEntityAttributes.get(t.trackedEntityAttributeId);return a?e[a.id]=a:U.a.error(Object(B.c)("could not retrieve tei attribute")({programTeiAttribute:t})),e},{}),r=t.searchForm,n=new Yt.n,o=new Yt.p(e=>{e.id=Yt.p.MAIN_SECTION_ID});return Array.from(r.getSection(Yt.p.MAIN_SECTION_ID).elements.entries()).map(e=>e[1]).forEach(e=>{const t=Ba._buildSearchGroupElement(e,a[e.id]);t&&o.addElement(t)}),n.addSection(o),n}_buildInputSearchGroups(e,t=[]){return t.filter(e=>!e.unique).map(t=>new Yt.j(a=>{a.id=t.id,a.minAttributesRequiredToSearch=t.minAttributesRequiredToSearch,a.searchFoundation=this._buildInputSearchGroupFoundation(e,t),a.onSearch=(e={},t={})=>{const{orgUnitId:a,program:r}=t;return te().get("trackedEntityInstances/count.json",{ou:a,program:r,ouMode:"ACCESSIBLE",filter:Object.keys(e).filter(t=>e[t]||0===e[t]||!1===e[t]).map(t=>"".concat(t,":LIKE:").concat(e[t])),pageSize:1,page:1,totalPages:!0})}}))}async build(e,t=[]){const a=new Yt.g(a=>{if(Ba._addLabels(a,e),Ba._addFlags(a,e),e.trackedEntityTypeId){const t=this.trackedEntityTypeCollection.get(e.trackedEntityTypeId);t&&(a.trackedEntityType=t)}a.inputSearchGroups=this._buildInputSearchGroups(e,t)});return a.enrollmentForm=await this._buildEnrollmentForm(e),a}}Ba.errorMessages={CUSTOM_FORM_TEMPLATE_ERROR:"Error in custom form template"};var Ga=Ba,Ha=a(675),Wa=a(653),Ya=a(658),za=a(275);var qa=a(652);class Ka{static _getDataElementType(e){return{}[e]||e}static async _buildDataElementIconAsync(e={}){const t=e&&e.icon;if(!t)return null;try{const a=await Kt(t);return new Yt.i(t=>{e.color&&(t.color=e.color),t.data=a})}catch(a){return null}}constructor(e,t){this.locale=t,this.optionSetFactory=new na(e,t)}_getDataElementTranslation(e,t){return this.locale&&e.translations[this.locale]&&e.translations[this.locale][t]}async _setBaseProperties(e,t){const a=t.dataElement;e.id=a.id,e.name=this._getDataElementTranslation(a,Ka.propertyNames.NAME)||a.displayName,e.shortName=this._getDataElementTranslation(a,Ka.propertyNames.SHORT_NAME)||a.displayShortName,e.formName=this._getDataElementTranslation(a,Ka.propertyNames.FORM_NAME)||a.displayFormName,e.description=this._getDataElementTranslation(a,Ka.propertyNames.DESCRIPTION)||a.description,e.displayInForms=!0,e.displayInReports=t.displayInReports,e.compulsory=t.compulsory,e.disabled=!1,e.icon=await Ka._buildDataElementIconAsync(a.style),a.optionSet&&a.optionSet.id&&(e.optionSet=await this.optionSetFactory.build(e,a.optionSet.id,t.renderOptionsAsRadio,t.renderType&&t.renderType.DESKTOP&&t.renderType.DESKTOP.type,Ka._getDataElementType))}async _buildBaseDataElement(e,t){const a=new Yt.d;return a.type=t,await this._setBaseProperties(a,e),a}async _buildDateDataElement(e){const t=new Yt.f;return t.type=Yt.v.DATE,t.allowFutureDate=e.allowFutureDate,await this._setBaseProperties(t,e),t}build(e){if(!e.dataElement)return U.a.error(Object(B.c)("programStageDataElement does not contain a dataElement")({programStageDataElement:e})),null;const t=Ka._getDataElementType(e.dataElement.valueType);return t===Yt.v.DATE?this._buildDateDataElement(e):this._buildBaseDataElement(e,t)}}Ka.propertyNames={NAME:"NAME",DESCRIPTION:"DESCRIPTION",SHORT_NAME:"SHORT_NAME",FORM_NAME:"FORM_NAME"};var Xa=Ka;class Ja{constructor(e){this.cachedRelationshipTypes=e}_relationshipConstraintIsStage(e){return e.relationshipEntity===Ja.RELATIONSHIP_ENTITY_NAME&&(!e.programStage&&e.program&&e.program.id===this.currentProgramId||e.programStage&&e.programStage.id===this.currentProgramStageId)}_convertConstraint(e){const t={entity:e.relationshipEntity,programId:e.program?e.program.id:null,programStageId:e.programStage?e.programStage.id:null,trackedEntityTypeId:e.trackedEntityType?e.trackedEntityType.id:null};return!t.programStageId&&this._relationshipConstraintIsStage(e)&&(t.programStageId=this.currentProgramStageId),t}_buildRelationshipType(e){return new Yt.m(t=>{t.id=e.id,t.name=e.displayName,t.from=this._convertConstraint(e.fromConstraint),t.to=this._convertConstraint(e.toConstraint),t.access=e.access})}build(e,t){return this.currentProgramId=e,this.currentProgramStageId=t,this.cachedRelationshipTypes.filter(e=>e.access.data.read&&(this._relationshipConstraintIsStage(e.fromConstraint)||this._relationshipConstraintIsStage(e.toConstraint))).map(e=>this._buildRelationshipType(e))}}Ja.RELATIONSHIP_ENTITY_NAME="PROGRAM_STAGE_INSTANCE";var Za=Ja;class Qa{constructor(e,t,a){this.cachedOptionSets=e,this.locale=a,this.relationshipTypesFactory=new Za(t),this.dataElementFactory=new Xa(e,a)}async _buildSection(e,t){const a=new Ha.a(e=>{e.id=t.id,e.name=t.displayName});return t.dataElements&&await t.dataElements.asyncForEach(async t=>{const r=t.id,n=e[r];if(!n)return void U.a.error(Object(B.c)("could not find programStageDataElement")({sectionDataElement:t}));const o=await this.dataElementFactory.build(n);o&&a.addElement(o)}),a}async _buildMainSection(e){const t=new Ha.a(e=>{e.id=Ha.a.MAIN_SECTION_ID});return e&&await e.asyncForEach(async e=>{const a=await this.dataElementFactory.build(e);a&&t.addElement(a)}),t}static _convertProgramStageDataElementsToObject(e){return e?e.reduce((e,t)=>(e[t.dataElement.id]=t,e),{}):{}}static _getFeatureType(e){return e.featureType?pa(e.featureType.toLowerCase()):"None"}async build(e,t){const a=new qa.a(a=>{a.id=e.id,a.name=e.displayName,a.relationshipTypes=this.relationshipTypesFactory.build(t,e.id),a.enableUserAssignment=!!e.enableUserAssignment,a.autoGenerateEvent=!!e.autoGenerateEvent,a.openAfterEnrollment=!!e.openAfterEnrollment,a.generatedByEnrollmentDate=!!e.generatedByEnrollmentDate,a.reportDateToUse=e.reportDateToUse,a.standardInterval=e.standardInterval,a.stageForm=new Wa.a(t=>{t.id=e.id,t.name=e.displayName,t.description=e.description,t.featureType=Qa._getFeatureType(e),t.access=e.access,t.addLabel({id:"eventDate",label:e.executionDateLabel||"Incident date"}),t.validationStrategy=e.validationStrategy&&Xt(e.validationStrategy)})}),r=a.stageForm;if("CUSTOM"===e.formType&&e.dataEntryForm){const t=await this._buildMainSection(e.programStageDataElements);t.showContainer=!1,r.addSection(t);const a=e.dataEntryForm;try{r.customForm=new Ya.a(e=>{e.id=a.id,e.data=a.htmlCode})}catch(o){U.a.error(Object(B.c)(Qa.CUSTOM_FORM_TEMPLATE_ERROR)({template:a.htmlCode,error:o}))}}else if((n=e.programStageSections)&&Object(za.a)(n)&&n.length>0){const t=Qa._convertProgramStageDataElementsToObject(e.programStageDataElements);await e.programStageSections.asyncForEach(async e=>{r.addSection(await this._buildSection(t,{id:e.id,displayName:e.displayName,dataElements:e.dataElements}))})}else r.addSection(await this._buildMainSection(e.programStageDataElements));var n;return a}}Qa.CUSTOM_FORM_TEMPLATE_ERROR="Error in custom form template";var $a=Qa;var er=class{constructor(e){this.cachedCategories=e}build(e){return new Yt.a(t=>{const a=e.id;t.id=a;const r=this.cachedCategories[a];r?t.name=r.displayName:U.a.error(Object(B.c)("Could not retrieve cachedCategory")({id:a}))})}};async function tr(e,t,a){const{predicate:r,project:n}=a;return it().adapterType===qe?function(e,t,a){const r=it(),n=e.map(e=>r.get(Le.CATEGORY_OPTIONS,e).then(e=>t(e)?a(e):null));return Promise.all(n).then(e=>e.filter(e=>e))}(t,r,n):await async function(e,t,{predicate:a,project:r,onIsAborted:n}){const o=it();return await o.getAll(Le.CATEGORY_OPTIONS,{predicate:e=>!!t[e.id]&&a(e),project:r,onIsAborted:n,onIDBGetRequest:t=>t.index("categoryId").openCursor(IDBKeyRange.only(e))})}(e,t,a)}async function ar(e,t){return tr(e,await async function(e){const t=it();return(await t.get(Le.CATEGORY_OPTIONS_BY_CATEGORY,e)).options}(e),t)}class rr{constructor(e,t,a,r,n,o,i){this.trackedEntityTypeCollection=o,this.programStageFactory=new $a(e,t,i),this.enrollmentFactory=new Ga(a,e,r,i,o),this.searchGroupFactory=new da(a,e,i),this.dataElementFactory=new Ma(a,e,i),this.categoryFactory=new er(n)}_buildCategories(e){return new Map(e.map(e=>[e.id,this.categoryFactory.build(e)]))}_buildCategoryCombination(e){return e&&!e.isDefault&&e.categories&&e.categories.length>0?new Yt.b(t=>{t.name=e.displayName,t.id=e.id,t.categories=this._buildCategories(e.categories,this.cachedCategories)}):null}static async _buildProgramIcon(e={}){const t=new Yt.i;return t.color=e.color||"#e0e0e0",t.data=await(async e=>{if(!e)return qt.a;let t;try{t=await Kt(e)}catch(a){t=qt.a}return t})(e.icon),t}async _buildProgramAttributes(e){const t=e.map(async e=>await this.dataElementFactory.build(e));return await Promise.all(t)}async build(e){let t;if("WITHOUT_REGISTRATION"===e.programType){t=new Yt.h(t=>{t.id=e.id,t.access=e.access,t.name=e.displayName,t.shortName=e.displayShortName,t.organisationUnits=e.organisationUnits,t.categoryCombination=this._buildCategoryCombination(e.categoryCombo)});const a=e.programStages&&e.programStages[0];t.stage=await this.programStageFactory.build(a,t.id)}else t=new Yt.t(t=>{t.id=e.id,t.access=e.access,t.name=e.displayName,t.shortName=e.displayShortName,t.organisationUnits=e.organisationUnits,t.trackedEntityType=this.trackedEntityTypeCollection.get(e.trackedEntityTypeId)}),e.programTrackedEntityAttributes&&(t.searchGroups=await this.searchGroupFactory.build(e.programTrackedEntityAttributes,e.minAttributesRequiredToSearch),t.attributes=await this._buildProgramAttributes(e.programTrackedEntityAttributes)),await e.programStages.asyncForEach(async e=>{t.addStage(await this.programStageFactory.build(e,t.id))}),t.enrollment=await this.enrollmentFactory.build(e,t.searchGroups);return t.icon=await rr._buildProgramIcon(e.style),t}}var nr=rr,or=a(221);const ir=[{regExp:new RegExp("([^\\w\\d])(and)([^\\w\\d])","gi"),replacement:"$1&&$3"},{regExp:new RegExp("([^\\w\\d])(or)([^\\w\\d])","gi"),replacement:"$1||$3"},{regExp:new RegExp("V{execution_date}","g"),replacement:"V{event_date}"}];function sr(e){return ir.reduce((e,t)=>e=e.replace(t.regExp,t.replacement),e)}function lr(e){return e.match(/[A#]{\w+.?\w*}/g)||[]}function cr(e,t){const a=(r=e)&&ka()(r)?r.replace(/^[#VCAvca]{/,"").replace(/}$/,""):r;var r;const n=a.split(".");let o;return o=2===n.length?{id:a,displayName:a,programRuleVariableSourceType:"DATAELEMENT_CURRENT_EVENT",dataElementId:n[1],programId:t}:{id:a,displayName:a,programRuleVariableSourceType:"TEI_ATTRIBUTE",trackedEntityAttributeId:n[0],programId:t},o}function dr(e,t,a){(function(e,t){return e.condition.indexOf("V{value_count}")>=0||t.data.indexOf("V{value_count}")>=0})(e,t)&&function(e,t,a){let r=a.reduce((e,t,a)=>{const r="d2:count('".concat(t.displayName,"')");return e+=0!==a?" + ".concat(r):"".concat(r)},"");r="(".concat(r,")"),e.condition=e.condition.replace(new RegExp("V{value_count}","g"),r),t.data=t.data.replace(new RegExp("V{value_count}","g"),r)}(e,t,a)}function pr(e,t,a){(function(e,t){return e.condition.indexOf("V{zero_pos_value_count}")>=0||t.data.indexOf("V{zero_pos_value_count}")>=0})(e,t)&&function(e,t,a){let r=a.reduce((e,t,a)=>{const r="d2:countifzeropos('".concat(t.displayName,"')");return e+=0!==a?" + ".concat(r):"".concat(r)},"");r="(".concat(r,")"),e.condition=e.condition.replace(new RegExp("V{zero_pos_value_count}","g"),r),t.data=t.data.replace(new RegExp("V{zero_pos_value_count}","g"),r)}(e,t,a)}function ur(e,t){if(!e.displayInForm)return null;const a={id:e.id,content:e.shortName||e.displayName,data:e.expression,programRuleActionType:"DISPLAYKEYVALUEPAIR",location:"indicators"},r={id:e.id,condition:e.filter?e.filter:"true",description:e.description,displayName:e.displayName,programId:e.programId,programRuleActions:[a]},{variables:n,variableObjectsCurrentExpression:o}=function(e,t,a){const r=lr(t.condition),n=lr(e.data),o=r.map(e=>cr(e,a)),i=n.map(e=>cr(e,a));return{variables:[...o,...i],variableObjectsCurrentExpression:i}}(a,r,t);return dr(r,a,o),pr(r,a,o),a.data=sr(a.data),r.condition=sr(r.condition),{rule:r,variables:n}}function mr(e){const t=e.reduce((e,t)=>{const a=t.programId;return e[a]=e[a]||[],e[a].push(t),e},{});Object.keys(t).forEach(e=>{const a=t[e],r=or.a.get(e);if(r){const{rules:t,variables:n}=function(e,t){return e.map(e=>ur(e,t)).filter(e=>e).reduce((e,t)=>(e.rules=e.rules||[],e.rules.push(t.rule),e.variables=e.variables?[...e.variables,...t.variables]:t.variables,e),{rules:null,variables:null})}(a,e);t&&r.addProgramRules(t),n&&r.addProgramRuleVariables(n)}})}function hr(e,t,a,r){null!=e&&(function(e){return e.sort((e,t)=>e.name===t.name?0:e.name>t.name?1:-1),e}(e).forEach(e=>{or.a.set(e.id,e)}),t&&function(e){const t=e.reduce((e,t)=>{const a=t.programId;return e[a]=e[a]||[],e[a].push(t),e},{});Object.keys(t).forEach(e=>{const a=t[e],r=or.a.get(e);r&&(r.programRuleVariables=a)})}(t),a&&function(e){const t=e.reduce((e,t)=>{const a=t.programId;return e[a]=e[a]||[],e[a].push(t),e},{});Object.keys(t).forEach(e=>{const a=t[e],r=or.a.get(e);if(r){const e=a.filter(e=>!e.programStageId),t=a.filter(e=>e.programStageId).reduce((e,t)=>(e[t.programStageId]=e[t.programStageId]||[],e[t.programStageId].push(t),e),{});r.programRules=e,Object.keys(t).forEach(e=>{const a=t[e],n=r.getStage(e);n&&(n.programRules=a)})}})}(a),r&&mr(r))}async function gr(e,t,a,r,n){const[o,i,s,l,c,d]=await async function(){const e=it(),t=function(e,t){return e.getAll(t)}(e,Le.PROGRAMS),a=function(e,t){return e.getAll(t)}(e,Le.PROGRAM_RULES_VARIABLES),r=function(e,t){return e.getAll(t)}(e,Le.PROGRAM_RULES),n=function(e,t){return e.getAll(t)}(e,Le.PROGRAM_INDICATORS),o=function(e,t){return e.getAll(t)}(e,Le.RELATIONSHIP_TYPES),i=function(e,t){return e.getAll(t).then(e=>e.reduce((e,t)=>(e[t.id]=t,e),{}))}(e,Le.CATEGORIES);return Promise.all([t,a,r,n,o,i])}();hr(await function(e,t,a,r,n,o,i,s){const l=new nr(t,a,r,n,o,i,s),c=e.filter(e=>"WITHOUT_REGISTRATION"===e.programType||e.trackedEntityTypeId&&i.get(e.trackedEntityTypeId)).map(e=>l.build(e));return Promise.all(c)}(o,t,c,a,r,d,n,e),i,s,l)}var yr=a(460);async function vr(e){const t=await async function(e){return it().getAll(e)}(e);yr.a.set(t)}var br=a(459);class Er{static buildtetFeatureType(e){return new Yt.d(t=>{t.id="FEATURETYPE_".concat(e),t.name="POINT"===e?i.a.t("Coordinate"):i.a.t("Area"),t.formName=t.name,t.compulsory=!1,t.displayInForms=!0,t.disabled=!1,t.type="POINT"===e?Yt.v.COORDINATE:Yt.v.POLYGON})}constructor(e,t,a){this.cachedTrackedEntityAttributes=e,this.locale=a,this.optionSetFactory=new na(t,a)}_getAttributeTranslation(e,t){if(this.locale){const a=e.find(e=>e.property===t&&e.locale===this.locale);return a&&a.value}return null}async build(e){const t=e.trackedEntityAttributeId&&this.cachedTrackedEntityAttributes.get(e.trackedEntityAttributeId);if(!t)return U.a.error(Object(B.c)(Er.errorMessages.TRACKED_ENTITY_ATTRIBUTE_NOT_FOUND)({cachedTrackedEntityTypeAttribute:e})),null;const a=new Yt.d(a=>{a.id=t.id,a.compulsory=e.mandatory,a.name=this._getAttributeTranslation(t.translations,Er.translationPropertyNames.NAME)||t.displayName,a.shortName=this._getAttributeTranslation(t.translations,Er.translationPropertyNames.SHORT_NAME)||t.displayShortName,a.formName=this._getAttributeTranslation(t.translations,Er.translationPropertyNames.NAME)||t.displayName,a.description=this._getAttributeTranslation(t.translations,Er.translationPropertyNames.DESCRIPTION)||t.description,a.displayInForms=!0,a.displayInReports=e.displayInList,a.disabled=!1,a.type=t.valueType});return t.unique&&(a.unique=new Yt.e(e=>{e.scope=t.orgunitScope?Yt.w.ORGANISATION_UNIT:Yt.w.ENTIRE_SYSTEM,e.onValidate=(r,n={})=>{const o=Object(B.e)(La,Aa)(r,t.valueType);if(n.onGetUnsavedAttributeValues){const e=n.onGetUnsavedAttributeValues(a.id);if(e){if(e.find(e=>e===o))return{valid:!1,data:{attributeValueExistsUnsaved:!0}}}}let i;if(e.scope===Yt.w.ORGANISATION_UNIT){const e=n.orgUnitId;i=te().get("trackedEntityInstances",{ou:e,filter:"".concat(a.id,":EQ:").concat(o)})}else i=te().get("trackedEntityInstances",{ouMode:"ACCESSIBLE",filter:"".concat(a.id,":EQ:").concat(o)});return i.then(e=>{const t=e.trackedEntityInstances&&e.trackedEntityInstances[0]||{},a={id:t.trackedEntityInstance,tetId:t.trackedEntityType};return{valid:0===e.trackedEntityInstances.length,data:a}})},t.pattern&&(e.generatable=!!t.pattern)})),t.optionSet&&t.optionSet.id&&(a.optionSet=await this.optionSetFactory.build(a,t.optionSet.id,null,null,e=>e)),a}}Er.translationPropertyNames={NAME:"NAME",DESCRIPTION:"DESCRIPTION",SHORT_NAME:"SHORT_NAME"},Er.errorMessages={TRACKED_ENTITY_ATTRIBUTE_NOT_FOUND:"TrackedEntityAttributeId missing from trackedEntityTypeAttribute or trackedEntityAttribute not found"};var fr=Er;class Or{static _buildSearchGroupElement(e,t){return new Yt.d(a=>{a.id=e.id,a.name=e.name,a.shortName=e.shortName,a.formName=e.formName,a.description=e.description,a.displayInForms=!0,a.displayInReports=e.displayInReports,a.compulsory=e.compulsory,a.disabled=e.disabled,a.type=t.valueType,a.optionSet=e.optionSet})}static _buildTetFeatureTypeField(e){const t=e.featureType;return t&&["POINT","POLYGON"].includes(t)?fr.buildtetFeatureType(t):null}constructor(e,t,a){this.cachedTrackedEntityAttributes=e,this.dataElementFactory=new fr(e,t,a)}async _buildSection(e){const t=Or._buildTetFeatureTypeField(e),a=e.trackedEntityTypeAttributes;if((!a||a.length<=0)&&!t)return null;const r=new Yt.p(e=>{e.id=Yt.p.MAIN_SECTION_ID,e.name=i.a.t("Profile")});return t&&r.addElement(t),a&&a.length>0&&await a.asyncForEach(async e=>{const t=await this.dataElementFactory.build(e);t&&r.addElement(t)}),r}async _buildFoundation(e){const t=new Yt.n(t=>{t.name=e.displayName,t.id=e.id}),a=await this._buildSection(e);return a&&t.addSection(a),t}_buildInputSearchGroupFoundation(e,t){const a=(e.trackedEntityTypeAttributes||[]).reduce((e,t)=>{if(!t.trackedEntityAttributeId)return U.a.error(Object(B.c)("TrackedEntityAttributeId missing from trackedEntityTypeAttribute")({typeTeiAttribute:t})),e;const a=this.cachedTrackedEntityAttributes.get(t.trackedEntityAttributeId);return a?e[a.id]=a:U.a.error(Object(B.c)("could not retrieve tei attribute")({typeTeiAttribute:t})),e},{}),r=t.searchForm,n=new Yt.n,o=new Yt.p(e=>{e.id=Yt.p.MAIN_SECTION_ID});return Array.from(r.getSection(Yt.p.MAIN_SECTION_ID).elements.entries()).map(e=>e[1]).forEach(e=>{const t=Or._buildSearchGroupElement(e,a[e.id]);t&&o.addElement(t)}),n.addSection(o),n}_buildInputSearchGroups(e,t){return t.filter(e=>!e.unique).map(t=>new Yt.j(a=>{a.id=t.id,a.minAttributesRequiredToSearch=t.minAttributesRequiredToSearch,a.searchFoundation=this._buildInputSearchGroupFoundation(e,t),a.onSearch=(e={},t={})=>{const{orgUnitId:a,trackedEntityType:r}=t;return te().get("trackedEntityInstances/count.json",{ou:a,trackedEntityType:r,ouMode:"ACCESSIBLE",filter:Object.keys(e).filter(t=>e[t]||0===e[t]||!1===e[t]).map(t=>"".concat(t,":LIKE:").concat(e[t]))})}}))}async build(e,t=[],a){const r=await this._buildFoundation(e),n=this._buildInputSearchGroups(e,t);return new Yt.r(e=>{e.form=r,e.inputSearchGroups=n,e.trackedEntityType=a})}}var Sr=Or;class Cr{constructor(e,t,a){this.locale=a,this.dataElementFactory=new fr(e,t,a),this.searchGroupFactory=new da(e,t,a),this.teiRegistrationFactory=new Sr(e,t,a)}_getTranslation(e,t){if(this.locale){const a=e.find(e=>e.property===t&&e.locale===this.locale);return a&&a.value}return null}async _buildAttributes(e){const t=e.map(async e=>await this.dataElementFactory.build(e));return(await Promise.all(t)).filter(e=>e)}async build(e){const t=new Yt.s(t=>{t.id=e.id,t.access=e.access,t.name=this._getTranslation(e.translations,Cr.translationPropertyNames.NAME)||e.displayName});return e.trackedEntityTypeAttributes&&(t.searchGroups=await this.searchGroupFactory.build(e.trackedEntityTypeAttributes,e.minAttributesRequiredToSearch),t.attributes=await this._buildAttributes(e.trackedEntityTypeAttributes)),t.teiRegistration=await this.teiRegistrationFactory.build(e,t.searchGroups,t),t}}Cr.translationPropertyNames={NAME:"NAME",SHORT_NAME:"SHORT_NAME",DESCRIPTION:"DESCRIPTION"};var Ir=Cr;function wr(...e){const t=it(),a=e.map(e=>t.getAll(e));return Promise.all(a).then(t=>t.reduce((t,a,r)=>(t[e[r]]=a.reduce((e,t)=>(e.set(t.id,t),e),new Map),t),{}))}async function Tr(e){const t=await wr(Le.TRACKED_ENTITY_ATTRIBUTES,Le.OPTION_SETS,Le.TRACKED_ENTITY_TYPES),a=await async function(e,t,a,r){const n=new Ir(t,a,r);return await[...e.values()].asyncForEach(async e=>{const t=await n.build(e);or.c.set(t.id,t)}),or.c}(t[Le.TRACKED_ENTITY_TYPES],t[Le.TRACKED_ENTITY_ATTRIBUTES],t[Le.OPTION_SETS],e),r=gr(e,t[Le.OPTION_SETS],t[Le.TRACKED_ENTITY_ATTRIBUTES],t[Le.TRACKED_ENTITY_TYPES],a),n=vr(Le.CONSTANTS);var o;o=t[Le.OPTION_SETS],br.a.set(o),await Promise.all([r,n])}async function Nr(e){const t=e||await async function(){return ot().getAll(xe.SYSTEM_SETTINGS)}(),a=new Yt.q;t.forEach(e=>{a[e.id]=e.value}),a.trackerAppRelativePath="dhis-web-tracker-capture",or.b.set(a)}function _r(e){!function(e){i.a.changeLanguage(e)}(e),i.a.setDefaultNamespace("default")}async function Ar(e){const t=e;await function(e){return"en"===e?(De.a.locale(e),Promise.resolve()):new Promise(t=>{a(21)("./".concat(e)).then(()=>{De.a.locale(e),U.a.info("got moment locale config for ".concat(e)),t()}).catch(()=>{De.a.locale("en"),U.a.error("could not get moment locale config for ".concat(e)),t()})})}(t);const r=De.a.weekdays(),n=De.a.weekdaysShort(),o=De.a.localeData()._week.dow;await function(e,t,r,n){return new Promise((o,s)=>{a(6692)("./".concat(e)).then(a=>{const s={dateFnsLocale:a,weekDays:t,weekDaysShort:r,calendarFormatHeaderLong:"dddd D MMM",calendarFormatHeaderShort:"D MMM",selectDatesText:i.a.t("Choose one or more dates..."),selectDateText:i.a.t("Choose a date..."),todayLabelShort:i.a.t("Today"),todayLabelLong:i.a.t("Today"),weekStartsOn:n};U.a.info("got date-fns locale for ".concat(e)),Fe.set(s),o()}).catch(()=>{U.a.error("could not get date-fns locale config for ".concat(e,", fallback to en")),a.e(0).then(a.t.bind(null,579,7)).then(e=>{const a={dateFnsLocale:e,weekDays:t,weekDaysShort:r,calendarFormatHeaderLong:"dddd D MMM",calendarFormatHeaderShort:"D MMM",selectDatesText:i.a.t("Choose one or more dates..."),selectDateText:i.a.t("Choose a date..."),todayLabelShort:i.a.t("Today"),todayLabelLong:i.a.t("Today"),weekStartsOn:n};Fe.set(a),o()}).catch(()=>{U.a.error("could not get the fallback date-fns locale for ".concat(e)),s()})})})}(t,r,n,o),_r(t)}async function Rr(e){const t=await async function(e){const t=[{id:"dateFormat",value:re().system.systemInfo.dateFormat.toUpperCase()},{id:"dir",value:Wt(e)?"rtl":"ltr"}],a=ot();return await a.setAll(xe.SYSTEM_SETTINGS,t),t}(e);await Nr(t)}async function kr(e,t,a){!function(){let e={[ke.a.dev]:U.a.levels.DEBUG,[ke.a.devDebug]:U.a.levels.TRACE,[ke.a.test]:U.a.levels.INFO,[ke.a.prod]:U.a.levels.ERROR}.production;e||0===e||(e=U.a.levels.ERROR),U.a.setLevel(e)}(),function(e){const{NODE_ENV:t}=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_DHIS2_API_VERSION:"36",REACT_APP_DHIS2_APP_NAME:"capture-app",REACT_APP_VERSION:"35.0.0",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"2"});je.config.baseUrl=e,t!==ke.a.prod&&(je.config.headers={"X-Requested-With":"XMLHttpRequest"}),je.config.i18n.sources.add("i18n/i18n_module_en.properties")}(a);const r=await Object(je.init)({schemas:["organisationUnit"]}),n=await Object(je.getUserSettings)();!function(e){$=e}(r),function(e){e.i18n.addStrings(["app_search_placeholder=search"])}(r);try{await async function(e){nt.main=await at(rt,e),nt.user=await et(nt.main)}(e)}catch(l){throw new Re(i.a.t("A possible reason for this is that the browser or mode (e.g. privacy mode) is not supported. See log for details."),l)}const o=n.keyUiLocale,s=n.keyDbLocale;await Ar(o),await Rr(o),await async function(e,t){await Ht(t),await Tr(e)}(s,t)}var jr=a(230),Pr=a(7426),Dr=a(6693),Fr=a(6694),xr=a(259),Lr=a(1066),Ur=a(222),Mr=a(6695),Vr=a(926),Br=a.n(Vr);const Gr="post",Hr="update",Wr="delete",Yr=(()=>{const e={[Gr]:"create",[Hr]:"replace",[Wr]:"delete"};return t=>({url:a,method:r,data:n})=>t({resource:a,type:e[r],data:n})})();var zr=a(931),qr=a.n(zr);function Kr(e){return e&&e.meta&&e.meta.offline&&e.meta.offline.effect?e.meta.offline.effect:{}}const Xr=Object(G.a)({},qr.a,{enqueue(e,t){const a=Kr(t);if(a.clientId){return[...e.filter(e=>{const t=Kr(e);return!(t.clientId===a.clientId&&t.method===a.method)}),t]}return[...e,t]},dequeue(e,t){const[a,...r]=e,n=Kr(a);return n.method===Gr?r.map(e=>{const r=Kr(e);if(r.clientId===n.clientId&&r.updateOnDequeueCallback){return(o=r.updateOnDequeueCallback,Function("return ".concat(o))())(e,a,t)}var o;return e}).filter(e=>e):r}}),Jr="network",Zr="access",Qr="unknown",$r=e=>{if(!(null===e||void 0===e?void 0:e.type))return!1;switch(e.type){case Jr:return!1;case Zr:return(({details:{httpStatusCode:e}})=>401!==e)(e);case Qr:return(({message:e})=>{const t=e.match(/\(\d*\)$/);if(t){const e=t[0].replace(/[()]/g,"");return Boolean(e)&&![408,429,502,503,504].includes(e)}return!1})(e);default:return!1}};function en(){const e=Le.REDUX_PERSIST,t=it();return{setItem:(a,r)=>t.set(e,{id:a,value:r}),getItem:(a,r)=>{t.get(e,a).then(e=>{r(null,e&&e.value)}).catch(e=>{r(e,null)})},removeItem:a=>t.remove(e,a),getAllKeys:a=>{t.getKeys(e).then(e=>{a(null,e)}).catch(e=>{a(e,null)})}}}var tn=a(469),an=a(188),rn=a(294),nn=a.n(rn);const on="FieldsValidated",sn="FieldIsValidating",ln="CleanUpFormBuilder",cn="StartUpdateFieldAsync",dn="UpdateFieldFromAsync",pn="AsyncUpdateFieldFailed",un=e=>class extends r.Component{constructor(...e){super(...e),this.handleIsValidating=(...e)=>{const{id:t}=this.props;this.props.onIsValidating(...e,t)},this.handleFieldsValidated=(...e)=>{const{id:t}=this.props;this.props.onFieldsValidated(...e,t)},this.handleCleanUp=(...e)=>{const{id:t}=this.props;this.props.onCleanUp(...e,t)},this.handleUpdateFieldAsyncInner=(...e)=>{const{onUpdateFieldAsyncInner:t,onUpdateFieldAsync:a}=this.props;t(...e,a)}}render(){const t=this.props,{onIsValidating:a,onFieldsValidated:n,onCleanUp:o,onUpdateFieldAsyncInner:i,onUpdateFieldAsync:s}=t,l=Object(_e.a)(t,["onIsValidating","onFieldsValidated","onCleanUp","onUpdateFieldAsyncInner","onUpdateFieldAsync"]);return r.createElement(e,Object.assign({onIsValidating:this.handleIsValidating,onFieldsValidated:this.handleFieldsValidated,onUpdateFieldAsync:this.handleUpdateFieldAsyncInner,onCleanUp:this.handleCleanUp},l))}},mn=()=>({}),hn=e=>({onIsValidating:(t,a,r,n,o,s)=>{const l=((e,t,a,r,n,o)=>H(sn)({fieldId:e,formBuilderId:t,formId:a,message:r||i.a.t("This value is validating"),fieldUIUpdates:n,validatingUid:o}))(t,a,s,n,o,r);e(l)},onFieldsValidated:(t,a,r,n)=>{const o=((e,t,a,r)=>H(on)({fieldsUI:e,formBuilderId:t,formId:a,validatingUids:r}))(t,a,n,r);e(o)},onCleanUp:(t,a)=>{e(((e,t)=>H(ln)({remainingUids:e,formId:t}))(t,a))},onUpdateFieldAsyncInner:(t,a,r,n,o,i)=>{const s=((e,t,a,r,n,o)=>H(cn)({elementId:e,fieldLabel:t,formBuilderId:a,formId:r,uid:n,callback:o}))(t,a,r,n,nn()(),o);i?i(s):e(s)}});var gn=a(461),yn=a.n(gn);function vn(e){if(!e)return{message:null,details:null};return{message:ka()(e)?e:e.message,details:yn()(e)?e:null}}var bn=a(5),En=a.n(bn);class fn extends r.Component{getHeader(){const e=this.props.header;if(e&&e.type&&"SectionHeaderSimple"===e.type.name&&this.props.onChangeCollapseState){return n.a.cloneElement(e,{onChangeCollapseState:this.props.onChangeCollapseState,isCollapsed:this.props.isCollapsed,extendedCollapsibility:this.props.extendedCollapsibility})}return e}renderContents(){const{isCollapsed:e,contentStyle:t,mainActionButton:a,classes:r}=this.props,o=!e,i=Object.assign({},t,e?{display:"none"}:null),s=a?n.a.createElement("div",{className:r.mainActionButton},a):null;return n.a.createElement("div",null,this.getHeader(),n.a.createElement("div",{style:i},s,(()=>o?this.props.children:null)()))}render(){const{style:e,className:t}=this.props,a=En()(this.props.classes.container,t);return n.a.createElement("div",{className:a,style:e},this.renderContents())}}var On=Object(ge.withStyles)(e=>({container:{flexGrow:1,display:"flex",flexDirection:"column",position:"relative",border:"1px solid ".concat(e.palette.grey.blueGrey)},mainActionButton:{position:"absolute",right:15,top:30}}))(fn),Sn=a(252),Cn=a.n(Sn),In=a(244);class wn extends r.Component{constructor(e){super(e),this.handleChangeCollapse=this.handleChangeCollapse.bind(this)}handleChangeCollapse(){this.props.onChangeCollapseState()}render(){const{titleStyle:e,extendedCollapsibility:t,containerStyle:a,classes:r,secondary:o,onChangeCollapseState:i}=this.props,s=t?{onClick:this.handleChangeCollapse}:null,l=t?Object(G.a)({},a,{},{cursor:"pointer"}):a;return n.a.createElement("div",Object.assign({className:o?r.containerSecondary:r.container,style:l},s),n.a.createElement("div",{className:r.title,style:e},this.props.title),n.a.createElement("div",{className:r.children},this.props.children,(()=>i?n.a.createElement(Cn.a,{"data-test":"dhis2-capture-collapsible-button",disabled:!this.props.isCollapseButtonEnabled,title:this.props.isCollapsed?"\xc5pne":"Lukk",onClick:this.handleChangeCollapse},this.props.isCollapsed?n.a.createElement(In.k,null):n.a.createElement(In.l,null)):null)()))}}wn.defaultProps={isCollapseButtonEnabled:!0};var Tn=Object(ge.withStyles)(e=>({container:{display:"flex"},containerSecondary:{display:"flex"},title:Object(G.a)({},e.typography.title,{fontSize:16,fontWeight:500,padding:"16px 8px 16px 12px"}),children:{flexGrow:1,display:"flex",justifyContent:"flex-end",alignItems:"center",paddingRight:5}}))(wn),Nn=a(6734),_n=a.n(Nn);class An extends r.Component{static async validateField(e,t,a,r){if(!e.validators||0===e.validators.length)return{valid:!0};const n=await e.validators.reduce(async(e,n)=>{const o=await e;if(!0===o){let e=n.validator(t,a);return e instanceof Promise&&(e=r?r(n.validatingMessage,e):e,e=await e),!!(!0===e||e&&e.valid)||{message:e&&e.errorMessage||n.message,type:n.type,data:e&&e.data}}return o},Promise.resolve(!0));return!0!==n?{valid:!1,errorMessage:n.message,errorType:n.type,errorData:n.data}:{valid:!0}}static getAsyncUIState(e){return Object.keys(e).reduce((t,a)=>{const r=e[a];return t[a]=An.getFieldAsyncUIState(r),t},{})}static getFieldAsyncUIState(e){const t=["valid","errorMessage","touched"];return Object.keys(e).reduce((a,r)=>(t.includes(r)||(a[r]=e[r]),a),{})}static updateAsyncUIState(e,t,a){return Object.keys(t).reduce((a,r)=>{const n=t[r];return n!==e[r]&&(a[r]=An.getFieldAsyncUIState(n)),a},a)}static executeValidateAllFields(e,t){const{id:a,fields:r,values:n,onGetValidationContext:o,onIsValidating:s}=e,l=o&&o(),c=r.map(async e=>{const r=e.id,o=t[r]||{};t[r]=o,o.validatingCompleteUid||(o.validatingCompleteUid=nn()()),o.cancelableValidatingPromise&&o.cancelableValidatingPromise.cancel();const c=(t,r)=>(o.cancelableValidatingPromise=Object(B.d)(r),s&&s(e.id,a,o.validatingCompleteUid,t),o.cancelableValidatingPromise.promise);let d;try{d=await An.validateField(e,n[e.id],l,c)}catch(p){p&&yn()(p)&&p.isCanceled?d=null:(d={valid:!1,errorMessage:i.a.t("error encountered during field validation"),errorType:i.a.t("error")},U.a.error({reason:p,field:e}))}return{id:e.id,validationData:d}});return Promise.all(c).then(e=>e.filter(e=>!!e.validationData))}constructor(e){super(e),this.handleUpdateAsyncState=(e,t)=>{this.props.onUpdateFieldUIOnly(t,e,this.props.id)},this.handleCommitAsync=(e,t,a)=>{this.props.onUpdateFieldAsync(e,t,this.props.id,a)},this.renderField=(e,t,a,n)=>{const o=this.props,{fields:i,values:s,fieldsUI:l,validationAttempted:c,id:d,onFieldsValidated:p,onUpdateField:u,onUpdateFieldAsync:m,onUpdateFieldUIOnly:h,validateIfNoUIData:g,children:y,onRenderDivider:v,onGetContainerProps:b,onIsValidating:E,onGetValidationContext:f,onCleanUp:O,loadNr:S,onPostProcessErrorMessage:C}=o,I=Object(_e.a)(o,["fields","values","fieldsUI","validationAttempted","id","onFieldsValidated","onUpdateField","onUpdateFieldAsync","onUpdateFieldUIOnly","validateIfNoUIData","children","onRenderDivider","onGetContainerProps","onIsValidating","onGetValidationContext","onCleanUp","loadNr","onPostProcessErrorMessage"]),w=e.props||{},T=l[e.id]||{},N=s[e.id],_=this.commitFieldUpdate.bind(this,e.id),A={[e.commitEvent||"onBlur"]:_},R={};w.async&&(R.onCommitAsync=t=>this.handleCommitAsync(e.id,w.label,t),R.asyncUIState=this.asyncUIState[e.id]);const k=C&&T.errorMessage?C(T.errorMessage,T.errorType,T.errorData,"".concat(d,"-").concat(e.id),e.id):T.errorMessage;return r.createElement("div",{key:e.id,className:_n.a.fieldOuterContainer,"data-test":"dhis2-capture-form-field-".concat(e.id)},r.createElement("div",n&&n(t,i.length,e),r.createElement(e.component,Object.assign({ref:t=>{this.setFieldInstance(t,e.id)},value:N,errorMessage:k,touched:T.touched,validationAttempted:c,validatingMessage:T.validatingMessage},A,w,I,R))),a&&a(t,i.length,e))},this.fieldInstances=new Map,this.asyncUIState=An.getAsyncUIState(this.props.fieldsUI),this.fieldsValidatingPromiseContainer={},this.commitUpdateTriggeredForFields={},this.props.validateIfNoUIData&&this.validateAllFields(this.props)}UNSAFE_componentWillReceiveProps(e){if(e.id!==this.props.id||e.loadNr!==this.props.loadNr){this.asyncUIState=An.getAsyncUIState(this.props.fieldsUI),this.commitUpdateTriggeredForFields={};const t=e.onCleanUp;t&&t(this.getCleanUpData()),this.props.validateIfNoUIData&&this.validateAllFields(e)}else this.asyncUIState=An.updateAsyncUIState(this.props.fieldsUI,e.fieldsUI,this.asyncUIState)}componentWillUnmount(){const e=this.props.onCleanUp;e&&e(this.getCleanUpData())}getCleanUpData(){const e=Object.keys(this.fieldsValidatingPromiseContainer).map(e=>{const{cancelableValidatingPromise:t,validatingCompleteUid:a}=this.fieldsValidatingPromiseContainer[e]||{};return t&&t.cancel(),a}).filter(e=>!!e);return this.fieldsValidatingPromiseContainer={},e}validateAllFields(e){this.validateAllCancelablePromise&&this.validateAllCancelablePromise.cancel(),this.validateAllCancelablePromise=Object(B.d)(An.executeValidateAllFields(e,this.fieldsValidatingPromiseContainer)),this.validateAllCancelablePromise.promise.then(t=>{const a=t.reduce((e,t)=>(e[t.id]=t.validationData,e),{}),r=t.map(e=>({promises:this.fieldsValidatingPromiseContainer[e.id],id:e.id,commitUpdateTriggeredForField:this.commitUpdateTriggeredForFields[e.id]})).filter(e=>!e.commitUpdateTriggeredForField);e.onFieldsValidated&&e.onFieldsValidated(a,e.id,r.map(e=>e.promises.validatingCompleteUid)),r.forEach(e=>{this.fieldsValidatingPromiseContainer[e.id]=null}),this.validateAllCancelablePromise=null}).catch(e=>{e&&yn()(e)&&e.isCanceled||U.a.error({reason:e,message:"formBuilder validate all fields failed"})})}getFieldProp(e){return this.props.fields.find(t=>t.id===e)}hasCommitedValueChanged(e,t){let a=!0;const r=this.props.values[e.id];return yn()(t)?e.onIsEqual&&e.onIsEqual(t,r)&&(a=!1):(t||"")===(r||"")&&(a=!1),a}async commitFieldUpdate(e,t,a){const{onUpdateFieldUIOnly:r,onUpdateField:n,onGetValidationContext:o,id:s,onIsValidating:l}=this.props,c=this.getFieldProp(e),d=!a||!Me()(a.touched)||a.touched;if(!this.hasCommitedValueChanged(c,t))return void r({touched:d},e,s);const p=this.fieldsValidatingPromiseContainer[e]||{};this.fieldsValidatingPromiseContainer[e]=p,p.validatingCompleteUid||(p.validatingCompleteUid=nn()()),p.cancelableValidatingPromise&&p.cancelableValidatingPromise.cancel();this.commitUpdateTriggeredForFields[e]=!0;const u=An.validateField(c,t,o&&o(),(t,a)=>(p.cancelableValidatingPromise=Object(B.d)(a),l&&l(e,s,p.validatingCompleteUid,t,{touched:!0}),p.cancelableValidatingPromise.promise)).then(({valid:a,errorMessage:r,errorType:o,errorData:i})=>{n(t,{valid:a,touched:d,errorMessage:r,errorType:o,errorData:i},e,s,p.validatingCompleteUid),this.fieldsValidatingPromiseContainer[e]=null}).catch(a=>{a&&yn()(a)&&a.isCanceled||(U.a.error({reason:a,field:c,value:t}),n(t,{valid:!1,touched:!0,errorMessage:i.a.t("error encountered during field validation"),errorType:i.a.t("error")},e,s,p.validatingCompleteUid),this.fieldsValidatingPromiseContainer[e]=null)});await u}setFieldInstance(e,t){e?this.fieldInstances.set(t,e):this.fieldInstances.has(t)&&this.fieldInstances.delete(t)}isValid(e){return Object.keys(this.props.fieldsUI).every(t=>{const a=this.props.fieldsUI[t];if(e){if(!e.includes(a.errorType))return!0}return a.valid})}getInvalidFields(e){return this.props.fields.reduce((t,a)=>{const r=this.props.fieldsUI[a.id];return r.valid?e&&e[a.id]&&t.push({prop:a,instance:this.fieldInstances.get(a.id),uiState:r}):t.push({prop:a,instance:this.fieldInstances.get(a.id),uiState:r}),t},[])}renderFields(){const{fields:e,children:t,onRenderDivider:a,onGetContainerProps:r}=this.props;return t?t(this.renderField,e):e.map((e,t)=>this.renderField(e,t,a,r))}render(){return r.createElement(r.Fragment,null,this.renderFields())}}var Rn=An;const kn="UpdateFieldUIOnly";var jn=Object(an.c)((e,t)=>({fieldsUI:e.formsSectionsFieldsUI[t.id]||{}}),e=>({onUpdateFieldUIOnly:(t,a,r)=>{e(((e,t,a)=>H(kn)({uiState:e,elementId:t,sectionId:a}))(t,a,r))}}))(e=>{const{formBuilderRef:t}=e,a=Object(_e.a)(e,["formBuilderRef"]);return n.a.createElement(Rn,Object.assign({ref:t},a))});function Pn(e){return Boolean(e)||0===e||!1===e}function Dn(e,t){return Object(Zt.a)(e,t).isValid}var Fn=function(e){return Object(Zt.c)(e).isValid};const xn=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;var Ln=e=>xn.test(e);var Un=e=>{if(isNaN(e))return!1;const t=Number(e);return Number.isSafeInteger(t)};var Mn=e=>{if(isNaN(e))return!1;const t=Number(e);return Number.isSafeInteger(t)&&t>0};var Vn=e=>{if(isNaN(e))return!1;const t=Number(e);return Number.isSafeInteger(t)&&t<0};var Bn=e=>"0"===e||Mn(e);var Gn=e=>!(isNaN(e)||Number(e)===1/0);var Hn=e=>{const t=e.replace("%","");return!(isNaN(t)||Number(t)===1/0)};var Wn=e=>null!==e.match(/^(http|https):\/\/[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,6}(:[0-9]{1,5})?(\/.*)?$/);const Yn="Please provide a valid date",zn="Please provide a valid positive integer",qn="Please provide a valid positive integer",Kn="Please provide a valid positive integer";function Xn(e){return!e||Bn(e)}function Jn(e,t){if(function(e){return!e.date&&!e.years&&!e.months&&!e.days}(e))return!1;const a=function(e,t,a){const r=[];return Xn(e)||r.push({years:zn}),Xn(t)||r.push({months:qn}),Xn(a)||r.push({days:Kn}),r.length>0?{valid:!1,errorMessage:r.reduce((e,t)=>Object(G.a)({},e,{},t),{})}:{valid:!0}}(e.years,e.months,e.days);return a.valid?function(e,t){return!e||Dn(e,t)?{valid:!0}:{valid:!1,errorMessage:{date:Yn}}}(e.date,t):a}var Zn=e=>/^[^a-zA-Z]+$/.test(e);var Qn=e=>!!(e&&e.id&&e.name);function $n(e){return"number"===typeof e||"string"===typeof e&&null===e.match(/[^0-9.,-]+/)}var eo=e=>{if(!e)return!1;const{longitude:t,latitude:a}=e;if(!$n(a)||!$n(t))return!1;const r=parseInt(t,10),n=parseInt(a,10);return r>=-180&&r<=180&&n>=-90&&n<=90},to=a(295),ao=a.n(to),ro=a(949),no=a.n(ro);const oo=e=>{const{multiLine:t,classes:a,inputRef:r,style:o}=e,i=Object(_e.a)(e,["multiLine","classes","inputRef","style"]);return n.a.createElement(n.a.Fragment,null,t?n.a.createElement("textarea",Object.assign({"data-test":"capture-ui-textarea",ref:r,className:En()(no.a.textArea,a.input)},i)):n.a.createElement("input",Object.assign({"data-test":"capture-ui-input",ref:r,className:En()(no.a.input,a.input)},i)))};oo.defaultProps={classes:{}};var io=oo,so=a(6735),lo=a.n(so);var co=function(e){const{children:t,shrink:a}=e,r=En()(lo.a.label,a?lo.a.labelShrinked:lo.a.labelUnshrinked);return n.a.createElement("div",{className:r},t)},po=a(6736),uo=a.n(po),mo=()=>e=>class extends r.Component{constructor(...t){super(...t),this.renderDisabled=t=>r.createElement(e,Object.assign({placeholder:this.props.label},t))}render(){const t=this.props,{shrinkDisabled:a}=t,n=Object(_e.a)(t,["shrinkDisabled"]),o=!!this.props.inFocus||!!this.props.value;return a?this.renderDisabled(n):r.createElement("div",{className:uo.a.container},r.createElement(co,{shrink:o},this.props.label),r.createElement(e,n))}},ho=()=>e=>class extends r.Component{constructor(e){super(e),this.setFocus=()=>{this.setState({inFocus:!0}),this.props.onSetFocus&&this.props.onSetFocus()},this.removeFocus=()=>{this.setState({inFocus:!1}),this.props.onRemoveFocus&&this.props.onRemoveFocus()},this.state={inFocus:!1}}render(){const{inFocus:t}=this.state,a=this.props,{inFocus:n,onSetFocus:o,onRemoveFocus:i}=a,s=Object(_e.a)(a,["inFocus","onSetFocus","onRemoveFocus"]);return r.createElement(e,Object.assign({inFocus:t,onSetFocus:this.setFocus,onRemoveFocus:this.removeFocus},s))}},go=()=>e=>class extends r.Component{constructor(...e){super(...e),this.handleBlur=e=>{this.props.onRemoveFocus(),this.props.onBlur&&this.props.onBlur(e)},this.handleFocus=()=>{this.props.onSetFocus(),this.props.onFocus&&this.props.onFocus()}}render(){const t=this.props,{onSetFocus:a,onRemoveFocus:n,onFocus:o,inFocus:i,onBlur:s,classes:l}=t,c=Object(_e.a)(t,["onSetFocus","onRemoveFocus","onFocus","inFocus","onBlur","classes"]),{inputWrapperFocused:d,inputWrapperUnfocused:p}=l,u=Object(_e.a)(l,["inputWrapperFocused","inputWrapperUnfocused"]),m=i?d:p;return r.createElement("div",{className:En()(no.a.inputWrapper,m)},r.createElement(e,Object.assign({onFocus:this.handleFocus,onBlur:this.handleBlur},c,{classes:u})))}};class yo extends r.Component{constructor(...e){super(...e),this.handleBlur=e=>{this.props.onBlur(e.currentTarget.value)},this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.currentTarget.value)},this.handleFocus=()=>{}}render(){const e=this.props,{onBlur:t,onChange:a,value:r,classes:o}=e,i=Object(_e.a)(e,["onBlur","onChange","value","classes"]);return n.a.createElement(io,Object.assign({classes:{},onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,value:r||""},i))}}var vo=ho()(mo()(go()(yo)));const bo="right",Eo="center",fo="up",Oo="inline";var So=a(6737),Co=a.n(So);class Io extends r.Component{constructor(...e){super(...e),this.getRightCalendarStyle=e=>e===Oo?{marginLeft:"-".concat(this.calculateMarginLeftInline(),"px")}:Object(G.a)({},this.getAbsoluteVerticalPosition(),{right:0}),this.getLeftCalendarStyle=e=>e===Oo?{}:Object(G.a)({},this.getAbsoluteVerticalPosition(),{left:0}),this.getCenterCalendarStyle=e=>e===Oo?{marginLeft:"-".concat(this.calculateMarginLeftInline()/2,"px")}:Object(G.a)({},this.getAbsoluteVerticalPosition(),{left:"50%",transform:"translate(-50%, 0)"})}getAbsoluteBottom(){return this.props.inputUsesFloatingLabel?60:40}getAbsoluteVerticalPosition(){return this.props.absoluteDirection===fo?{bottom:this.getAbsoluteBottom()}:{top:0}}calculateMarginLeftInline(){const{inputWidth:e,calendarWidth:t}=this.props;return t-e}getPopupStyle(){const{anchorPosition:e,mode:t}=this.props;let a;return a=e===bo?this.getRightCalendarStyle(t):e===Eo?this.getCenterCalendarStyle(t):this.getLeftCalendarStyle(t),a}render(){const{open:e,mode:t,children:a}=this.props;if(!e)return null;const n=t===Oo?Co.a.containerInline:Co.a.containerAbsolute,o=t===Oo?Co.a.calendarInline:Co.a.calendarAbsolute,i=this.getPopupStyle();return r.createElement("div",{className:n},r.createElement("div",{className:o,style:i},a))}}var wo=Io,To=a(1173);a(955),a(6775);class No extends r.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.displayOptions=Object(G.a)({},No.displayOptions,{},this.props.displayOptions)}shouldComponentUpdate(){return!1}handleChange(e){const t=this.props.onConvertValueOut(e);this.props.onDateSelected(t)}getValue(e){return this.props.onConvertValueIn(e)}getMinMaxProps(){const{minMoment:e=De()("1900-01-01"),maxMoment:t=De()("2099-12-31")}=this.props,a=e.toDate(),r=t.toDate();return{min:a,minDate:a,max:r,maxDate:r}}render(){const e=this.props,{value:t,classes:a,currentWidth:r,height:o,minMoment:i,maxMoment:s,onDateSelected:l,displayOptions:c}=e,d=Object(_e.a)(e,["value","classes","currentWidth","height","minMoment","maxMoment","onDateSelected","displayOptions"]);return n.a.createElement("div",null,n.a.createElement(To.a,Object.assign({},this.getMinMaxProps(),{selected:this.getValue(t),onSelect:this.handleChange,width:r,height:o,autoFocus:!1,displayOptions:this.displayOptions},d)))}}No.displayOptions={showHeader:!0,showMonthsForYears:!1};var _o=No;class Ao extends n.a.Component{constructor(...e){super(...e),this.handleBlur=e=>{this.props.onBlur(e)},this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.currentTarget.value)}}render(){const e=this.props,{onBlur:t,onChange:a,value:r}=e,o=Object(_e.a)(e,["onBlur","onChange","value"]);return n.a.createElement(io,Object.assign({value:r||"",onBlur:this.handleBlur,onChange:this.handleChange},o))}}var Ro=go()(Ao);class ko extends n.a.Component{static splitPassOnProps(e){const t={input:{},popup:{},calendar:{}};return e?Object.keys(e).reduce((t,a)=>{let r;r=a.startsWith(ko.propContainers.CALENDAR)?ko.propContainers.CALENDAR:a.startsWith(ko.propContainers.POPUP)?ko.propContainers.POPUP:ko.propContainers.INPUT;const n=(o=a.replace(r,"")).charAt(0).toLocaleLowerCase()+o.slice(1);var o;return t[r][n]=e[a],t},t):t}constructor(e){super(e),this.state={popoverOpen:!1},this.handleTextFieldFocus=this.handleTextFieldFocus.bind(this),this.handleDateSelected=this.handleDateSelected.bind(this),this.handleTextFieldBlur=this.handleTextFieldBlur.bind(this),this.hidePopover=this.hidePopover.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.calendarWrapperDOMElementRef=Object(r.createRef)()}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick)}handleTextFieldFocus(){document.removeEventListener("click",this.handleDocumentClick),this.setState({popoverOpen:!0}),this.props.onFocus&&this.props.onFocus()}handleDateSelected(e){this.props.onBlur(e),this.hidePopover(),this.props.onDateSelectedFromCalendar&&this.props.onDateSelectedFromCalendar(),document.removeEventListener("click",this.handleDocumentClick)}handleDocumentClick({target:e}){const t=this.calendarWrapperDOMElementRef.current;if(!t)throw Error("calendar wrapper DOM element not found");e===t||e instanceof Node&&t.contains(e)||(this.hidePopover(),document.removeEventListener("click",this.handleDocumentClick))}handleTextFieldBlur({relatedTarget:e,currentTarget:t}){const a=this.calendarWrapperDOMElementRef.current;if(!a)throw Error("calendar wrapper DOM element not found");e===a||e instanceof Node&&a.contains(e)?document.addEventListener("click",this.handleDocumentClick):(this.props.onBlur(t.value),this.hidePopover())}hidePopover(){this.setState({popoverOpen:!1})}render(){const e=this.props,{width:t,maxWidth:a,calendarWidth:r,calendarHeight:o,inputWidth:i,onBlur:s,onFocus:l,onDateSelectedFromCalendar:c}=e,d=Object(_e.a)(e,["width","maxWidth","calendarWidth","calendarHeight","inputWidth","onBlur","onFocus","onDateSelectedFromCalendar"]),{popoverOpen:p}=this.state,u=i||t,m=r||t,h=ko.splitPassOnProps(d),g=o||350;return n.a.createElement("div",{ref:e=>{this.containerInstance=e},style:{width:t,maxWidth:a}},n.a.createElement(Ro,Object.assign({onFocus:this.handleTextFieldFocus,onBlur:this.handleTextFieldBlur,width:u},h.input)),n.a.createElement("div",{"data-test":"dhis2-capture-date-calendar-wrapper",ref:this.calendarWrapperDOMElementRef},n.a.createElement(wo,Object.assign({open:p,onClose:this.hidePopover,width:m,height:g,inputWidth:u,inputUsesFloatingLabel:!!h.input.label},h.popup),n.a.createElement(_o,Object.assign({onDateSelected:this.handleDateSelected,value:this.props.value,currentWidth:m,height:g},h.calendar)))))}}ko.propContainers={CALENDAR:"calendar",POPUP:"popup",INPUT:"input"};var jo=ko;class Po extends r.Component{render(){const e=this.props,{value:t,orientation:a}=e,r=Object(_e.a)(e,["value","orientation"]);return n.a.createElement(jo,Object.assign({value:t||"",calendarMaxMoment:De()(),width:150,calendarWidth:350},r))}}var Do=ho()(Po),Fo=a(6776),xo=a.n(Fo);var Lo={HORIZONTAL:"horizontal",VERTICAL:"vertical"},Uo=()=>e=>class extends r.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this);const t=this.props.value;this.state={value:t}}UNSAFE_componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({value:e.value})}handleChange(e){this.setState({value:e})}render(){const t=this.props,{onChange:a,value:n}=t,o=Object(_e.a)(t,["onChange","value"]),i=this.state.value;return r.createElement(e,Object.assign({onChange:this.handleChange,value:i},o))}};function Mo(e,t,a,r){const n=e&&t(e);if(!n||!n.isValid)return{date:e,years:"",months:"",days:""};const o=r(),i=r(n.momentDate),s=o.diff(i,"years");i.add(s,"years");const l=o.diff(i,"months");i.add(l,"months");const c=o.diff(i,"days");return{date:a(n.momentDate),years:s.toString(),months:l.toString(),days:c.toString()}}const Vo={error:"innerInputError",info:"innerInputInfo",warning:"innerInputWarning",validating:"innerInputValidating"};class Bo extends r.Component{constructor(...e){super(...e),this.onClear=()=>{this.props.onBlur(null)},this.handleNumberBlur=e=>{const{onParseDate:t,onGetFormattedDateStringFromMoment:a,onRemoveFocus:r,moment:n}=this.props;if(r&&r(),Bo.isEmptyNumbers(e))return void this.props.onBlur(e.date?{date:e.date}:null);if(!Bo.isValidNumbers(e))return void this.props.onBlur(Object(G.a)({},e,{date:""}));const o=n(void 0,void 0,!0);o.subtract(Bo.getNumberOrZero(e.years),"years"),o.subtract(Bo.getNumberOrZero(e.months),"months"),o.subtract(Bo.getNumberOrZero(e.days),"days");const i=Mo(a(o),t,a,n);this.props.onBlur(i)},this.handleDateBlur=e=>{const{onParseDate:t,onGetFormattedDateStringFromMoment:a,onRemoveFocus:r,moment:n}=this.props;r&&r();const o=e?Mo(e,t,a,n):null;this.props.onBlur(o)},this.renderMessage=e=>{const{classes:t,innerMessage:a}=this.props;if(a){const r=a.message&&a.message[e],o=t&&t[Vo[a.messageType]]||"";return r&&n.a.createElement("div",{className:o},r)}return null},this.renderNumberInput=(e,t,a)=>{const r=this.props,{innerMessage:o,onChange:s,inFocus:l,value:c,onBlur:d,dateCalendarOnConvertValueIn:p,dateCalendarOnConvertValueOut:u,dateCalendarWidth:m,datePopupAnchorPosition:h,dateCalendarTheme:g,dateCalendarLocale:y,moment:v,onParseDate:b}=r,E=Object(_e.a)(r,["innerMessage","onChange","inFocus","value","onBlur","dateCalendarOnConvertValueIn","dateCalendarOnConvertValueOut","dateCalendarWidth","datePopupAnchorPosition","dateCalendarTheme","dateCalendarLocale","moment","onParseDate"]);return n.a.createElement("div",{className:xo.a.ageNumberInputContainer},n.a.createElement(vo,Object.assign({label:i.a.t(a),value:e[t],onBlur:a=>this.handleNumberBlur(Object(G.a)({},e,{[t]:a})),onChange:a=>s(Object(G.a)({},e,{[t]:a}))},E)),o&&this.renderMessage(t))},this.renderDateInput=(e,t)=>{const a=this.props,{onChange:r,innerMessage:o,inFocus:i,value:s,onBlur:l,shrinkDisabled:c,dateCalendarOnConvertValueIn:d,dateCalendarOnConvertValueOut:p,dateCalendarWidth:u,datePopupAnchorPosition:m,dateCalendarTheme:h,dateCalendarLocale:g,datePlaceholder:y,moment:v,onParseDate:b}=a,E=Object(_e.a)(a,["onChange","innerMessage","inFocus","value","onBlur","shrinkDisabled","dateCalendarOnConvertValueIn","dateCalendarOnConvertValueOut","dateCalendarWidth","datePopupAnchorPosition","dateCalendarTheme","dateCalendarLocale","datePlaceholder","moment","onParseDate"]),f=En()({[xo.a.ageDateInputContainerHorizontal]:!t});return n.a.createElement("div",{className:f},n.a.createElement(Do,Object.assign({onBlur:this.handleDateBlur,value:e.date,onChange:t=>r(Object(G.a)({},e,{date:t})),calendarWidth:u,popupAnchorPosition:m,calendarTheme:h,calendarLocale:g,calendarOnConvertValueIn:d,calendarOnConvertValueOut:p,placeholder:y},E)),o&&this.renderMessage("date"))}}static isEmptyNumbers(e){return!e.years&&!e.months&&!e.days}static isPositiveOrZeroNumber(e){return Mn(e)||0===Number(e)}static isValidNumbers(e){return Bo.isPositiveOrZeroNumber(e.years||"0")&&Bo.isPositiveOrZeroNumber(e.months||"0")&&Bo.isPositiveOrZeroNumber(e.days||"0")}static getNumberOrZero(e){return e||0}render(){const{value:e,orientation:t,disabled:a}=this.props,r=e||{},o=t===Lo.VERTICAL,i=o?xo.a.containerVertical:xo.a.containerHorizontal,s=o?null:xo.a.ageClearHorizontal;return n.a.createElement("div",{className:i},this.renderDateInput(r,o),this.renderNumberInput(r,"years","Years"),this.renderNumberInput(r,"months","Months"),this.renderNumberInput(r,"days","Days"),n.a.createElement("div",{className:s},n.a.createElement(Cn.a,{style:{width:42,height:42},disabled:!!a},n.a.createElement(ao.a,{onClick:this.onClear}))))}}var Go=Uo()(Bo);class Ho extends n.a.Component{render(){return n.a.createElement("div",null,"Multi")}}var Wo=Ho,Yo=a(6777),zo=a.n(Yo);var qo=e=>{const{className:t}=e,a=Object(_e.a)(e,["className"]);return n.a.createElement("svg",Object.assign({className:En()(zo.a.icon,e.className)},a))};const Ko=e=>n.a.createElement(qo,e,n.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),n.a.createElement("path",{d:"M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm4 8h-3v3h-2v-3H8V8h3V5h2v3h3v2z"})),Xo=e=>n.a.createElement(qo,e,n.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Jo=e=>n.a.createElement(qo,e,n.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Zo=e=>n.a.createElement(qo,e,n.a.createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Qo=e=>n.a.createElement(qo,e,n.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}));var $o=a(6778),ei=a.n($o);const ti={SPACE:" ",ENTER:"Enter"};class ai extends r.Component{constructor(...e){super(...e),this.handleSelect=()=>{if(this.isSpaceClickWhenSelected)return void(this.isSpaceClickWhenSelected=!1);const{onSelect:e,optionData:t,isSelected:a}=this.props;e(a?null:t.value)},this.handleKeyPress=e=>{if([ti.SPACE,ti.ENTER].includes(e.key)){const{onSelect:t,optionData:a,isSelected:r}=this.props;if(r)return this.isSpaceClickWhenSelected=e.key===ti.SPACE,void t(null);this.isSpaceClickWhenSelected=!1,t(a.value)}}}render(){const e=this.props,{optionData:t,isSelected:a,groupId:n,children:o,inFocus:i,inputRef:s,focusClass:l,unFocusClass:c,onSelect:d,disabled:p}=e,u=Object(_e.a)(e,["optionData","isSelected","groupId","children","inFocus","inputRef","focusClass","unFocusClass","onSelect","disabled"]),m=n+(t.id||t.name);return r.createElement("div",null,r.createElement("label",{htmlFor:m,className:En()(ei.a.label,{[ei.a.labelDisabled]:p})},r.createElement("input",Object.assign({ref:s,type:"radio",className:ei.a.input,name:n,id:m,checked:a,value:t.value,onClick:this.handleSelect,onKeyPress:this.handleKeyPress,disabled:p},u)),r.createElement("div",{className:ei.a.iconFocusContainer},r.createElement("div",{className:i?En()(ei.a.inFocus,l):En()(c)}),r.createElement("div",{className:ei.a.iconContainer},o)),r.createElement("span",{className:ei.a.name},t.name)))}}var ri=ai;var ni=()=>e=>class extends r.Component{constructor(e){super(e),this.handleInputMouseDown=()=>{this.isMouseClick=!0},this.handleInputFocus=()=>{this.props.onSetFocus&&this.props.onSetFocus(),this.isMouseClick?this.isMouseClick=!1:this.setState({inFocus:!0})},this.handleInputBlur=()=>{this.props.onRemoveFocus&&this.props.onRemoveFocus(),this.state.inFocus&&this.setState({inFocus:!1}),this.isMouseClick=!1},this.setInputInstance=e=>{this.inputInstance=e},this.state={inFocus:!1,isMouseClick:!1}}componentDidMount(){this.inputInstance.addEventListener("mousedown",this.handleInputMouseDown),this.inputInstance.addEventListener("focus",this.handleInputFocus),this.inputInstance.addEventListener("blur",this.handleInputBlur)}componentWillUnmount(){this.inputInstance.removeEventListener("mousedown",this.handleInputMouseDown),this.inputInstance.removeEventListener("focus",this.handleInputFocus),this.inputInstance.removeEventListener("blur",this.handleInputBlur)}render(){const t=this.props,{onSetFocus:a,onRemoveFocus:n,inFocus:o}=t,i=Object(_e.a)(t,["onSetFocus","onRemoveFocus","inFocus"]);return r.createElement(e,Object.assign({inputRef:this.setInputInstance,inFocus:this.state.inFocus},i))}},oi=a(6779),ii=a.n(oi);const si=ni()(ri);class li extends r.Component{constructor(...e){super(...e),this.getCheckedClass=(e,t,a)=>En()(e,t&&{[t]:a}),this.getUncheckedClass=(e,t,a)=>En()(e,t&&{[t]:a})}static getFocusClass(e,t){return t?e.focusSelected:e.focusUnselected}getCheckedIcon(){const{classes:e,disabled:t}=this.props,{iconDisabled:a,iconSelected:n}=e||{};return r.createElement(Zo,{className:this.getCheckedClass(n,a,t)})}getUncheckedIcon(){const{classes:e,disabled:t}=this.props,{iconDisabled:a,iconDeselected:n}=e||{};return r.createElement(Qo,{className:this.getUncheckedClass(n,a,t)})}getPostProcessedCustomIcon(e,t){const{classes:a,disabled:n}=this.props,{iconSelected:o,iconDeselected:i,iconDisabled:s}=a||{};return r.cloneElement(e,t?{className:this.getCheckedClass(o,s,n)}:{className:this.getUncheckedClass(i,s,n)},null)}getIconElement(e,t){const{children:a}=this.props,r=a?a(e,t):null;return r?this.getPostProcessedCustomIcon(r,t):t?this.getCheckedIcon():this.getUncheckedIcon()}getOption(e,t,a){const{orientation:n,id:o,value:i,onSelect:s,classes:l,onSetFocus:c,onRemoveFocus:d,disabled:p}=this.props,u=n===Lo.HORIZONTAL?ii.a.optionContainerHorizontal:ii.a.optionContainerVertical,m=t||0===a&&!i&&!1!==i&&0!==i?0:-1,h=this.getIconElement(e,t);return r.createElement("div",{className:u,key:e.id||e.name},r.createElement(si,{optionData:e,isSelected:t,tabIndex:m,groupId:o,onSelect:s,focusClass:l&&li.getFocusClass(l,t),unFocusClass:l&&l.unFocus,onSetFocus:c,onRemoveFocus:d,disabled:p},h))}getSelectionOptions(){const{options:e,onGetOptionData:t,value:a}=this.props;return e.map((e,r)=>{const n=t?t(e):e,o=n.value===a;return this.getOption(n,o,r)})}render(){const{orientation:e}=this.props,t=e===Lo.HORIZONTAL?ii.a.containerHorizontal:ii.a.containerVertical;return r.createElement("div",{className:t},this.getSelectionOptions())}}var ci=li;var di=e=>{const{multiSelect:t}=e,a=Object(_e.a)(e,["multiSelect"]);return t?r.createElement(Wo,Object.assign({orientation:Lo.HORIZONTAL},a)):r.createElement(ci,Object.assign({orientation:Lo.HORIZONTAL},a))};class pi extends r.Component{static getOptions(e){return[{name:i.a.t("Yes"),value:!!e||"true"},{name:i.a.t("No"),value:!e&&"false"}]}constructor(e){super(e),this.options=pi.getOptions(!!this.props.useRealBooleanValues)}render(){const e=this.props,{allowMultiple:t,useRealBooleanValues:a}=e,r=Object(_e.a)(e,["allowMultiple","useRealBooleanValues"]);return n.a.createElement("div",null,n.a.createElement(di,Object.assign({options:this.options,multiSelect:t},r)))}}var ui=pi,mi=a(217),hi=a(960),gi=a(963),yi=a(962),vi=a(956);class bi extends r.Component{constructor(...e){super(...e),this.handleBlur=e=>{this.props.onBlur(e.currentTarget.value)},this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.currentTarget.value)}}render(){const e=this.props,{onBlur:t,onChange:a,value:r,classes:o,className:i}=e,s=Object(_e.a)(e,["onBlur","onChange","value","classes","className"]);return n.a.createElement(io,Object.assign({classes:{input:i},onBlur:this.handleBlur,onChange:this.handleChange,value:r||""},s))}}var Ei=ho()(mo()(go()(bi))),fi=a(6787),Oi=a.n(fi),Si=a(351),Ci=a.n(Si);const Ii={basic:{color:"primary",variant:"text"},primary:{color:"primary",variant:"raised"},secondary:{color:"secondary",variant:"raised"},destructive:{color:void 0,variant:"raised"}};class wi extends r.Component{render(){const{kind:e,size:t,disabled:a,onClick:n,children:o,className:i}=this.props;return r.createElement(Ci.a,{className:i,size:t,onClick:n,disabled:a,color:Ii[e].color,variant:Ii[e].variant},o)}}wi.defaultProps={size:"medium",kind:"basic",disabled:!1};var Ti=wi;const Ni=Object(mi.d)(vi.ReactLeafletSearch),_i="latitude",Ai="longitude";class Ri extends r.Component{constructor(e){super(e),this.toSixDecimal=e=>parseFloat(e)?parseFloat(e).toFixed(6):null,this.handleBlur=(e,t)=>{const a=Object(G.a)({},this.props.value,{[e]:this.toSixDecimal(t)});a.latitude||a.longitude?this.props.onBlur(a):this.props.onBlur(null)},this.handleChange=(e,t)=>{this.props.onChange&&this.props.onChange(Object(G.a)({},this.props.value,{[e]:t}))},this.handleClear=()=>{this.props.onBlur(null)},this.getPosition=()=>{const{value:e}=this.props;let t=null;return e&&e.latitude&&e.longitude&&!isNaN(parseFloat(e.latitude))&&!isNaN(parseFloat(e.longitude))&&(t=[parseFloat(e.latitude),parseFloat(e.longitude)]),t},this.closeMap=()=>{this.setState({showMap:!1})},this.openMap=()=>{this.setState({showMap:!0,position:this.getPosition()})},this.onMapPositionChange=e=>{const{lat:t,lng:a}=e.latlng;this.setMapPosition([this.toSixDecimal(t),this.toSixDecimal(a)],e.target.getZoom())},this.setMapPosition=(e,t)=>{this.setState({position:e,zoom:t})},this.onSetCoordinate=()=>{const e=this.state.position,t=e&&2===e.length?{latitude:e[0],longitude:e[1]}:null;this.props.onBlur(t),this.setState({showMap:!1})},this.renderMapIcon=()=>{const{classes:e,shrinkDisabled:t,disabled:a}=this.props,{mapIconContainer:n,mapIcon:o,mapIconContainerDisabled:i}=e||{},s=En()({[Oi.a.mapIconContainer]:t},{[Oi.a.mapIconContainerWithMargin]:!t},n,{[i]:a});return r.createElement("div",{className:s},r.createElement(Cn.a,{disabled:!!a,style:{height:42,width:42,borderRadius:0,padding:0},classes:{root:En()(Oi.a.mapIcon,o)}},r.createElement(Ko,{onClick:this.openMap})))},this.renderMapDialog=()=>r.cloneElement(this.props.mapDialog,{open:this.state.showMap,onClose:this.closeMap},[...r.Children.toArray(this.props.mapDialog.props.children),r.createElement("div",{className:Oi.a.dialogContent,key:"dialogContent"},this.renderMap(),this.renderDialogActions())]),this.setMapInstance=e=>{this.mapInstance=e},this.search=e=>{const t=this.mapInstance&&this.mapInstance.leafletElement?this.mapInstance.leafletElement.getZoom():13;this.setMapPosition([...e],t)},this.renderMap=()=>{const{position:e,zoom:t}=this.state,a=e||this.props.mapCenter;return r.createElement("div",{className:Oi.a.mapContainer},r.createElement(hi.a,{center:a,zoom:t,onClick:this.onMapPositionChange,className:Oi.a.leafletContainer,key:"map",ref:e=>{this.setMapInstance(e)}},r.createElement(Ni,{position:"topleft",inputPlaceholder:"Search",closeResultsOnClick:!0,search:null,mapStateModifier:this.search,showMarker:!1}),r.createElement(gi.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),e&&r.createElement(yi.a,{position:e})))},this.renderDialogActions=()=>r.createElement("div",{className:Oi.a.dialogActionOuterContainer},r.createElement("div",{className:Oi.a.dialogActionInnerContainer},r.createElement(Ti,{kind:"basic",onClick:this.closeMap},i.a.t("Cancel"))),r.createElement("div",{className:Oi.a.dialogActionInnerContainer},r.createElement(Ti,{kind:"primary",onClick:this.onSetCoordinate},i.a.t("Set coordinate")))),this.renderLatitude=()=>{const e=this.props,{mapCenter:t,onBlur:a,onChange:n,value:o,orientation:i,shrinkDisabled:s,classes:l,mapDialog:c,disabled:d}=e,p=Object(_e.a)(e,["mapCenter","onBlur","onChange","value","orientation","shrinkDisabled","classes","mapDialog","disabled"]),u=l||{},{mapIconContainer:m,mapIcon:h}=u,g=Object(_e.a)(u,["mapIconContainer","mapIcon"]);return r.createElement(Ei,Object.assign({shrinkDisabled:s,label:"Latitude",value:o&&o.latitude,classes:g,className:Oi.a.latitudeTextInput,onBlur:e=>this.handleBlur(_i,e),onChange:e=>this.handleChange(_i,e),disabled:d},p))},this.renderLongitude=()=>{const e=this.props,{mapCenter:t,onBlur:a,onChange:n,value:o,orientation:i,shrinkDisabled:s,classes:l,mapDialog:c,disabled:d}=e,p=Object(_e.a)(e,["mapCenter","onBlur","onChange","value","orientation","shrinkDisabled","classes","mapDialog","disabled"]),u=l||{},{mapIconContainer:m,mapIcon:h}=u,g=Object(_e.a)(u,["mapIconContainer","mapIcon"]);return r.createElement(Ei,Object.assign({shrinkDisabled:s,label:"Longitude",value:o&&o.longitude,className:Oi.a.longitudeTextInput,classes:g,onBlur:e=>this.handleBlur(Ai,e),onChange:e=>this.handleChange(Ai,e),disabled:d},p))},this.renderClearButton=()=>{const{shrinkDisabled:e,disabled:t}=this.props,a=e?Oi.a.clearIcon:Oi.a.clearIconWithMargin;return r.createElement("div",{className:a},r.createElement(Cn.a,{style:{height:42,width:42,borderRadius:0,padding:0},disabled:!!t},r.createElement(ao.a,{onClick:this.handleClear})))},this.renderVertical=()=>r.createElement("div",null,r.createElement("div",{className:Oi.a.coordinateFieldsVertical},this.renderMapDialog(),r.createElement("div",{className:Oi.a.buttonsContainerVertical},this.renderMapIcon(),this.renderClearButton()),r.createElement("div",{className:Oi.a.inputContainer},this.renderLatitude()),r.createElement("div",{className:Oi.a.inputContainer},this.renderLongitude()))),this.renderHorizontal=()=>r.createElement("div",null,r.createElement("div",{className:Oi.a.coordinateFieldsHorizontal},this.renderMapDialog(),this.renderMapIcon(),r.createElement("div",{className:Oi.a.inputContainer},this.renderLatitude()),r.createElement("div",{className:Oi.a.inputContainer},this.renderLongitude()),this.renderClearButton())),this.state={showMap:!1,zoom:13}}render(){return this.props.orientation===Lo.VERTICAL?this.renderVertical():this.renderHorizontal()}}Ri.defaultProps={mapCenter:[51.505,-.09]};var ki=a(6789),ji=a.n(ki);var Pi=ho()(mo()((function(e){const{value:t}=e,a=Object(_e.a)(e,["value"]);return n.a.createElement(jo,Object.assign({value:t||""},a))})));class Di extends n.a.Component{constructor(...e){super(...e),this.handleBlur=e=>{this.props.onBlur(e.currentTarget.value)},this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.currentTarget.value)}}render(){const e=this.props,{onBlur:t,onChange:a,value:r}=e,o=Object(_e.a)(e,["onBlur","onChange","value"]);return n.a.createElement(io,Object.assign({value:r||"",onBlur:this.handleBlur,onChange:this.handleChange},o))}}var Fi=ho()(mo()(go()(Di)));class xi extends r.Component{constructor(e){super(e),this.getValue=()=>this.props.value||{},this.handleTimeChange=this.handleTimeChange.bind(this),this.handleDateChange=this.handleDateChange.bind(this),this.handleTimeBlur=this.handleTimeBlur.bind(this),this.handleDateBlur=this.handleDateBlur.bind(this),this.touchedFields=new Set}handleTimeChange(e){this.props.onChange({time:e,date:this.getValue().date})}handleDateChange(e){this.props.onChange({time:this.getValue().time,date:e})}handleTimeBlur(e){this.touchedFields.add("timeTouched");const t=this.getValue();this.handleBlur({time:e,date:t.date},!!t.date)}handleDateBlur(e){this.touchedFields.add("dateTouched");const t=this.getValue();this.handleBlur({time:t.time,date:e},!!t.time)}handleBlur(e,t){const a=this.props.onBlur,r=2===this.touchedFields.size;e.date||e.time?a(e,{touched:r||t}):a(void 0,{touched:r})}render(){const e=this.props,{value:t,dateMaxWidth:a,dateWidth:r,calendarWidth:o,popupAnchorPosition:i,calendarTheme:s,calendarLocale:l,calendarOnConvertValueIn:c,calendarOnConvertValueOut:d,classes:p,orientation:u,onBlur:m,dateLabel:h,timeLabel:g,onChange:y}=e,v=Object(_e.a)(e,["value","dateMaxWidth","dateWidth","calendarWidth","popupAnchorPosition","calendarTheme","calendarLocale","calendarOnConvertValueIn","calendarOnConvertValueOut","classes","orientation","onBlur","dateLabel","timeLabel","onChange"]),b=u===Lo.VERTICAL,E=this.getValue(),f=E.date,O=E.time,S={width:r,maxWidth:a};return n.a.createElement("div",{className:ji.a.root},n.a.createElement("div",{className:En()(ji.a.fieldsContainer,{[ji.a.fieldsContainerVertical]:b})},n.a.createElement("div",{style:S},n.a.createElement(Pi,Object.assign({value:f,maxWidth:a,width:r,calendarWidth:o,onChange:this.handleDateChange,onBlur:this.handleDateBlur,label:h,calendarTheme:s,popupAnchorPosition:i,calendarLocale:l,calendarOnConvertValueIn:c,calendarOnConvertValueOut:d,classes:p},v))),n.a.createElement(Fi,Object.assign({value:O,onChange:this.handleTimeChange,onBlur:this.handleTimeBlur,label:g,classes:p},v))))}}xi.defaultProps={dateLabel:i.a.t("Date"),timeLabel:i.a.t("Time")};var Li=xi,Ui=a(688),Mi=a.n(Ui),Vi=a(475),Bi=a.n(Vi),Gi=a(216),Hi=a.n(Gi),Wi=a(959),Yi=a(7407),zi=a(6793),qi=a.n(zi),Ki=(a(6794),a(8)),Xi=a.n(Ki),Ji=a(350);class Zi extends Ji.a{constructor(...e){super(...e),this.onClick=()=>{this.props.disabled||this.props.onClick()}}UNSAFE_componentWillMount(){const e=Hi.a.control({position:"topright"}),t=i.a.t("Delete polygon"),a=n.a.createElement("div",{className:"leaflet-draw-toolbar leaflet-bar"},n.a.createElement("a",{className:En()("leaflet-draw-edit-remove",{"leaflet-disabled":this.props.disabled}),onClick:this.onClick,title:t,role:"button",tabIndex:"0"}));e.onAdd=()=>{const e=Hi.a.DomUtil.create("div","");return Xi.a.render(a,e),e},this.leafletElement=e}createLeafletElement(){return this.leafletElement}updateLeafletElement(e,t){if(t.position!==e.position&&this.leafletElement.setPosition(t.position),t.disabled!==e.disabled){const e=this.leafletElement.getContainer().getElementsByClassName("leaflet-draw-edit-remove");e&&e.length>0&&(e[0].className=En()("leaflet-draw-edit-remove",{"leaflet-disabled":t.disabled}))}}}var Qi=Object(mi.d)(Zi);const $i=Object(mi.d)(vi.ReactLeafletSearch);class es extends r.Component{constructor(e){super(e),this.onFeatureGroupReady=(e,t)=>{if(t){const a=new Hi.a.GeoJSON(t);if(e){const r=e.leafletElement;r.clearLayers(),a.eachLayer(e=>{r.addLayer(e)});const{map:n}=e.contextValue,o=t.features[0].geometry.coordinates[0].map(e=>[e[1],e[0]]);n.fitBounds(o)}}else if(e){e.leafletElement.clearLayers()}},this.getCenter=e=>{if(!e)return this.props.mapCenter;const t=e.features[0].geometry.coordinates[0],{lat:a,lng:r}=Hi.a.latLngBounds(t.map(e=>[e[0],e[1]])).getCenter();return[r,a]},this.getFeatureCollection=e=>Array.isArray(e)?function(e){return e?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[e[0].map(e=>[...e,0])]}}]}:null}(e):null,this.closeMap=()=>{this.setState({showMap:!1})},this.openMap=()=>{this.setState({showMap:!0,mapCoordinates:this.props.value})},this.onMapPolygonCreated=e=>{const t=e.layer.toGeoJSON().geometry.coordinates;this.setState({mapCoordinates:t,zoom:e.target.getZoom()})},this.onMapPolygonEdited=e=>{const t=e.layers.getLayers()[0].toGeoJSON().geometry.coordinates;this.setState({mapCoordinates:t,zoom:e.target.getZoom()})},this.onMapPolygonDelete=()=>{this.setState({mapCoordinates:null})},this.onSetPolygon=()=>{this.props.onBlur(this.state.mapCoordinates),this.closeMap()},this.renderMapDialog=()=>r.cloneElement(this.props.mapDialog,{open:this.state.showMap,onClose:this.closeMap},[...r.Children.toArray(this.props.mapDialog.props.children),r.createElement("div",{className:qi.a.dialogContent,key:"dialogContent"},this.renderMap(),this.renderDialogActions())]),this.renderMap=()=>{const{zoom:e}=this.state,t=this.getFeatureCollection(this.state.mapCoordinates),a=!!t,n=this.getCenter(t);return r.createElement("div",{className:qi.a.mapContainer},r.createElement(hi.a,{zoom:e,center:n,className:qi.a.map,key:"map"},r.createElement($i,{position:"topleft",inputPlaceholder:"Search",closeResultsOnClick:!0}),r.createElement(gi.a,{url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.createElement(Wi.a,{ref:e=>{this.onFeatureGroupReady(e,t)}},r.createElement(Yi.a,{position:"topright",onEdited:this.onMapPolygonEdited,onCreated:this.onMapPolygonCreated,onDeleted:this.onMapPolygonDelete,draw:{rectangle:!1,polyline:!1,circle:!1,marker:!1,circlemarker:!1},edit:{remove:!1}}),r.createElement(Qi,{onClick:this.onMapPolygonDelete,disabled:!a}))))},this.renderDialogActions=()=>r.createElement("div",{className:qi.a.dialogActionOuterContainer},r.createElement("div",{className:qi.a.dialogActionInnerContainer},r.createElement(Ti,{kind:"basic",onClick:this.closeMap},i.a.t("Cancel"))),r.createElement("div",{className:qi.a.dialogActionInnerContainer},r.createElement(Ti,{kind:"primary",onClick:this.onSetPolygon},i.a.t("Set area")))),this.state={showMap:!1,zoom:13}}render(){const e=!!this.props.value;return r.createElement("div",{className:qi.a.container},r.createElement("div",{className:qi.a.statusContainer},r.createElement(Mi.a,{className:qi.a.mapIcon,onClick:this.openMap}),r.createElement("div",{className:qi.a.statusText},e?"Polygon captured":"No polygon captured"),e&&r.createElement(Bi.a,{className:qi.a.checkIcon,color:"primary"})),this.renderMapDialog())}}es.defaultProps={mapCenter:[51.505,-.09]};var ts=a(6795),as=a.n(ts);class rs extends r.Component{render(){const e=this.props,{classes:t}=e,a=Object(_e.a)(e,["classes"]),n=t||{};return r.createElement("div",{className:as.a.container},r.createElement(io,Object.assign({classes:n},a)))}}var ns=go()(rs);class os extends r.Component{static getOptions(e){return[{name:i.a.t("Yes"),value:!!e||"true"}]}constructor(e){super(e),this.options=os.getOptions(!!this.props.useRealTrueValue)}render(){const e=this.props,{useRealTrueValue:t}=e,a=Object(_e.a)(e,["useRealTrueValue"]);return n.a.createElement("div",null,n.a.createElement(di,Object.assign({options:this.options},a),(e,t)=>t?n.a.createElement(Xo,null):n.a.createElement(Jo,null)))}}var is=os,ss=a(965);class ls extends r.Component{constructor(e){super(e),this.handleDebounced=e=>{this.props.onDebounced(e)},this.handleChange=e=>{this.setState({value:e.currentTarget.value}),this.debouncer(Object(G.a)({},e))},this.state={value:this.props.value||""},this.debouncer=Object(ss.debounce)(this.handleDebounced,500)}UNSAFE_componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({value:e.value||""})}componentWillUnmount(){this.debouncer.cancel()}render(){const e=this.props,{onDebounced:t,value:a}=e,n=Object(_e.a)(e,["onDebounced","value"]),{value:o}=this.state;return r.createElement(io,Object.assign({onChange:this.handleChange,value:o},n))}}var cs=ls,ds=a(6796),ps=a.n(ds);const us={error:"innerInputError",info:"innerInputInfo",warning:"innerInputWarning",validating:"innerInputValidating"};function ms(e){const{innerMessage:t,messageKey:a,classes:r}=e;if(t){const e=t.message&&t.message[a],o=r&&r[us[t.messageType]]||"";return e?n.a.createElement("div",{className:o},e):null}return null}const hs=ho()(mo()(go()(io))),gs="from",ys="to";class vs extends r.Component{constructor(e){super(e),this.getValue=()=>this.props.value||{},this.getNewValue=(e,t)=>{const a=Object(G.a)({},this.getValue(),{[e]:t});return a.from||a.to?a:null},this.handleFromChange=e=>{this.props.onChange({from:e.currentTarget.value,to:this.getValue().to})},this.handleToChange=e=>{this.props.onChange({from:this.getValue().from,to:e.currentTarget.value})},this.handleFromBlur=e=>{this.touchedFields.add("fromTouched");const t=this.getValue();this.handleBlur({from:e.currentTarget.value,to:t.to},!!t.to)},this.handleToBlur=e=>{this.touchedFields.add("toTouched");const t=this.getValue();this.handleBlur({from:t.from,to:e.currentTarget.value},!!t.from)},this.handleBlur=(e,t)=>{const a=2===this.touchedFields.size;e.from||e.to?this.props.onBlur(e,{touched:a||t}):this.props.onBlur(void 0,{touched:a})},this.getInnerMessage=e=>{const{classes:t,innerMessage:a}=this.props;return r.createElement(ms,{classes:t,messageKey:e,innerMessage:a})},this.touchedFields=new Set}render(){const e=this.props,{value:t,onChange:a,onBlur:n}=e,o=Object(_e.a)(e,["value","onChange","onBlur"]),s=t&&t.from?t.from:"",l=t&&t.to?t.to:"";return r.createElement("div",{className:ps.a.container},r.createElement("div",{className:ps.a.inputContainer},r.createElement(hs,Object.assign({label:i.a.t("From"),onChange:this.handleFromChange,onBlur:this.handleFromBlur,value:s},o)),this.getInnerMessage(gs)),r.createElement("div",{className:ps.a.inputContainer},r.createElement(hs,Object.assign({label:i.a.t("To"),onChange:this.handleToChange,onBlur:this.handleToBlur,value:l},o)),this.getInnerMessage(ys)))}}var bs=vs,Es=a(6797),fs=a.n(Es);const Os=ho()(mo()(jo)),Ss="from",Cs="to";class Is extends r.Component{constructor(e){super(e),this.getValue=()=>this.props.value||{},this.handleFromChange=e=>{this.props.onChange({from:e,to:this.getValue().to})},this.handleToChange=e=>{this.props.onChange({from:this.getValue().from,to:e})},this.handleFromBlur=e=>{this.touchedFields.add("fromTouched");const t=this.getValue();this.handleBlur({from:e,to:t.to},!!t.to)},this.handleToBlur=e=>{this.touchedFields.add("toTouched");const t=this.getValue();this.handleBlur({from:t.from,to:e},!!t.from)},this.handleBlur=(e,t)=>{const a=2===this.touchedFields.size;e.from||e.to?this.props.onBlur(e,{touched:a||t}):this.props.onBlur(void 0,{touched:a})},this.getInnerMessage=e=>{const{classes:t,innerMessage:a}=this.props;return r.createElement(ms,{classes:t,innerMessage:a,messageKey:e})},this.touchedFields=new Set}render(){const e=this.props,{onBlur:t,onChange:a,value:n,innerMessage:o}=e,s=Object(_e.a)(e,["onBlur","onChange","value","innerMessage"]),l=n&&n.from?n.from:"",c=n&&n.to?n.to:"";return r.createElement("div",{className:fs.a.container},r.createElement(Os,Object.assign({label:i.a.t("From"),value:l,onBlur:this.handleFromBlur,onChange:this.handleFromChange},s)),this.getInnerMessage(Ss),r.createElement(Os,Object.assign({label:i.a.t("To"),value:c,onBlur:this.handleToBlur,onChange:this.handleToChange},s)),this.getInnerMessage(Cs))}}var ws=Is,Ts=a(6798),Ns=a.n(Ts);const _s=ho()(Li),As="from",Rs="to";class ks extends r.Component{constructor(e){super(e),this.getValue=()=>this.props.value||{},this.getNewValue=(e,t)=>{const a=this.getValue(),r=Object(G.a)({},a,{[e]:t});return r.from||r.to?r:null},this.handleFromChange=e=>{this.props.onChange({from:e,to:this.getValue().to})},this.handleToChange=e=>{this.props.onChange({from:this.getValue().from,to:e})},this.toHasValue=()=>{const e=this.getValue();return!!(e.to&&e.to.date&&e.to.time)},this.fromHasValue=()=>{const e=this.getValue();return!!(e.to&&e.to.date&&e.to.time)},this.handleFromBlur=(e,t)=>{t&&t.touched&&this.touchedFields.add("fromTouched"),this.handleBlur({from:e,to:this.getValue().to},this.toHasValue())},this.handleToBlur=(e,t)=>{t&&t.touched&&this.touchedFields.add("toTouched"),this.handleBlur({from:this.getValue().from,to:e},this.fromHasValue())},this.handleBlur=(e,t)=>{const a=2===this.touchedFields.size;e.from||e.to?this.props.onBlur(e,{touched:a||t}):this.props.onBlur(void 0,{touched:a})},this.getInnerMessage=e=>{const{classes:t,innerMessage:a}=this.props;return r.createElement(ms,{classes:t,innerMessage:a,messageKey:e})},this.touchedFields=new Set}render(){const e=this.props,{onBlur:t,onChange:a,value:n}=e,o=Object(_e.a)(e,["onBlur","onChange","value"]),s=n&&n.from?n.from:"",l=n&&n.to?n.to:"";return r.createElement("div",{className:Ns.a.container},r.createElement("div",{className:Ns.a.inputContainer},r.createElement(_s,Object.assign({dateLabel:i.a.t("From date"),timeLabel:i.a.t("From time"),value:s,onBlur:this.handleFromBlur,onChange:this.handleFromChange},o)),this.getInnerMessage(As)),r.createElement("div",{className:Ns.a.inputContainer},r.createElement(_s,Object.assign({dateLabel:i.a.t("To date"),timeLabel:i.a.t("To time"),value:l,onBlur:this.handleToBlur,onChange:this.handleToChange},o)),this.getInnerMessage(Rs)))}}var js=ks,Ps=a(6799),Ds=a.n(Ps);class Fs extends r.PureComponent{render(){const e=this.props,{classes:t,children:a,labelRef:n,useVerticalOrientation:o}=e,i=Object(_e.a)(e,["classes","children","labelRef","useVerticalOrientation"]),s=o?Ds.a.labelContainerVertical:Ds.a.labelContainer;return r.createElement("div",Object.assign({ref:n,className:En()(s,t.label)},i),a)}}var xs=Fs,Ls=a(6800),Us=a.n(Ls),Ms=e=>t=>class extends r.Component{constructor(e){super(e),this.setClasses(e.classes)}UNSAFE_componentWillReceiveProps(e){const t=e.classes||{},a=this.props.classes||{};(Object.keys(t).length!==Object.keys(a).length||Object.keys(t).some(e=>t[e]!==a[e]))&&this.setClasses(t)}setClasses(t){if(!t)return;if(!e||!e.onSplitClasses)return void(this.passOnClasses=t);const a=e.onSplitClasses(t,this.props);this.labelContainerClass=a.labelContainerClass,this.labelClasses=a.labelClasses,this.passOnClasses=a.passOnClasses}getLabelElement(e,t,a){return r.createElement(xs,{labelRef:t,classes:this.labelClasses||{},useVerticalOrientation:a},e)}render(){const a=this.props,{label:n,labelRef:o,classes:i,styles:s}=a,l=Object(_e.a)(a,["label","labelRef","classes","styles"]),c=e&&e.onGetUseVerticalOrientation&&e.onGetUseVerticalOrientation(this.props),d=this.getLabelElement(n,o,c),p=c?Us.a.labelContainerVertical:Us.a.labelContainer,u=s||{};return r.createElement("div",{className:c?Us.a.containerVertical:Us.a.container},r.createElement("div",{className:En()(p,this.labelContainerClass),style:u.labelContainerStyle},d),r.createElement("div",{className:Us.a.inputContainer,style:u.inputContainerStyle},r.createElement(t,Object.assign({},this.passOnClasses,l))))}};class Vs extends r.Component{render(){return r.createElement("tbody",null,this.props.children)}}var Bs=Vs,Gs=a(3),Hs=a.n(Gs),Ws=a(352),Ys=a.n(Ws);const zs=(e,t)=>{const{children:a,className:n}=e,o=Object(_e.a)(e,["children","className"]),{table:i}=t,s=En()(Ys.a.tableCell,{[Ys.a.tableCellBody]:!i,[Ys.a.tableCellHeader]:i&&i.head,[Ys.a.tableCellFooter]:i&&i.footer},n);return r.createElement("td",Object.assign({className:s},o),e.children)};zs.contextTypes={table:Hs.a.object};var qs=zs;class Ks extends r.Component{getChildContext(){return{table:{footer:!0}}}render(){return r.createElement("tfoot",null,this.props.children)}}Ks.childContextTypes={table:Hs.a.object};class Xs extends r.Component{getChildContext(){return{table:{head:!0}}}render(){return r.createElement("thead",null,this.props.children)}}Xs.childContextTypes={table:Hs.a.object};var Js=Xs;var Zs=e=>{const{children:t,className:a,innerRef:n}=e,o=Object(_e.a)(e,["children","className","innerRef"]),i=En()(Ys.a.tableCell,Ys.a.tableCellHeader,a);return r.createElement("td",Object.assign({ref:n,className:i},o),e.children)};class Qs extends r.Component{static getRowsCountElement(e,t){return t?e?r.createElement("div",{className:Ys.a.paginationRowsPerPageElementContainer},e,":",r.createElement("span",{className:Ys.a.paginationRowsPerPageElement},t)):t:null}render(){const{currentPage:e,rowsCountSelector:t,rowsCountSelectorLabel:a,navigationElements:n}=this.props,o=Qs.getRowsCountElement(a,t);return r.createElement("div",{"data-test":"dhis2-capture-pagination",className:Ys.a.pagination},o,e&&r.createElement("div",{className:Ys.a.paginationDisplayRowsContainer},i.a.t("Page {{currentPage}}",{currentPage:e})),n)}}var $s=Qs;const el=(e,t)=>{const{children:a,className:n}=e,o=Object(_e.a)(e,["children","className"]),{table:i}=t,s=En()(Ys.a.tableRow,{[Ys.a.tableRowBody]:!i,[Ys.a.tableRowHeader]:i&&i.head,[Ys.a.tableRowFooter]:i&&i.footer},n);return r.createElement("tr",Object.assign({className:s,"data-test":"dhis2-capture-table-row"},o),e.children)};el.contextTypes={table:Hs.a.object};var tl=el;const al="asc",rl="desc",nl="Left",ol="Right";class il extends r.Component{constructor(...e){super(...e),this.handleSort=()=>{const{isActive:e,direction:t,disabled:a}=this.props;a||(e?this.props.onSort(t===al?rl:al):this.props.onSort(this.props.initialDirection||rl))}}renderChildrenContainer(e){const t=this.props.disabled?Ys.a.sortLabelChildren:En()(Ys.a.sortLabelChildren,Ys.a.sortLabelChildrenEnabled);return r.createElement("div",{className:En()(t,this.props.childrenClass,e),onClick:this.handleSort,role:"button",tabIndex:0},this.props.children)}render(){const{isActive:e,direction:t,onSort:a,onGetIcons:n,placement:o}=this.props,i=n&&n(e,t,a),s=En()(Ys.a.sortLabelContainer,{[Ys.a.sortLabelRight]:o===ol});return r.createElement("div",{className:s},(()=>o===ol?r.createElement(r.Fragment,null,r.createElement("div",{className:Ys.a.sortLabelIcon},i),this.renderChildrenContainer([Ys.a.sortLabelChildrenLast])):r.createElement(r.Fragment,null,this.renderChildrenContainer([Ys.a.sortLabelChildrenFirst]),r.createElement("div",{className:Ys.a.sortLabelIcon},i)))())}}var sl=il;var ll=e=>{const{children:t,className:a}=e,n=Object(_e.a)(e,["children","className"]),o=En()(Ys.a.table,a);return r.createElement("table",Object.assign({className:o},n),e.children)},cl=a(6801),dl=a.n(cl);var pl=e=>{const{className:t}=e,a=Object(_e.a)(e,["className"]),r=En()(dl.a.horizontal,e.className);return n.a.createElement("div",Object.assign({className:r},a))};const ul=e=>({dividerContainer:{},divider:{backgroundColor:e.palette.dividerForm}});const ml=e=>({evenNumbers:{backgroundColor:e.palette.grey.lightest}});var hl=a(6802);class gl extends r.Component{constructor(...e){super(...e),this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.currentTarget.value,e)},this.handleBlur=e=>{this.props.onBlur&&this.props.onBlur(e.currentTarget.value,e)}}render(){const e=this.props,{value:t,onBlur:a,onChange:r,classes:o}=e,i=Object(_e.a)(e,["value","onBlur","onChange","classes"]);return n.a.createElement(ns,Object.assign({value:t||"",onChange:this.handleChange,onBlur:this.handleBlur,classes:o},i))}}var yl=Object(ge.withStyles)(e=>({inputWrapperFocused:{border:"2px solid ".concat(e.palette.primary.light),borderRadius:"5px"},inputWrapperUnfocused:{padding:2}}))(gl),vl=a(232),bl=a(215);class El extends r.Component{render(){const e=this.props,{onBlur:t}=e,a=Object(_e.a)(e,["onBlur"]);return r.createElement(ui,Object.assign({onSelect:t},a))}}var fl=Object(ge.withStyles)(e=>({iconSelected:{fill:e.palette.secondary.main},iconDeselected:{fill:bl.r.grey700},iconDisabled:{fill:"rgba(0,0,0,0.30)"},focusSelected:{backgroundColor:Object(vl.fade)(e.palette.secondary.main,.4)}}))(El);var Ol=()=>e=>class t extends r.Component{static convertValueIntoCalendar(e){if(!e)return new Date;const t=Object(ua.c)(e);return t.isValid?t.momentDate.toDate():new Date}static convertValueOutFromCalendar(e){return Object(ua.a)(e)}constructor(e){var t;super(e),this.calendarTheme={accentColor:(t=this.props.theme).palette.secondary.main,floatingNav:{background:Object(vl.fade)(Object(vl.darken)(t.palette.primary.dark,.6),.8),chevron:Object(vl.lighten)(t.palette.secondary.light,.4),color:"white"},headerColor:t.palette.primary.main,todayColor:t.palette.secondary.main,selectionColor:t.palette.primary.main,weekdayColor:t.palette.primary.main};const a=Fe.get(),r=this.props.calendarWidth||this.props.width;this.calendarLocaleData={locale:a.dateFnsLocale,headerFormat:r>=400?a.calendarFormatHeaderLong:a.calendarFormatHeaderShort,weekdays:a.weekDaysShort.map(e=>pa(e)),blank:a.selectDatesText,todayLabel:{long:a.todayLabelLong,short:a.todayLabelShort},weekStartsOn:a.weekStartsOn}}render(){const a=this.props,{theme:n}=a,o=Object(_e.a)(a,["theme"]);return r.createElement(e,Object.assign({calendarTheme:this.calendarTheme,calendarLocale:this.calendarLocaleData,calendarOnConvertValueIn:t.convertValueIntoCalendar,calendarOnConvertValueOut:t.convertValueOutFromCalendar},o))}};var Sl=Object(ge.withTheme)()(Ol()(Object(ge.withStyles)(e=>({inputWrapperFocused:{border:"2px solid ".concat(e.palette.primary.light),borderRadius:"5px"},inputWrapperUnfocused:{padding:2},innerInputError:{color:e.palette.error.main,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputWarning:{color:e.palette.warning.dark,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputInfo:{color:"green",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputValidating:{color:"orange",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)}}))(e=>{const{calendarTheme:t,calendarLocale:a,calendarOnConvertValueIn:n,calendarOnConvertValueOut:o}=e,i=Object(_e.a)(e,["calendarTheme","calendarLocale","calendarOnConvertValueIn","calendarOnConvertValueOut"]);return r.createElement(Go,Object.assign({onParseDate:ua.c,onGetFormattedDateStringFromMoment:ua.b,moment:Jt.a,dateCalendarTheme:t,dateCalendarLocale:a,dateCalendarOnConvertValueIn:n,dateCalendarOnConvertValueOut:o,datePlaceholder:or.b.get().dateFormat.toLowerCase()},i))})));class Cl extends n.a.Component{render(){const e=this.props,{onBlur:t}=e,a=Object(_e.a)(e,["onBlur"]);return n.a.createElement(is,Object.assign({onSelect:t},a))}}var Il=Object(ge.withStyles)(e=>({iconSelected:{fill:e.palette.secondary.main},iconDeselected:{fill:bl.r.grey700},iconDisabled:{fill:"rgba(0,0,0,0.30)"},focusSelected:{backgroundColor:Object(vl.fade)(e.palette.secondary.main,.4)}}))(Cl),wl=a(966),Tl=a.n(wl),Nl=(a(6826),a(6827),a(6828),a(6829),a(327)),_l=a.n(Nl);class Al extends r.Component{render(){const{option:e,style:t,onSelect:a,currentlySelectedValues:r,classes:o,inFocus:i,onFocusOption:s}=this.props,{label:l,iconLeft:c,iconRight:d}=e,p=!!r&&r.includes(e),u=Object.assign({},Al.defaultContainerStyle,t,r&&r.includes(e)?Al.selectedStyle:null,i?Al.inFocusStyle:null);return n.a.createElement(_l.a,{title:e.label,placement:"bottom",classes:{popper:o.popper},enterDelay:800},n.a.createElement("div",{className:"virtualized-select-option",style:u,onClick:()=>{a(e)},role:"option","aria-selected":p,tabIndex:-1,onMouseOver:()=>s(e)},c?n.a.createElement("div",{className:o.iconLeftContainer},c):null,n.a.createElement("div",null,l),d?n.a.createElement("div",{className:o.iconRightContainer},d):null))}}Al.defaultContainerStyle={display:"flex",alignItems:"center",cursor:"pointer",paddingLeft:5,overflow:"hidden",paddingTop:4,paddingBottom:2,whiteSpace:"nowrap",textOverflow:"ellipsis"},Al.selectedStyle={fontWeight:"bold"},Al.inFocusStyle={backgroundColor:"rgba(0,0,0,0.1)"};var Rl=Object(ge.withStyles)(()=>({popper:{zIndex:9999},iconLeftContainer:{paddingRight:5},iconRightContainer:{paddingLeft:5}}))(Al);class kl extends r.Component{static getFilteredOptions(e,t){const a=t.toLowerCase();return e&&e.filter(e=>e.label.toLowerCase().indexOf(a)>-1)||[]}constructor(e){super(e),this.filterOptions=()=>this.state.filterValue?(this.prevFilterValue===this.state.filterValue||(this.state.filterValue&&this.prevFilterValue&&this.state.filterValue.indexOf(this.prevFilterValue)>-1&&(this.prevFilteredOptions=kl.getFilteredOptions(this.prevFilteredOptions,this.state.filterValue)),this.prevFilteredOptions=kl.getFilteredOptions(this.props.options,this.state.filterValue),this.prevFilterValue=this.state.filterValue),this.prevFilteredOptions):this.props.options,this.handleInputChange=e=>{this.isUnmounted||this.setState({filterValue:e})},this.renderValue=e=>{const{classes:t}=this.props,{iconLeft:a,iconRight:n,label:o}=e;return r.createElement("div",{className:t.selectedOptionContainer},a?r.createElement("div",{className:t.selectedIconLeftContainer},a):null,r.createElement("div",null,o),n?r.createElement("div",{className:t.selectedIconRightContainer},n):null)},this.handleChange=this.handleChange.bind(this),this.renderOption=this.renderOption.bind(this),this.handleInputChange=Object(ss.debounce)(this.handleInputChange,500),this.prevFilteredOptions=[],this.state={},this.isUnmounted=!1}UNSAFE_componentWillReceiveProps(e){e.options!==this.props.options&&(this.prevFilterValue=null)}componentWillUnmount(){this.isUnmounted=!0}handleChange(e){const t=e&&e.value;t!==this.props.value&&this.props.onSelect(""===t?null:t)}getValue(){const e=this.props.options,t=this.props.value;return e&&t?e.find(e=>e.value===t):null}renderOption(e){const t=e.option===e.focusedOption;return r.createElement(Rl,{key:e.option.value,option:e.option,inFocus:t,onFocusOption:e.focusOption,style:e.style,onSelect:e.selectValue,currentlySelectedValues:e.valueArray})}render(){const e=this.props,{options:t,label:a,value:n,nullable:o,style:i,menuStyle:s,maxHeight:l,disabled:c,required:d,useHintLabel:p,translations:u,withoutUnderline:m,classes:h,dataTest:g}=e,y=Object(_e.a)(e,["options","label","value","nullable","style","menuStyle","maxHeight","disabled","required","useHintLabel","translations","withoutUnderline","classes","dataTest"]),v=y.multi?n:this.getValue(),b=Object(G.a)({},kl.defaultSelectStyle,{},i),E=Object(G.a)({},kl.defaultMenuContainerStyle,{},s);return r.createElement("div",{"data-test":"dhis2-capture-virtualized-select",ref:e=>{this.materialUIContainerInstance=e}},r.createElement("div",{"data-test":g},r.createElement(Tl.a,Object.assign({disabled:c,options:t,onChange:this.handleChange,value:v,valueRenderer:this.renderValue,clearable:o,style:b,menuContainerStyle:E,className:"virtualized-select",placeholder:p?a:"",maxHeight:l||200,optionRenderer:this.renderOption,clearValueText:u.clearText,noResultsText:u.noResults,filterOptions:this.filterOptions,onInputChange:this.handleInputChange},y)),r.createElement("div",null)))}}kl.defaultProps={translations:{clearText:"",noResults:""}},kl.defaultSelectStyle={},kl.defaultMenuContainerStyle={};var jl=Object(ge.withStyles)(()=>({selectedOptionContainer:{display:"flex",alignItems:"center"},selectedIconLeftContainer:{paddingRight:5},selectedIconRightContainer:{paddingLeft:5}}))(kl),Pl=a(6834),Dl=a.n(Pl);const Fl=(xl=jl,class extends r.Component{constructor(...e){super(...e),this.handleBlur=e=>{this.props.onRemoveFocus(),this.props.onBlur&&this.props.onBlur(e)},this.handleFocus=()=>{this.props.onSetFocus(),this.props.onFocus&&this.props.onFocus()}}render(){const e=this.props,{onSetFocus:t,onRemoveFocus:a,onFocus:n,inFocus:o,onBlur:i,classes:s}=e,l=Object(_e.a)(e,["onSetFocus","onRemoveFocus","onFocus","inFocus","onBlur","classes"]),{inputWrapperFocused:c,inputWrapperUnfocused:d}=s,p=Object(_e.a)(s,["inputWrapperFocused","inputWrapperUnfocused"]),u=o?c:d;return r.createElement("div",{className:En()(Dl.a.inputWrapper,u)},r.createElement(xl,Object.assign({onFocus:this.handleFocus,onBlur:this.handleBlur},l,{classes:p})))}});var xl;class Ll extends r.Component{constructor(...e){super(...e),this.handleSelect=e=>{this.props.onBlur&&this.props.onBlur(e)}}render(){const e=this.props,{value:t,onBlur:a,onChange:r,classes:o}=e,i=Object(_e.a)(e,["value","onBlur","onChange","classes"]);return n.a.createElement(Fl,Object.assign({value:t||"",onSelect:this.handleSelect,classes:o},i))}}var Ul=Object(ge.withStyles)(e=>({inputWrapperFocused:{border:"2px solid ".concat(e.palette.primary.light),borderRadius:"5px"},inputWrapperUnfocused:{padding:2}}))(Ll);var Ml=()=>e=>class extends r.Component{constructor(e){super(e),this.translations={clearText:i.a.t("Clear"),noResults:i.a.t("No results")}}render(){const t=Object.assign({},this.props);return r.createElement(e,Object.assign({translations:this.translations},t))}};class Vl extends r.Component{render(){const e=Object.assign({},this.props);return r.createElement(di,e)}}var Bl=Object(ge.withStyles)(e=>({iconSelected:{fill:e.palette.secondary.main},iconDisabled:{fill:"rgba(0,0,0,0.30)"},iconDeselected:{fill:bl.r.grey700},focusSelected:{backgroundColor:Object(vl.fade)(e.palette.secondary.main,.4)}}))(Vl);class Gl extends r.Component{render(){const e=Object.assign({},this.props);return r.createElement(jo,Object.assign({placeholder:or.b.get().dateFormat.toLowerCase()},e))}}var Hl=Object(ge.withTheme)()(Ol()(Object(ge.withStyles)(e=>({inputWrapperFocused:{border:"2px solid ".concat(e.palette.primary.light),borderRadius:"5px"},inputWrapperUnfocused:{padding:2},innerInputError:{color:e.palette.error.main,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputWarning:{color:e.palette.warning.dark,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputInfo:{color:"green",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputValidating:{color:"orange",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)}}))(Gl)));class Wl extends r.Component{render(){const e=Object.assign({},this.props);return r.createElement(Li,e)}}var Yl=Object(ge.withTheme)()(Ol()(Object(ge.withStyles)(e=>({inputWrapperFocused:{border:"2px solid ".concat(e.palette.primary.light),borderRadius:"5px"},inputWrapperUnfocused:{padding:2},innerInputError:{color:e.palette.error.main,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputWarning:{color:e.palette.warning.dark,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputInfo:{color:"green",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputValidating:{color:"orange",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)}}))(Wl))),zl=a(195),ql=a.n(zl),Kl=a(253),Xl=a.n(Kl);class Jl extends r.Component{constructor(e){super(e);const t=e.classes,{dialogPaper:a}=t,r=Object(_e.a)(t,["dialogPaper"]);this.passOnClasses=r,this.dialogClasses={paper:e.classes.dialogPaper}}render(){const e=this.props,{classes:t,dialogLabel:a}=e,n=Object(_e.a)(e,["classes","dialogLabel"]);return r.createElement(Ri,Object.assign({mapDialog:r.createElement(Ce.a,{classes:this.dialogClasses},r.createElement(Xl.a,{key:"title"},a))},n,{classes:this.passOnClasses}))}}var Zl=ql()(e=>({inputWrapperFocused:{position:"relative",boxShadow:"0px 0px 0px 2px ".concat(e.palette.primary.light),zIndex:10,margin:"2px 0px 2px 0px"},inputWrapperUnfocused:{margin:"2px 0px 2px 0px"},innerInputError:{color:e.palette.error.main,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputWarning:{color:e.palette.warning.dark,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputInfo:{color:"green",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputValidating:{color:"orange",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},mapIconContainer:{fill:e.palette.primary.dark},mapIconContainerDisabled:{fill:"rgba(0,0,0,0.30)"},dialogPaper:{maxWidth:"none",width:"75%",height:"75%"}}))(Jl),Ql=a(207);class $l extends r.Component{constructor(e){super(e);const t=e.classes,{dialogPaper:a}=t,r=Object(_e.a)(t,["dialogPaper"]);this.passOnClasses=r,this.dialogClasses={paper:e.classes.dialogPaper}}render(){const e=this.props,{classes:t,dialogLabel:a}=e,n=Object(_e.a)(e,["classes","dialogLabel"]);return r.createElement(es,Object.assign({mapDialog:r.createElement(Ql.c,{classes:this.dialogClasses},r.createElement(Ql.g,{key:"title"},a))},n))}}var ec=ql()(e=>({inputWrapperFocused:{border:"2px solid ".concat(e.palette.primary.light),borderRadius:"5px"},inputWrapperUnfocused:{padding:2},dialogPaper:{maxWidth:"none",width:"75%",height:"75%"}}))($l),tc=a(6853);var ac=(e,t,a)=>n=>o=>{const{ready:i}=o,s=Object(_e.a)(o,["ready"]);if(!(a?a(o):i)){const a=e?e(o):null,n=t?t(o):null;return r.createElement(Ae,Object.assign({containerStyle:a},n))}return r.createElement(n,s)};class rc extends r.Component{getExpandedItems(){const{roots:e}=this.props;if(e&&1===e.length)return e.map(e=>e.path)}render(){const e=this.props,{roots:t,classes:a,treeKey:n,onSelectClick:o}=e,i=Object(_e.a)(e,["roots","classes","treeKey","onSelectClick"]);return t?r.createElement("div",{className:a.orgunitTree},r.createElement(tc.OrgUnitTreeMultipleRoots,Object.assign({key:n,roots:t,initiallyExpanded:this.getExpandedItems(),hideCheckboxes:!0,onSelectClick:o},i))):null}}var nc=Object(ge.withStyles)(()=>({orgunitTree:{padding:5,minHeight:42,paddingTop:10,backgroundColor:"white"}}))(ac(()=>({margin:4}),()=>({size:20}))(rc));class oc extends r.Component{constructor(e){super(e),this.handleFilterChange=e=>{this.props.onSearch(e.currentTarget.value)},this.classes={input:this.props.classes.searchField}}render(){const{roots:e,onSelectClick:t,searchText:a,ready:n,treeKey:o,classes:s,selected:l,maxTreeHeight:c,disabled:d}=this.props,p=c?{maxHeight:c,overflowY:"auto"}:null;return r.createElement("div",{className:s.container},r.createElement("div",{className:s.debounceFieldContainer},r.createElement(cs,{onDebounced:this.handleFilterChange,value:a,placeholder:i.a.t("Search"),classes:this.classes,disabled:d})),!d&&r.createElement("div",{className:s.orgUnitTreeContainer,style:p},r.createElement(nc,{roots:e,onSelectClick:t,ready:n,treeKey:o,selected:l})))}}oc.defaultProps={roots:[]};var ic=Object(ge.withStyles)(()=>({container:{border:"1px solid #C4C4C4",borderRadius:"3px",height:"100%",width:"100%",boxShadow:"0px 0px 2px 0px #C4C4C4 inset",zIndex:0,backgroundColor:"white"},searchField:{height:"40px",borderBottomLeftRadius:0,borderBottomRightRadius:0,boxShadow:"none",border:"none"},debounceFieldContainer:{paddingBottom:0},orgUnitTreeContainer:{padding:2,borderTop:"1px solid #C4C4C4",overflow:"auto"}}))(oc);class sc extends r.Component{constructor(...e){super(...e),this.renderSelectedOrgUnit=e=>{const{classes:t,disabled:a}=this.props,n=En()(t.clearSelectedOrgUnitButton,{[t.clearSelectedOrgUnitButtonDisabled]:a});return r.createElement("div",{className:t.selectedOrgUnitContainer},r.createElement("div",{className:t.selectedOrgUnitText},e.name),r.createElement(Ql.j,{className:n,onClick:this.onDeselectOrgUnit},r.createElement(In.g,{className:t.clearSelectedOrgUnitIcon})))},this.onSelectOrgUnit=(e,t)=>{this.props.onBlur({id:t.id,name:t.displayName,path:t.path})},this.onDeselectOrgUnit=()=>{this.props.onBlur(null)},this.renderOrgUnitField=()=>{const e=this.props,{classes:t}=e,a=Object(_e.a)(e,["classes"]);return r.createElement(ic,Object.assign({onSelectClick:this.onSelectOrgUnit},a))}}render(){const{value:e}=this.props;return e?this.renderSelectedOrgUnit(e):this.renderOrgUnitField()}}var lc=Object(ge.withStyles)(e=>({selectedOrgUnitContainer:{display:"flex",alignItems:"center"},clearSelectedOrgUnitButton:{height:e.typography.pxToRem(44),width:e.typography.pxToRem(44),marginLeft:e.typography.pxToRem(10)},clearSelectedOrgUnitIcon:{height:e.typography.pxToRem(20),width:e.typography.pxToRem(20)},selectedOrgUnitText:{marginRight:e.typography.pxToRem(20)}}))(sc);var cc=Object(ge.withTheme)()(Object(ge.withStyles)(e=>({inputWrapperFocused:{border:"2px solid ".concat(e.palette.primary.light),borderRadius:"5px"},inputWrapperUnfocused:{padding:2},innerInputError:{color:e.palette.error.main,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputWarning:{color:e.palette.warning.dark,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputInfo:{color:"green",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputValidating:{color:"orange",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)}}))(e=>{const t=Object.assign({},e);return r.createElement(bs,t)}));var dc=Object(ge.withTheme)()(Ol()(Object(ge.withStyles)(e=>({inputWrapperFocused:{border:"2px solid ".concat(e.palette.primary.light),borderRadius:"5px"},inputWrapperUnfocused:{padding:2},innerInputError:{color:e.palette.error.main,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputWarning:{color:e.palette.warning.dark,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputInfo:{color:"green",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputValidating:{color:"orange",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)}}))(e=>{const t=Object.assign({},e);return r.createElement(ws,t)})));class pc extends r.Component{render(){const{value:e,valueConverter:t,classes:a}=this.props,n=t?t(e):e;return r.createElement("div",{className:a.container},n)}}var uc=Object(ge.withStyles)(()=>({container:{width:"100%",fontWeight:500}}))(pc);class mc extends r.Component{render(){const e=Object.assign({},this.props);return r.createElement(js,e)}}var hc=Object(ge.withTheme)()(Ol()(Object(ge.withStyles)(e=>({inputWrapperFocused:{border:"2px solid ".concat(e.palette.primary.light),borderRadius:"5px"},inputWrapperUnfocused:{padding:2},innerInputError:{color:e.palette.error.main,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputWarning:{color:e.palette.warning.dark,padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputInfo:{color:"green",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)},innerInputValidating:{color:"orange",padding:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(12)}}))(mc)));const gc="validatingMessage",yc="errorMessage",vc="warningMessage",bc="infoMessage",Ec="errorMessage",fc="warningMessage",Oc="infoMessage",Sc="validatingMessage",Cc=(e,t={})=>class a extends r.Component{constructor(...e){super(...e),this.getMessage=e=>t[e]?this.props[t[e]]:this.props[e]}static getMessage(e,t,a,r){let n,o;return r?(n=r,o=gc):e?(n=e,o=yc):t?(n=t,o=vc):a&&(n=a,o=bc),{message:n,typeKey:o}}static getRulesMessage(e,t,a,r,n,o,i){let s,l;return e?(s=e,l=yc):a&&i?(s=a,l=yc):t?(s=t,l=vc):r&&i?(s=r,l=vc):n&&(o||i)&&(s=n,l=yc),{message:s,typeKey:l}}render(){const t=this.props,{errorMessage:n,warningMessage:o,infoMessage:i,validatingMessage:s,rulesErrorMessage:l,rulesWarningMessage:c,rulesErrorMessageOnComplete:d,rulesWarningMessageOnComplete:p,rulesCompulsoryError:u,touched:m,validationAttempted:h}=t,g=Object(_e.a)(t,["errorMessage","warningMessage","infoMessage","validatingMessage","rulesErrorMessage","rulesWarningMessage","rulesErrorMessageOnComplete","rulesWarningMessageOnComplete","rulesCompulsoryError","touched","validationAttempted"]);let y=m||h?a.getMessage(this.getMessage(Ec),this.getMessage(fc),this.getMessage(Oc),this.getMessage(Sc)):{};y.message||(y=a.getRulesMessage(l,c,d,p,u,m,h));const v=y.message?{[y.typeKey]:y.message}:null;return r.createElement("div",null,r.createElement(e,Object.assign({},v,g)))}};var Ic=e=>t=>Cc(t,e);const wc=e=>({base:{paddingTop:10},error:{color:e.palette.error.main,fontSize:e.typography.pxToRem(14)},warning:{color:e.palette.warning.dark,fontSize:e.typography.pxToRem(14)},info:{color:"green",fontSize:e.typography.pxToRem(14)},validating:{color:e.palette.grey.dark,fontSize:e.typography.pxToRem(14)},validatingContainer:{display:"flex",alignItems:"center",color:e.palette.grey.dark},validatingIndicator:{fontSize:12,marginTop:1,marginRight:4}}),Tc="error",Nc="warning",_c="info",Ac="validating",Rc=e=>class t extends r.Component{constructor(...e){super(...e),this.convertMessage=(e,a)=>{if(yn()(e)&&!r.isValidElement(e))return{innerMessage:{message:e,messageType:a}};const{classes:n}=this.props;return{element:t.createMessageElement(e,n.base,n[a],{container:n.validatingContainer,indicator:n.validatingIndicator},a)}}}static createMessageElement(e,t,a,n,o){return o===Ac?r.createElement("div",{className:t},r.createElement("div",{className:n.container},r.createElement("div",{className:n.indicator},r.createElement(fe,{size:14,color:"inherit"})),r.createElement("div",{className:a},e))):r.createElement("div",{"data-test":"error-message",className:En()(t,a)},e)}getMessage(e,t,a,r){let n={};return r?n=this.convertMessage(r,Ac):e?n=this.convertMessage(e,Tc):t?n=this.convertMessage(t,Nc):a&&(n=this.convertMessage(a,_c)),n}render(){const t=this.props,{classes:a,errorMessage:n,warningMessage:o,infoMessage:i,validatingMessage:s}=t,l=Object(_e.a)(t,["classes","errorMessage","warningMessage","infoMessage","validatingMessage"]),c=this.getMessage(n,o,i,s),d=c.innerMessage?{innerMessage:c.innerMessage}:null;return r.createElement("div",null,r.createElement(e,Object.assign({},d,l)),c.element)}};var kc=()=>e=>Object(ge.withStyles)(wc)(Rc(e));const jc=e=>({container:{padding:"8px 8px 8px 12px"},activeContainer:{backgroundColor:e.palette.info.main},validatingContainer:{},errorContainer:{backgroundColor:e.palette.error.lighter},warningContainer:{backgroundColor:e.palette.warning.lighter},infoContainer:{}}),Pc=(e,t)=>class extends r.Component{render(){const a=this.props,{classes:n}=a,o=Object(_e.a)(a,["classes"]),i=En()(n.container,{[n.activeContainer]:o.inFocus,[n.validatingContainer]:o.validatingMessage&&!o.inFocus,[n.errorContainer]:o.errorMessage&&!o.inFocus&&!o.validatingMessage,[n.warningContainer]:o.warningMessage&&!o.inFocus&&!o.validatingMessage&&!o.errorMessage,[n.infoContainer]:o.infoMessage&&!o.inFocus&&!o.validatingMessage&&!o.errorMessage&&!o.warningMessage});return r.createElement("div",{className:i,style:t},r.createElement(e,o))}};var Dc=e=>t=>Object(ge.withStyles)(jc)(Pc(t,e)),Fc=a(235),xc=a.n(Fc),Lc=()=>e=>class extends r.Component{shouldComponentUpdate(e){return Object.keys(e).some(t=>e[t]!==this.props[t]&&!xc()(e[t]))}render(){return r.createElement(e,this.props)}},Uc=e=>t=>a=>{const n=e(a);return r.createElement(t,n)},Mc=()=>e=>class extends r.Component{goto(){if(this.gotoInstance){this.gotoInstance.scrollIntoView();const e=window.scrollY;e&&window.scroll(0,e-48)}}render(){return r.createElement("div",{ref:e=>{this.gotoInstance=e}},r.createElement(e,this.props))}},Vc=()=>e=>class extends r.Component{render(){const t=this.props,{hidden:a}=t,n=Object(_e.a)(t,["hidden"]);return a?null:r.createElement(e,n)}};const Bc=e=>({label:{color:e.palette.text.primary,paddingBottom:4},labelVertical:{color:e.palette.text.primary}}),Gc=e=>({container:{display:"flex",alignItems:"center"},required:{color:e.palette.required},iconContainer:{paddingLeft:5,display:"flex",alignItems:"center"},icon:{width:22,height:22,borderRadius:2}});var Hc=e=>t=>{const a=e&&e.onGetUseVerticalOrientation,n=e&&e.onGetCustomFieldLabeClass,o=Ms({onGetUseVerticalOrientation:e=>a&&a(e),onSplitClasses:(e,t)=>{const{label:r,labelVertical:o}=e,i=Object(_e.a)(e,["label","labelVertical"]);return{labelContainer:null,labelClasses:{label:a&&a(t)?o:En()(r,n&&n(t))},passOnClasses:i}}})(t),i=e=>r.createElement("span",null,e.label,r.createElement("span",{className:e.requiredClass},"\xa0*")),s=e=>{const{icon:t,label:a,iconClass:n}=e;return t?r.createElement("img",{className:n,src:t.data,style:{backgroundColor:t.color},alt:"Icon for ".concat(a||"")}):null},l=e=>{const{label:t,required:a}=e;return a&&t?r.createElement(i,e):t},c=Object(ge.withStyles)(Gc)(e=>{const{label:t,required:a,icon:n,classes:o}=e;return r.createElement("div",{className:o.container},r.createElement(l,{label:t||"",required:a,requiredClass:o.required}),r.createElement("div",{className:o.iconContainer},r.createElement(s,{icon:n,label:t,iconClass:o.icon})))});return Object(ge.withStyles)(Bc)(e=>{const{label:t,required:a,icon:n}=e,i=Object(_e.a)(e,["label","required","icon"]),{classes:s}=e,l=Object(_e.a)(e,["classes"]);return r.createElement(o,Object.assign({label:r.createElement(c,l)},i))})};const Wc=(e,t)=>class extends r.Component{render(){const a=Object.assign({},this.props);return r.createElement("div",{style:t(this.props)},r.createElement(e,a))}};var Yc="USER_CAPTURE",zc="USER_SEARCH",qc=()=>e=>{var t,a;return a=t=class t extends r.Component{constructor(e){super(e),this.handleFilterChange=e=>{e?this.filterOrgUnits(e):this.resetOrgUnits()},this.state={filteredRoots:null,filterText:null,inProgress:!1,treeKey:t.INITIAL_TREE_KEY},this.cancelablePromise=null}componentWillUnmount(){this.cancelablePromise&&this.cancelablePromise.cancel()}filterOrgUnits(e){const{scope:t,onSearchError:a}=this.props,r=t===Yc?{withinUserHierarchy:!0}:{withinUserSearchHierarchy:!0};this.setState({inProgress:!0}),this.cancelablePromise&&this.cancelablePromise.cancel();const n=Object(B.d)(re().models.organisationUnits.list(Object(G.a)({fields:["id,displayName,path,publicAccess,access,lastUpdated","children[id,displayName,publicAccess,access,path,children::isNotEmpty]"].join(","),paging:!1,query:e},r)));n.promise.then(t=>{this.setState({filteredRoots:t.toArray(),filterText:e,inProgress:!1,treeKey:e}),this.cancelablePromise=null}).catch(e=>{U.a.error(Object(B.c)("There was an error retrieving organisation unit roots")({error:e})),a&&a(e)}),this.cancelablePromise=n}resetOrgUnits(){this.setState({filteredRoots:null,filterText:null,treeKey:t.INITIAL_TREE_KEY})}render(){const t=this.props,{defaultRoots:a,onSearchError:n,onSelect:o,scope:i}=t,s=Object(_e.a)(t,["defaultRoots","onSearchError","onSelect","scope"]),{filteredRoots:l,filterText:c,treeKey:d,inProgress:p}=this.state;return r.createElement(e,Object.assign({roots:l||a,treeKey:d,searchText:c,ready:!p,onSearch:this.handleFilterChange,onBlur:o},s))}},t.INITIAL_TREE_KEY="initial",a};function Kc(e){return Dn(e,or.b.get().dateFormat)}function Xc(e){return function(e,t){if(!e)return!1;const a=e.date,r=e.time;return!(!a||!r)&&(Dn(a,t)&&Fn(r))}(e,or.b.get().dateFormat)}function Jc(e){return e&&Kc(e)}function Zc(e){return e&&Xc(e)}const Qc=e=>{const t=e.date,a=e.time;let r,n;/[:.]/.test(a)?[r,n]=a.split(/[:.]/):3===a.length?(r=a.substring(0,1),n=a.substring(2,3)):(r=a.substring(0,2),n=a.substring(3,4));const o=Object(ua.c)(t).momentDate;return o.hour(r),o.minute(n),o};function $c(e,t){return e&&t.validator(e)}const ed=e=>t=>{const a=[];return $c(t.from,e)||a.push({from:e.message}),$c(t.to,e)||a.push({to:e.message}),a.length>0?{valid:!1,errorMessage:a.reduce((e,t)=>Object(G.a)({},e,{},t),{})}:Object(Zt.b)(t.from)<=Object(Zt.b)(t.to)};function td(e){return e&&Fn(e)}const ad=(e,t)=>{let a,r;/[:.]/.test(e)?[a,r]=e.split(/[:.]/):3===e.length?(a=e.substring(0,1),r=e.substring(2,3)):(a=e.substring(0,2),r=e.substring(3,4));const n=Object(Jt.a)(t);return n.hour(a),n.minute(r),n},rd="typeBase",nd="typeExtended",od="unique",id={COMPULSORY:i.a.t("A value is required"),NUMBER:i.a.t("Please provide a valid number"),INTEGER:i.a.t("Please provide a valid integer"),POSITIVE_INTEGER:i.a.t("Please provide a positive integer"),ZERO_OR_POSITIVE_INTEGER:i.a.t("Please provide zero or a positive integer"),NEGATIVE_INTEGER:i.a.t("Please provide a negative integer"),DATE:i.a.t("Please provide a valid date"),DATE_FUTURE_NOT_ALLOWED:i.a.t("A date in the future is not allowed"),DATETIME:i.a.t("Please provide a valid date and time"),TIME:i.a.t("Please provide a valid time"),PERCENTAGE:i.a.t("Please provide a valid percentage"),URL:i.a.t("Please provide a valid url"),EMAIL:i.a.t("Please provide a valid email address"),AGE:i.a.t("Please provide a valid age"),PHONE_NUMBER:i.a.t("Please provide a valid phone number"),ORGANISATION_UNIT:i.a.t("Please provide a valid organisation unit"),COORDINATE:i.a.t("Please provide valid coordinates"),UNIQUENESS:i.a.t("This value already exists"),RANGE:i.a.t('"From" cannot be greater than "To"')},sd={UNIQUENESS:i.a.t("Checking...")},ld=e=>Pn(e&&ka()(e)?e.trim():e),cd={validator:Un,message:id.INTEGER,type:rd},dd={validator:Mn,message:id.POSITIVE_INTEGER,type:rd},pd={validator:Bn,message:id.ZERO_OR_POSITIVE_INTEGER,type:rd},ud={validator:Vn,message:id.NEGATIVE_INTEGER,type:rd},md={validator:Gn,message:id.NUMBER,type:rd},hd={[Yt.v.NUMBER]:[md],[Yt.v.INTEGER]:[cd],[Yt.v.INTEGER_POSITIVE]:[dd],[Yt.v.INTEGER_ZERO_OR_POSITIVE]:[pd],[Yt.v.INTEGER_NEGATIVE]:[ud],[Yt.v.TIME]:[{validator:Fn,message:id.TIME,type:rd}],[Yt.v.DATE]:[{validator:Kc,message:id.DATE,type:rd},{validator:(e,t)=>!!t||(e=>{const{isValid:t,momentDate:a}=Object(ua.c)(e);return t?{valid:a.isSameOrBefore(Object(Jt.a)()),message:i.a.t("A future date is not allowed")}:t})(e),type:nd,message:id.DATE_FUTURE_NOT_ALLOWED}],[Yt.v.DATETIME]:[{validator:Xc,message:id.DATETIME,type:rd}],[Yt.v.EMAIL]:[{validator:Ln,message:id.EMAIL,type:rd}],[Yt.v.PERCENTAGE]:[{validator:Hn,message:id.PERCENTAGE,type:rd}],[Yt.v.URL]:[{validator:Wn,message:id.URL,type:rd}],[Yt.v.AGE]:[{validator:function(e){return Jn(e,or.b.get().dateFormat)},message:id.AGE,type:rd}],[Yt.v.PHONE_NUMBER]:[{validator:Zn,message:id.PHONE_NUMBER,type:rd}],[Yt.v.ORGANISATION_UNIT]:[{validator:Qn,message:id.ORGANISATION_UNIT,type:rd}],[Yt.v.COORDINATE]:[{validator:eo,message:id.COORDINATE,type:rd}],[Yt.v.DATE_RANGE]:[{validator:(vd=id.DATE,e=>{const t=[];return Jc(e.from)||t.push({from:vd}),Jc(e.to)||t.push({to:vd}),t.length>0?{valid:!1,errorMessage:t.reduce((e,t)=>Object(G.a)({},e,{},t),{})}:Object(ua.c)(e.from).momentDate<=Object(ua.c)(e.to).momentDate}),message:id.RANGE,type:rd}],[Yt.v.DATETIME_RANGE]:[{validator:(yd=id.DATETIME,e=>{const t=[];return Zc(e.from)||t.push({from:yd}),Zc(e.to)||t.push({to:yd}),t.length>0?{valid:!1,errorMessage:t.reduce((e,t)=>Object(G.a)({},e,{},t),{})}:Qc(e.from)<=Qc(e.to)}),message:id.RANGE,type:rd}],[Yt.v.TIME_RANGE]:[{validator:(gd=id.TIME,e=>{const t=[];if(td(e.from)||t.push({from:gd}),td(e.to)||t.push({to:gd}),t.length>0)return{valid:!1,errorMessage:t.reduce((e,t)=>Object(G.a)({},e,{},t),{})};const a=Object(Jt.a)();return ad(e.from,a)<=ad(e.to,a)}),message:id.RANGE,type:rd}],[Yt.v.NUMBER_RANGE]:[{validator:ed(md),message:id.RANGE,type:rd}],[Yt.v.INTEGER_RANGE]:[{validator:ed(cd),message:id.RANGE,type:rd}],[Yt.v.INTEGER_POSITIVE_RANGE]:[{validator:ed(dd),message:id.RANGE,type:rd}],[Yt.v.INTEGER_ZERO_OR_POSITIVE_RANGE]:[{validator:ed(pd),message:id.RANGE,type:rd}],[Yt.v.INTEGER_NEGATIVE_RANGE]:[{validator:ed(ud),message:id.RANGE,type:rd}]};var gd,yd,vd;function bd(e){let t=hd[e.type]?hd[e.type]:[];return t=t.map(t=>Object(G.a)({},t,{validator:a=>{if(!a&&0!==a&&!1!==a)return!0;const r=ka()(a)?a.trim():a;return t.validator(r,e.allowFutureDate)}})),t}function Ed(e){return e.compulsory?[{validator:ld,message:id.COMPULSORY}]:[]}function fd(e){return e.unique?[{validator:(t,a)=>!t&&0!==t&&!1!==t||e.unique.onValidate(t,a),message:id.UNIQUENESS,validatingMessage:sd.UNIQUENESS,type:od}]:[]}const Od=e=>[Ed,bd,fd].flatMap(t=>t(e)),Sd=(e,t)=>{const a=e&&e.theme&&e.theme.typography.pxToRem;return a?a(t):t},Cd="onBlur",Id=e=>({id:e.id,validators:Od(e),commitEvent:Cd}),wd={labelContainerStyle:{flexBasis:200},inputContainerStyle:{flexBasis:150}},Td={labelContainerStyle:{width:150},inputContainerStyle:{width:150}},Nd=(e,t,a)=>Object(G.a)({},(e=>({styles:wd,label:e.formName,metaCompulsory:e.compulsory,metaDisabled:e.disabled||e.unique&&e.unique.generatable,icon:e.icon?{data:e.icon.data,color:e.icon.color}:null}))(a),{},t&&t.formHorizontal?(e=>({style:{width:Sd(e,150)},styles:Td}))(t):{},{},e),_d=(e,t)=>Object(G.a)({},Id(t),{},e);var Ad=()=>e=>class extends r.Component{render(){const t=this.props,{metaCompulsory:a,rulesCompulsory:n}=t,o=Object(_e.a)(t,["metaCompulsory","rulesCompulsory"]);return r.createElement(e,Object.assign({required:!(!a&&!n)},o))}},Rd=()=>e=>class extends r.Component{render(){const t=this.props,{metaDisabled:a,rulesDisabled:n}=t,o=Object(_e.a)(t,["metaDisabled","rulesDisabled"]);return r.createElement(e,Object.assign({disabled:!(!a&&!n)},o))}},kd=a(240),jd=a.n(kd);const Pd=e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])};var Dd=()=>e=>Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.textLabel)})(kc()(Uc(Pd)(Uo()(e)))))))))))),Fd=e=>t=>class extends n.a.Component{constructor(t){super(t),this.defaultClass=e&&e(this.props)}render(){const e=this.props,{customFormElementProps:a}=e,r=Object(_e.a)(e,["customFormElementProps"]),o=En()(a.className,this.defaultClass);return n.a.createElement("div",Object.assign({},a,{className:o}),n.a.createElement(t,r))}};var xd=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.ageLabel)})(kc()(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(Uo()(Sl))))))))))));var Ld=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.booleanLabel)})(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(kc()(fl)))))))))));var Ud=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.coordinateLabel)})(kc()(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(Uo()(Zl))))))))))));var Md=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.dateLabel)})(kc()(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(Uo()(Hl))))))))))));var Vd=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.dateTimeLabel)})(kc()(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(Uo()(Yl))))))))))));var Bd=e=>{const t=Object.assign({},e);return r.createElement(bl.a,t)};var Gd=new class{constructor(){this.get=e=>this.fileUrls[e],this.set=(e,t)=>{this.fileUrls[e]=URL.createObjectURL(t)},this.clear=()=>{this.fileUrls=Object.keys(this.fileUrls).reduce((e,t)=>(URL.revokeObjectURL(this.fileUrls[t]),e),{})},this.fileUrls={}}};var Hd=Object(ge.withStyles)(e=>({button:{border:"none",fontSize:e.typography.pxToRem(16),display:"inline-block",textDecoration:"underline",cursor:"pointer","&:disabled":{color:"rgba(0, 0, 0, 0.26)",cursor:"default"}}}))(e=>{const{classes:t,children:a,muiClasses:n,muiButtonRef:o,className:i}=e,s=Object(_e.a)(e,["classes","children","muiClasses","muiButtonRef","className"]);return r.createElement("button",Object.assign({className:En()(t.button,i)},s),a)});class Wd extends r.Component{constructor(...e){super(...e),this.handleFileChange=e=>{e.preventDefault();const t=e.target.files[0];e.target.value=null,t&&this.props.onCommitAsync(()=>{const e=new FormData;return e.append("file",t),te().post("fileResources",e).then(e=>{const a=e&&e.response&&e.response.fileResource;return a?(Gd.set(a.id,t),{name:a.name,value:a.id}):null})})},this.handleButtonClick=()=>{this.hiddenFileSelectorRef.click()},this.handleRemoveClick=()=>{this.props.onBlur(null)},this.getFileUrl=()=>{const e=this.props.value;return e?e.url||Gd.get(e.value):null}}render(){const{value:e,classes:t,asyncUIState:a,orientation:r,disabled:o}=this.props,s=a&&a.loading,l=this.getFileUrl(),c=r===Lo.VERTICAL,d=c?t.verticalContainer:t.horizontalContainer,p=c?t.verticalSelectedFileTextContainer:t.horizontalSelectedFileTextContainer;return n.a.createElement("div",null,n.a.createElement("input",{className:t.input,type:"file",ref:e=>{this.hiddenFileSelectorRef=e},onChange:e=>this.handleFileChange(e)}),(()=>s?n.a.createElement("div",{className:d},n.a.createElement("div",{className:t.innerContainer},n.a.createElement(fe,null)),n.a.createElement("div",{className:t.innerContainer},i.a.t("Uploading file"))):e?n.a.createElement("div",{className:d},n.a.createElement("div",{className:p},n.a.createElement(Bi.a,{className:t.checkIcon}),n.a.createElement("a",{className:!c&&t.horizontalLink,target:"_blank",href:l,rel:"noopener noreferrer"},e.name)," ".concat(i.a.t("selected"),".")),n.a.createElement("div",{className:t.innerContainer},n.a.createElement(Hd,{disabled:o,onClick:this.handleRemoveClick,className:t.deleteButton},i.a.t("Delete")))):n.a.createElement("div",null,n.a.createElement(Bd,{onClick:this.handleButtonClick,color:"primary",disabled:o},i.a.t("Select file"))))())}}var Yd=Object(ge.withStyles)(e=>({horizontalContainer:{display:"flex",alignItems:"center",flexWrap:"wrap"},verticalContainer:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"flex-start"},innerContainer:{padding:e.typography.pxToRem(2),paddingRight:e.typography.pxToRem(10)},horizontalSelectedFileTextContainer:{padding:e.typography.pxToRem(2),paddingRight:e.typography.pxToRem(10),display:"flex",alignItems:"center",flexWrap:"wrap",wordBreak:"break-word"},verticalSelectedFileTextContainer:{padding:e.typography.pxToRem(2),paddingRight:e.typography.pxToRem(10),display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"flex-start",wordBreak:"break-word"},checkIcon:{color:e.palette.success[700]},deleteButton:{color:e.palette.error.main,textDecoration:"underline",cursor:"pointer"},input:{display:"none"},horizontalLink:{paddingRight:e.typography.pxToRem(5)}}))(Wd),zd=Dd()(Yd);class qd extends r.Component{constructor(...e){super(...e),this.handleImageChange=e=>{e.preventDefault();const t=e.target.files[0];e.target.value=null,t&&this.props.onCommitAsync(()=>{const e=new FormData;return e.append("file",t),te().post("fileResources",e).then(e=>{const a=e&&e.response&&e.response.fileResource;return a?(Gd.set(a.id,t),{name:a.name,value:a.id}):null})})},this.handleButtonClick=()=>{this.hiddenimageSelectorRef.click()},this.handleRemoveClick=()=>{this.props.onBlur(null)},this.getimageUrl=()=>{const e=this.props.value;return e?e.url||Gd.get(e.value):null},this.render=()=>{const{value:e,classes:t,asyncUIState:a,orientation:r,disabled:o}=this.props,s=r===Lo.VERTICAL,l=a&&a.loading,c=this.getimageUrl(),d=s?t.verticalContainer:t.horizontalContainer,p=s?t.verticalSelectedImageTextContainer:t.horizontalSelectedImageTextContainer;return n.a.createElement("div",null,n.a.createElement("input",{className:t.input,type:"file",accept:"image/*",ref:e=>{this.hiddenimageSelectorRef=e},onChange:e=>this.handleImageChange(e)}),(()=>l?n.a.createElement("div",{className:d},n.a.createElement("div",{className:t.innerContainer},n.a.createElement(fe,null)),n.a.createElement("div",{className:t.innerContainer},i.a.t("Uploading image"))):e?n.a.createElement("div",{className:d},!s&&n.a.createElement("div",{className:t.innerContainer},n.a.createElement("a",{target:"_blank",href:c,rel:"noopener noreferrer"},n.a.createElement("img",{src:c,alt:"",className:t.image}))),n.a.createElement("div",{className:p},n.a.createElement(Bi.a,{className:t.checkIcon}),s?n.a.createElement("a",{target:"_blank",href:c,rel:"noopener noreferrer"},e.name):e.name," ".concat(i.a.t("selected"),".")),n.a.createElement("div",{className:t.innerContainer},n.a.createElement(Hd,{disabled:o,className:t.deleteButton,onClick:this.handleRemoveClick},i.a.t("Delete")))):n.a.createElement("div",null,n.a.createElement(Bd,{disabled:o,onClick:this.handleButtonClick,color:"primary"},i.a.t("Select image"))))())}}}var Kd=Object(ge.withStyles)(e=>({horizontalContainer:{display:"flex",alignItems:"center",flexWrap:"wrap"},verticalContainer:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"flex-start"},innerContainer:{padding:e.typography.pxToRem(2),paddingRight:e.typography.pxToRem(10)},horizontalSelectedImageTextContainer:{padding:e.typography.pxToRem(2),paddingRight:e.typography.pxToRem(10),display:"flex",alignItems:"center",flexWrap:"wrap",wordBreak:"break-word"},verticalSelectedImageTextContainer:{padding:e.typography.pxToRem(2),paddingRight:e.typography.pxToRem(10),display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"flex-start",wordBreak:"break-word"},checkIcon:{color:e.palette.success[700]},deleteButton:{color:e.palette.error.main},input:{display:"none"},image:{maxHeight:e.typography.pxToRem(52),maxWidth:e.typography.pxToRem(70)}}))(qd),Xd=Dd()(Kd);const Jd=()=>({iconContainer:{display:"flex",alignItems:"center",paddingRight:5},icon:{width:22,height:22,borderRadius:2}});var Zd=()=>e=>Object(ge.withStyles)(Jd)(class extends r.Component{constructor(e){super(e),this.options=this.getOptions()}getIcon(e){const{label:t,classes:a}=this.props;return e?r.createElement("div",{className:a.iconContainer},r.createElement("img",{style:{backgroundColor:e.color},className:a.icon,src:e.data,alt:t})):null}getOptions(){const{options:e}=this.props;return e.map(e=>Object(G.a)({},e,{iconRight:this.getIcon(e.icon),iconLeft:null}))}render(){const t=this.props,{options:a,classes:n}=t,o=Object(_e.a)(t,["options","classes"]);return r.createElement(e,Object.assign({options:this.options},o))}}),Qd=a(220);const $d=Object(Qd.createSelectorCreator)(Qd.defaultMemoize,(e,t)=>Object.keys(t).every(a=>t[a]===e[a])),ep=(e,t)=>{const a=e.rulesEffectsOptionsVisibility[t.formId]||{};return{hideOptions:a.hideOptions&&a.hideOptions[t.id],hideOptionGroups:a.hideOptionGroups&&a.hideOptionGroups[t.id],showOptionGroups:a.showOptionGroups&&a.showOptionGroups[t.id]}},tp=[{key:"showOptionGroups",createFilter:(e,t)=>{const a=e.map(e=>t.get(e.optionGroupId));return e=>a.some(t=>t&&!!t.optionIds.get(e.id))}},{key:"hideOptionGroups",createFilter:(e,t)=>{const a=e.map(e=>t.get(e.optionGroupId));return e=>!a.some(t=>t&&!!t.optionIds.get(e.id))}},{key:"hideOptions",createFilter:e=>t=>!e.some(e=>e.optionId===t.id)}],ap=e=>{var t,a;return a=t=class t extends r.Component{constructor(e){super(e),this.filteredOptions=t.getFilteredOptions(e)}UNSAFE_componentWillReceiveProps(e){e.rulesOptionsVisibility!==this.props.rulesOptionsVisibility&&(this.filteredOptions=t.getFilteredOptions(e))}render(){const t=this.props,{options:a}=t,n=Object(_e.a)(t,["options"]);return r.createElement(e,Object.assign({options:this.filteredOptions},n))}},t.getFilteredOptions=e=>{const{options:t,rulesOptionsVisibility:a,optionGroups:r}=e,n=tp.filter(e=>a[e.key]&&a[e.key].length>0).map(e=>e.createFilter(a[e.key],r));return t.filter(e=>n.every(t=>t(e)))},a},rp=()=>{const e=$d(ep,e=>e);return(t,a)=>({rulesOptionsVisibility:e(t,a)})};var np=()=>e=>Object(an.c)(rp,()=>({}))(ap(e));var op=Mc()(Vc()(Lc()(Rd()(Ad()(ho()(Ic()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.textLabel)})(kc()(Zd()(np()(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(Ml()(Ul))))))))))))));var ip=Mc()(Vc()(Lc()(Rd()(Ad()(ho()(Ic()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.optionSetBoxesLabel)})(kc()(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(np()(Bl))))))))))));const sp="RequestFilterFormFieldOrgUnits",lp="FilteredFormFieldOrgUnitsRetrieved",cp="FilterFormFieldOrgUnitsFailed",dp="ResetFormFieldOrgUnitsFilter";var pp=(e,t)=>[e,t].join("-");const up=e=>class extends r.Component{constructor(...e){super(...e),this.handleFilterOrgUnits=e=>{e?this.props.filterOrgUnits(this.props.formId,this.props.elementId,e):this.props.resetOrgUnits(this.props.formId,this.props.elementId)}}componentWillUnmount(){const{formId:e,elementId:t}=this.props;oe(pp(e,t),null)}render(){const t=this.props,{formId:a,elementId:n,filterOrgUnits:o,resetOrgUnits:i}=t,s=Object(_e.a)(t,["formId","elementId","filterOrgUnits","resetOrgUnits"]);return r.createElement(e,Object.assign({onSearch:this.handleFilterOrgUnits},s))}},mp=(e,t)=>{const a=pp(t.formId,t.elementId),r=e.formsFieldsMisc[t.formId][t.elementId]||{},n=ie(a)||ie("searchRoots");return{searchText:r.orgUnitsSearchText,ready:!r.orgUnitsLoading,treeKey:r.orgUnitsSearchText||"initial",roots:n}},hp=e=>({filterOrgUnits:(t,a,r)=>{e(((e,t,a)=>H(sp)({formId:e,elementId:t,searchText:a}))(t,a,r))},resetOrgUnits:(t,a)=>{e(((e,t)=>H(dp)({formId:e,elementId:t}))(t,a))}});var gp,yp=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.orgUnitLabel)})(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(kc()(Uo()((gp=lc,Object(an.c)(mp,hp)(up(gp))))))))))))));var vp,bp=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()((vp=()=>({paddingTop:10,paddingBottom:10}),e=>Wc(e,vp))(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.polygonLabel)})(kc()(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(Uo()(ec)))))))))))));var Ep=Mc()(Vc()(Lc()(Rd()(Ad()(ho()(Ic()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.textLabel)})(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(kc()(Uo()(yl))))))))))));var fp=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.trueOnlyLabel)})(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(kc()(Il)))))))))));var Op=e=>t=>a=>{const[n,o]=e,i={[o]:a[n]},s=Object(G.a)({},a);return s[n]&&delete s[n],r.createElement(t,Object.assign({},s,i))};const Sp=e=>({errorContainer:{margin:20,color:e.palette.error.main}});var Cp=()=>e=>Object(ge.withStyles)(Sp)(t=>{const{error:a,classes:n}=t,o=Object(_e.a)(t,["error","classes"]);return a?r.createElement("div",{"data-test":"dhis2-capture-error-message-handler",className:n.errorContainer},a):r.createElement(e,o)});const Ip=(e,t,a)=>n=>Object(an.c)((t,a)=>({ready:e(t,a)}),null,(e,t,a)=>Object.assign({},a,e,t,{InnerComponent:n}))(((e,t)=>a=>{const{ready:n,InnerComponent:o}=a,i=Object(_e.a)(a,["ready","InnerComponent"]);if(!n){if(t)return r.createElement(Oe,null);const n=e?e(a):null;return r.createElement(Ae,{containerStyle:n})}return r.createElement(o,i)})(t,a));var wp=Object(r.createContext)({inputName:"userfield_input",suggestionName:"userfield_search_suggestion"});const Tp=ho()(go()(cs));var Np=e=>{const{onUpdateValue:t,onHighlightSuggestion:a,onSelectSuggestion:n,onResetDisplayedHighlight:o,onExitSearch:s,inputWrapperClasses:l,inputDomRef:c,useUpwardList:d,placeholder:p}=e,u=Object(_e.a)(e,["onUpdateValue","onHighlightSuggestion","onSelectSuggestion","onResetDisplayedHighlight","onExitSearch","inputWrapperClasses","inputDomRef","useUpwardList","placeholder"]),{inputName:m,suggestionName:h}=r.useContext(wp),g=r.useCallback(e=>t(e.currentTarget.value),[t]),y=r.useCallback(e=>{40===e.keyCode&&!d||38===e.keyCode&&d?(a(),e.stopPropagation(),e.preventDefault()):13===e.keyCode&&n()},[a,n,d]),v=r.useCallback(e=>{e.relatedTarget&&((e,t)=>{if(e.getAttribute("name")===t)return!0;const a=e.parentElement;return!!a&&a.getAttribute("name")===t})(e.relatedTarget,h)||s()},[s,h]);return r.createElement(Tp,Object.assign({name:m,inputRef:c,onDebounced:g,onFocus:o,onKeyDown:y,onBlur:v,classes:l,placeholder:void 0!==p?p:i.a.t("start typing to search")},u))},_p=a(6912),Ap=a.n(_p),Rp=a(6913),kp=a.n(Rp);var jp=e=>{const{children:t,onHighlightNext:a,onHighlightPrev:n}=e,o=r.useRef(null);r.useLayoutEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[]);const{suggestionName:i}=r.useContext(wp),s=r.useCallback(e=>{38===e.keyCode?(a(),e.stopPropagation(),e.preventDefault()):40===e.keyCode&&(n(),e.stopPropagation(),e.preventDefault())},[a,n]);return r.createElement("div",{name:i,tabIndex:-1,onKeyDown:s,role:"none"},r.createElement("div",{ref:o,className:kp.a.listUp},r.createElement("div",{name:i,className:kp.a.listUpInner},t)))},Pp=a(6914),Dp=a.n(Pp),Fp=a(329),xp=a.n(Fp),Lp=a(6915),Up=a.n(Lp);var Mp=e=>{const{user:t,query:a,isHighlighted:n,onHighlightNext:o,onHighlightPrev:i,suggestionRef:s,onSelect:l,onExitSearch:c,useUpwardList:d}=e,{inputName:p,suggestionName:u}=r.useContext(wp),m="".concat(t.name," (").concat(t.username,")"),h=function(e,t){const a=e.toLocaleLowerCase(),r=t.toLocaleLowerCase(),n=a.indexOf(r);return n<=-1?[]:[[n,n+t.length]]}(m,a),g=Dp()(m,h),y=r.useCallback(e=>{40===e.keyCode&&!d||38===e.keyCode&&d?o(t):38===e.keyCode&&!d||40===e.keyCode&&d?i(t):13===e.keyCode&&l(t),e.stopPropagation(),e.preventDefault()},[o,i,l,t,d]),v=r.useCallback(e=>{s(e,t)},[s,t]),b=r.useCallback(e=>{l(t),e.stopPropagation()},[l,t]),E=r.useCallback(e=>{e.relatedTarget&&function(e,t,a){if(e.getAttribute("name")===t||e.getAttribute("name")===a)return!0;const r=e.parentElement;return!!r&&r.getAttribute("name")===t}(e.relatedTarget,u,p)||c()},[c,u,p]);return r.createElement("div",{name:u,role:"button",tabIndex:-1,ref:v,className:d?En()(Up.a.suggestion,Up.a.suggestionInUpList):Up.a.suggestion,onKeyDown:y,onClick:b,onBlur:E},r.createElement(xp.a,{selected:n,component:"div"},r.createElement("div",null,g.map((e,t)=>e.highlight?r.createElement("span",{key:String(t),style:{fontWeight:500}},e.text):r.createElement("strong",{key:String(t),style:{fontWeight:300}},e.text)))))};class Vp extends r.Component{static renderSuggestions(e,t,a,n){const o=e.map(e=>r.createElement(Mp,Object.assign({key:e.id,user:e,query:t,isHighlighted:a===e},n)));return n.useUpwardList?r.createElement(jp,{key:t,onHighlightNext:n.onHighlightNext,onHighlightPrev:n.onHighlightPrev},o):r.createElement("div",null,r.createElement("div",{className:Ap.a.list},o))}static renderEmpty(){return null}render(){const e=this.props,{suggestions:t,query:a,highlighted:n}=e,o=Object(_e.a)(e,["suggestions","query","highlighted"]);return r.createElement("div",{className:Ap.a.container},t.length>0?Vp.renderSuggestions(t,a,n,o):Vp.renderEmpty())}}var Bp=Vp;const Gp="selectBestChoice",Hp="clear";class Wp extends r.Component{constructor(e){super(e),this.resetHighlighted=()=>{this.setState({highlightedSuggestion:void 0})},this.search=e=>te().get("userLookup",{query:e}).then(e=>(e&&e.users||[]).map(e=>({id:e.id,name:e.displayName,username:e.username}))),this.handleInputChange=e=>{if(this.cancelablePromise&&this.cancelablePromise.cancel(),e.length>1){const t=this.search(e),a=Object(B.d)(t);this.cancelablePromise=a,a.promise.then(t=>{this.setSuggestions(t,e)}).catch(e=>{e&&e.isCanceled||this.setSuggestionsError(i.a.t("suggestions could not be retrieved"))})}else this.resetSuggestions()},this.handleHighlightFirstSuggestion=()=>{const{suggestions:e}=this.state;e.length>0&&this.highlightSuggestion(e[0])},this.handleSelectFirstSuggestion=()=>{const{suggestions:e}=this.state;e.length>0&&this.props.onSet(e[0])},this.handleExitSearchFromInput=()=>{const{exitBehaviour:e}=this.props,{suggestions:t}=this.state;switch(e){case Gp:t.length>0?this.props.onSet(t[0]):(this.clearInput(),this.cancelablePromise&&this.cancelablePromise.cancel());break;case Hp:this.clear(),this.cancelablePromise&&this.cancelablePromise.cancel()}},this.handleExitSearchFromSuggestions=()=>{const{exitBehaviour:e}=this.props,{highlightedSuggestion:t}=this.state;switch(e){case Gp:this.props.onSet(t);break;case Hp:this.clear(),this.cancelablePromise&&this.cancelablePromise.cancel()}},this.handleHighlightNextSuggestion=()=>{const{suggestions:e,highlightedSuggestion:t}=this.state,a=e.findIndex(e=>e===t);a<e.length-1&&this.highlightSuggestion(e[a+1])},this.handleHighlightPrevSuggestion=()=>{const{suggestions:e,highlightedSuggestion:t}=this.state,a=e.findIndex(e=>e===t);a>0?this.highlightSuggestion(e[a-1]):0===a&&this.highlightInput()},this.handleSuggestionRef=(e,t)=>{e?this.suggestionElements.set(t.id,e):this.suggestionElements.has(t.id)&&this.suggestionElements.delete(t.id)},this.handleInputDomRef=e=>{this.inputDomElement=e},this.handleSuggestionSelect=e=>{this.props.onSet(e)},this.suggestionElements=new Map,this.state={suggestions:[],searchValue:"",inputKey:0},this.domNames={inputName:"userfield_input".concat(nn()()),suggestionName:"userfield_search_suggestion"}}componentDidMount(){const{focusInputOnMount:e}=this.props;e&&this.inputDomElement&&this.inputDomElement.focus()}componentWillUnmount(){this.cancelablePromise&&this.cancelablePromise.cancel()}clearInput(){const e=this.state.inputKey;this.setState({inputKey:(e+1)%2})}clear(){this.clearInput(),this.resetSuggestions()}setSuggestions(e,t){this.setState({suggestions:e,highlightedSuggestion:void 0,searchValue:t})}resetSuggestions(){this.setState({suggestions:[],highlightedSuggestion:void 0,searchValue:""})}setSuggestionsError(e){this.setState({suggestionsError:e})}highlightSuggestion(e){this.setState({highlightedSuggestion:e});const t=this.suggestionElements.get(e.id);t&&t.focus()}highlightInput(){this.setState({highlightedSuggestion:void 0}),this.inputDomElement&&this.inputDomElement.focus()}renderInput(){const{inputKey:e}=this.state,{inputWrapperClasses:t,inputPlaceholderText:a,useUpwardList:n}=this.props;return r.createElement(Np,{key:e,inputDomRef:this.handleInputDomRef,onUpdateValue:this.handleInputChange,onHighlightSuggestion:this.handleHighlightFirstSuggestion,onSelectSuggestion:this.handleSelectFirstSuggestion,onResetDisplayedHighlight:this.resetHighlighted,onExitSearch:this.handleExitSearchFromInput,inputWrapperClasses:t,placeholder:a,useUpwardList:n})}renderSuggestions(){const{suggestions:e,searchValue:t,highlightedSuggestion:a}=this.state,{useUpwardList:n}=this.props;return r.createElement(Bp,{suggestionRef:this.handleSuggestionRef,suggestions:e,query:t,highlighted:a,onHighlightNext:this.handleHighlightNextSuggestion,onHighlightPrev:this.handleHighlightPrevSuggestion,onSelect:this.handleSuggestionSelect,onExitSearch:this.handleExitSearchFromSuggestions,useUpwardList:n})}render(){return r.createElement("div",null,r.createElement(wp.Provider,{value:this.domNames},this.renderInput(),this.renderSuggestions()))}}var Yp=Wp,zp=a(6916),qp=a.n(zp);var Kp=e=>{const{text:t,onClear:a,focusInputOnMount:n}=e,o=r.useRef();r.useEffect(()=>{n&&o.current&&o.current.focus()},[n]);return r.createElement("div",{className:qp.a.container},r.createElement("div",{ref:e=>{o.current=e},role:"button",className:qp.a.inputContainer,tabIndex:0,onKeyDown:e=>{[8,46].includes(e.keyCode)&&a()}},r.createElement(io,{classes:qp.a,value:"",disabled:!0})),r.createElement("div",{className:qp.a.chipContainer},r.createElement(bl.c,{onRemove:()=>{a()},onClick:()=>{a()}},t)))};var Xp=Object(ge.withStyles)(e=>({inputWrapperFocused:{border:"2px solid ".concat(e.palette.primary.light),borderRadius:"5px"},inputWrapperUnfocused:{padding:2}}))(e=>{const{classes:t,value:a,onSet:n,useUpwardSuggestions:o,focusOnMount:i=!1,inputPlaceholderText:s,usernameOnlyMode:l}=e,c=r.useRef(i),d=r.useRef(i);r.useEffect(()=>{c&&(c.current=!1)}),r.useEffect(()=>{d&&(d.current=!1)});const p=()=>{n(),c.current=!0};return a?r.createElement(Kp,{text:l?a:a.name,onClear:p,focusInputOnMount:d.current}):r.createElement("div",null,r.createElement(Yp,{onSet:e=>{n(l?e.username:e),d.current=!0},inputWrapperClasses:t,focusInputOnMount:c.current,useUpwardList:o,inputPlaceholderText:s,exitBehaviour:"selectBestChoice"}))});var Jp=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.textLabel)})(kc()(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(Op(["onBlur","onSet"])(Uo()(Xp)))))))))))));var Zp=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.ageLabel)})(kc()(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(Uo()(cc))))))))))));var Qp=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.dateLabel)})(kc()(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(Uo()(dc))))))))))));var $p=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.dateTimeLabel)})(kc()(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(Uo()(hc))))))))))));var eu=Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldLabelMediaBasedClass," ").concat(jd.a.viewModeLabel)})(Uc(e=>{const{formHorizontal:t,fieldLabelMediaBasedClass:a}=e;return Object(_e.a)(e,["formHorizontal","fieldLabelMediaBasedClass"])})(uc))),tu=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(kc()(Fd()(Uo()(Sl)))))))))),au=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(kc()(Fd()(fl))))))))),ru=a(6917),nu=a.n(ru);var ou=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(kc()(Fd(()=>nu.a.defaultCustomContainer)(Uo()(Zl)))))))))),iu=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(kc()(Fd()(Uo()(Hl)))))))))),su=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(kc()(Fd()(Uo()(Yl)))))))))),lu=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(kc()(Fd()(Uo()(Yd)))))))))),cu=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(kc()(Fd()(Uo()(Kd)))))))))),du=a(6918),pu=a.n(du);var uu=Mc()(Vc()(Lc()(Rd()(Ad()(ho()(Ic()(kc()(Ml()(Fd(()=>pu.a.defaultCustomContainer)(Zd()(np()(Ul)))))))))))),mu=Mc()(Vc()(Lc()(Rd()(Ad()(ho()(Ic()(kc()(np()(Bl)))))))));a(6919);function hu({label:e,value:t,open:a,depth:r,isSelected:o,children:i,onClick:s,onIconClick:l}){const c=i&&Array.isArray(i);let d=20*r;return c||(d+=7),n.a.createElement("div",null,n.a.createElement("div",{role:"button",tabIndex:-1,className:En()("label",{selected:o}),onClick:()=>s(t)},n.a.createElement("div",{style:{minWidth:d}}),c?n.a.createElement("div",{role:"button",tabIndex:-1,className:"icon",onClick:e=>l(e,!a,t)},a?"\u2212":"+"):n.a.createElement("div",{className:"icon"}),n.a.createElement("div",{className:"text"},e)),a&&i&&n.a.createElement("div",{className:"children"},i))}class gu extends n.a.Component{constructor(...e){super(...e),this.onIconClick=(e,t,a)=>{e&&e.stopPropagation();const r=this.updateState(this.props.list,t,a);this.props.onIconClick(a,t,[...r])},this.onClick=e=>{const{multiple:t,selectable:a}=this.props;if(!a)return;let{selected:r}=this.props;const n=!!r&&r.includes(e);"undefined"!==typeof t&&t?(n?r=r.filter(t=>t!==e):(r=r.slice(0),r.push(e)),this.props.setSelected(r,!n,e)):this.props.setSelected(n?[]:[e],!n,e)}}updateState(e,t,a){if(!Array.isArray(e))return e;let r=!1;for(let n=0;n<e.length;n+=1)e[n].value===a&&(e[n].open=t,r=!0),r||"undefined"===typeof e[n].children||this.updateState(e[n].children,t,a);return e}node(e,t=0){return Array.isArray(e)?e.map(({open:e,label:a,value:r,children:o})=>n.a.createElement(hu,{key:"node-".concat(r),depth:t,open:e,label:a,value:r,onClick:this.onClick,onIconClick:this.onIconClick,isSelected:!!this.props.selected&&this.props.selected.includes(r)},o?this.node(o,t+1):null)):null}view(){return this.node(this.props.list)}render(){return 0===this.props.list.length?null:n.a.createElement("div",{className:"ou-tree-container"},n.a.createElement("div",{className:"ou-tree"},this.view()))}}class yu extends n.a.Component{constructor(...e){super(...e),this.state={list:[],selected:this.props.value},this.setSelected=e=>{this.setState({selected:e}),Array.isArray(e)&&e.length>0?this.props.onBlur(e[0]):this.props.onBlur(null)},this.onIconClick=async(e,t,a)=>{this.setState({list:a}),t&&await this.fetchNode(e)},this.fetchRoot=async()=>{try{(await Object(je.getInstance)()).models.organisationUnits.list({level:1,paging:!1,fields:"id,path,displayName,children::isNotEmpty"}).then(e=>{const{value:t}=this.props,a=e.toArray();this.setState({list:a.map(e=>{const{path:a,displayName:r}=e,n=t&&t.startsWith(a)&&t!==a;return n&&this.fetchNode(a,!0),{open:n,value:a,label:r,children:[]}})})})}catch(e){console.log("OrgUnitTree root fetch failed")}},this.fetchNode=async(e,t=!1)=>{try{const a=e.substr(e.lastIndexOf("/")+1);(await Object(je.getInstance)()).models.organisationUnits.list({paging:!1,filter:"id:in:[".concat(a,"]"),fields:":all,displayName,path,children[id,displayName,path,children]"}).then(a=>{const r=a.toArray()[0].children.valuesContainerMap,n=[];for(const[e,i]of r.entries()){const{value:e}=this.props,a=i.children.valuesContainerMap.size>0?[]:null;let r=null!==a&&e&&e.startsWith(i.path);r&&t&&e.substr(i.path.length).indexOf("/")>-1?this.fetchNode(i.path,t):r=!1,n.push({open:r,children:a,value:i.path,label:i.displayName})}n.sort((e,t)=>e.label.localeCompare(t.label));const{list:o}=this.state;this.setChildren(e,n,o),this.setState({list:[...o]})})}catch(a){console.log("OrgUnitTree fetchNode failed"),console.log(a)}}}async UNSAFE_componentWillMount(){await this.fetchRoot()}UNSAFE_componentWillReceiveProps({value:e}){this.setState({selected:e})}setChildren(e,t,a){if(Array.isArray(a))for(let r=0;r<a.length;r+=1){if(a[r].value===e)return void(a[r].children=t.slice(0));a[r].children&&a[r].children.length>0&&this.setChildren(e,t,a[r].children)}}render(){const{label:e,selectable:t,required:a}=this.props,{list:r,selected:o}=this.state;return n.a.createElement(gu,{required:a,label:e,multiple:!1,selectable:"undefined"===typeof t||t,list:r,selected:o,onIconClick:this.onIconClick,setSelected:this.setSelected})}}var vu=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(kc()(Fd()(Uo()(yu))))))))),bu=a(6920),Eu=a.n(bu);var fu=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(kc()(Fd(()=>Eu.a.defaultCustomContainer)(Uo()(ec)))))))))),Ou=a(6921),Su=a.n(Ou);var Cu=Mc()(Vc()(Lc()(Rd()(Ad()(ho()(Ic()(kc()(Fd(()=>Su.a.defaultCustomContainer)(Uo()(yl)))))))))),Iu=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(kc()(Fd()(Il))))))))),wu=a(6922),Tu=a.n(wu);var Nu=Mc()(Vc()(Lc()(Rd()(Ad()(Ic()(ho()(kc()(Fd(()=>Tu.a.defaultCustomContainer)(Op(["onBlur","onSet"])(Uo()(Xp))))))))))),_u=a(6923),Au=a.n(_u);var Ru=Fd(()=>Au.a.defaultCustomContainer)(uc);var ku=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,orientation:t.formHorizontal?Lo.VERTICAL:Lo.HORIZONTAL,shrinkDisabled:t.formHorizontal,dateCalendarWidth:t.formHorizontal?250:350,datePopupAnchorPosition:(r=t.formHorizontal,r?"center":"left")},t,e);var r;return _d({component:xd,props:a},e)};var ju=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,orientation:t.formHorizontal?Lo.VERTICAL:Lo.HORIZONTAL,id:e.id},t,e);return _d({component:Ld,props:a},e)};var Pu=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,orientation:t.formHorizontal?Lo.VERTICAL:Lo.HORIZONTAL,shrinkDisabled:t.formHorizontal,dialogLabel:e.formName},t,e);return _d({component:Ud,props:a},e)};var Du=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,width:t.formHorizontal?150:"100%",maxWidth:t.formHorizontal?150:350,calendarWidth:t.formHorizontal?250:350,popupAnchorPosition:(r=t.formHorizontal,r?"center":"left"),calendarMaxMoment:e.allowFutureDate?void 0:Object(Jt.a)()},t,e);var r;return _d({component:Md,props:a},e)};var Fu=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,dateWidth:t.formHorizontal?150:"100%",dateMaxWidth:t.formHorizontal?150:350,orientation:t.formHorizontal?Lo.VERTICAL:Lo.HORIZONTAL,shrinkDisabled:t.formHorizontal,calendarWidth:t.formHorizontal?250:350,popupAnchorPosition:(r=t.formHorizontal,r?"center":"left")},t,e);var r;return _d({component:Vd,props:a},e)};var xu=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,async:!0,orientation:t.formHorizontal?Lo.VERTICAL:Lo.HORIZONTAL},t,e);return _d({component:zd,props:a},e)};var Lu=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,async:!0,orientation:t.formHorizontal?Lo.VERTICAL:Lo.HORIZONTAL},t,e);return _d({component:Xd,props:a},e)};const Uu="DataElement missing",Mu=e=>e.dataElement?e.dataElement.getConvertedOptionSet(ga):(U.a.error(Object(B.c)(Uu)({clientOptionSet:e})),null),Vu=e=>e.options.map(e=>({id:e.id,name:e.text,value:e.value})),Bu=e=>e.options.map(e=>({id:e.id,label:e.text,value:e.value,icon:e.icon?{data:e.icon.data,color:e.icon.color}:null})),Gu=e=>Object(B.e)(Mu,Vu)(e),Hu=e=>Object(B.e)(Mu,Bu)(e);var Wu=a(322);const Yu={[Wu.a.DROPDOWN]:e=>({options:Hu(e.optionSet),nullable:!e.compulsory,style:{width:"100%"}}),[Wu.a.HORIZONTAL_RADIOBUTTONS]:e=>({options:Gu(e.optionSet)}),[Wu.a.VERTICAL_RADIOBUTTONS]:e=>({orientation:Lo.VERTICAL,options:Gu(e.optionSet)})},zu={[Wu.a.DROPDOWN]:op,[Wu.a.HORIZONTAL_RADIOBUTTONS]:ip,[Wu.a.VERTICAL_RADIOBUTTONS]:ip};var qu=(e,t)=>{const a=e.optionSet,r=a.inputType,n=Yu[r](e),o=Nd(Object(G.a)({id:e.id,formId:t.formId,formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,optionGroups:a.optionGroups},n),t,e);return _d({component:zu[r],props:o,commitEvent:r===Wu.a.DROPDOWN?"onBlur":"onSelect"},e)};var Ku=(e,t)=>{const a=Nd({formId:t.formId,elementId:e.id,formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,maxTreeHeight:200},t,e);return _d({component:yp,props:a},e)};var Xu=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,orientation:t.formHorizontal?Lo.VERTICAL:Lo.HORIZONTAL,shrinkDisabled:t.formHorizontal,dialogLabel:e.formName},t,e);return _d({component:bp,props:a},e)};var Ju=(e,t,a,r)=>{const n=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,multiLine:r&&r.multiLine},t,e);return _d({component:Ep,props:n},e)};var Zu=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,orientation:t.formHorizontal?Lo.VERTICAL:Lo.HORIZONTAL,id:e.id},t,e);return _d({component:fp,props:a},e)};var Qu=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,usernameOnlyMode:!0},t,e);return _d({component:Jp,props:a},e)};var $u=(e,t,a)=>{const r=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,multiLine:a&&a.multiLine},t,e);return _d({component:Zp,props:r},e)};var em=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,width:t.formHorizontal?150:"100%",maxWidth:t.formHorizontal?150:350,calendarWidth:t.formHorizontal?250:350,popupAnchorPosition:(r=t.formHorizontal,r?"center":"left")},t,e);var r;return _d({component:Qp,props:a},e)};var tm=(e,t)=>{const a=Nd({formHorizontal:t.formHorizontal,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass,dateWidth:t.formHorizontal?150:"100%",dateMaxWidth:t.formHorizontal?150:350,orientation:t.formHorizontal?Lo.VERTICAL:Lo.HORIZONTAL,shrinkDisabled:t.formHorizontal,calendarWidth:t.formHorizontal?250:350,popupAnchorPosition:(r=t.formHorizontal,r?"center":"left")},t,e);var r;return _d({component:$p,props:a},e)};const am=Object(B.e)(La,wa),rm={labelContainerStyle:{flexBasis:200},inputContainerStyle:{flexBasis:150}};var nm=(e,t)=>{const a={valueConverter:t=>e.convertValue(t,am),styles:rm,label:e.formName,dataElement:e,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass};return{id:e.id,component:eu,props:a}};const om=(e,t)=>Object(G.a)({},(e=>({metaCompulsory:e.compulsory}))(t),{},e),im=(e,t)=>Object(G.a)({},Id(t),{},e);var sm=e=>{const t=om({orientation:Lo.HORIZONTAL,shrinkDisabled:!1},e);return im({component:tu,props:t},e)};var lm=e=>{const t=om({orientation:Lo.HORIZONTAL,id:e.id},e);return im({component:au,props:t},e)};var cm=e=>{const t=om({orientation:Lo.HORIZONTAL,shrinkDisabled:!1},e);return im({component:ou,props:t},e)};var dm=e=>{const t=om({width:350,maxWidth:350,calendarWidth:350,calendarMaxMoment:e.allowFutureDate?void 0:Object(Jt.a)()},e);return im({component:iu,props:t},e)};var pm=e=>{const t=om({dateWidth:"100%",dateMaxWidth:350,calendarWidth:350,orientation:Lo.HORIZONTAL,shrinkDisabled:!1},e);return im({component:su,props:t},e)};var um=e=>{const t=om({async:!0,orientation:Lo.HORIZONTAL},e);return im({component:lu,props:t},e)};var mm=e=>{const t=om({async:!0,orientation:Lo.HORIZONTAL},e);return im({component:cu,props:t},e)};const hm={[Wu.a.DROPDOWN]:e=>({options:Hu(e.optionSet),nullable:!e.compulsory}),[Wu.a.HORIZONTAL_RADIOBUTTONS]:e=>({options:Gu(e.optionSet)}),[Wu.a.VERTICAL_RADIOBUTTONS]:e=>({orientation:Lo.VERTICAL,options:Gu(e.optionSet)})},gm={[Wu.a.DROPDOWN]:uu,[Wu.a.HORIZONTAL_RADIOBUTTONS]:mu,[Wu.a.VERTICAL_RADIOBUTTONS]:mu};var ym=(e,t)=>{const a=e.optionSet,r=a.inputType,n=hm[r](e),o=om(Object(G.a)({id:e.id,formId:t.formId,optionGroups:a.optionGroups},n),e);return im({component:gm[r],props:o,commitEvent:r===Wu.a.DROPDOWN?"onBlur":"onSelect"},e)};var vm=e=>{const t=om({},e);return im({component:vu,props:t},e)};var bm=e=>{const t=om({orientation:Lo.HORIZONTAL,shrinkDisabled:!1},e);return im({component:fu,props:t},e)};var Em=(e,t)=>{const a=om({multiLine:t&&t.multiLine},e);return im({component:Cu,props:a},e)};var fm=e=>{const t=om({orientation:Lo.HORIZONTAL,id:e.id},e);return im({component:Iu,props:t},e)};var Om=e=>{const t=om({},e);return im({component:Nu,props:t},e)};const Sm=Object(B.e)(La,wa);var Cm=(e,t)=>{const a={valueConverter:t=>e.convertValue(t,Sm),label:e.formName,dataElement:e,fieldLabelMediaBasedClass:t.fieldLabelMediaBasedClass};return{id:e.id,component:Ru,props:a}};const Im="Formfield component not specified for type",wm={[Yt.v.EMAIL]:Ju,[Yt.v.TEXT]:Ju,[Yt.v.PHONE_NUMBER]:Ju,[Yt.v.LONG_TEXT]:(e,t,a)=>Ju(e,t,a,{multiLine:!0}),[Yt.v.NUMBER]:Ju,[Yt.v.NUMBER_RANGE]:$u,[Yt.v.INTEGER]:Ju,[Yt.v.INTEGER_RANGE]:$u,[Yt.v.INTEGER_POSITIVE]:Ju,[Yt.v.INTEGER_POSITIVE_RANGE]:$u,[Yt.v.INTEGER_NEGATIVE]:Ju,[Yt.v.INTEGER_NEGATIVE_RANGE]:$u,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:Ju,[Yt.v.INTEGER_ZERO_OR_POSITIVE_RANGE]:$u,[Yt.v.BOOLEAN]:ju,[Yt.v.TRUE_ONLY]:Zu,[Yt.v.DATE]:(e,t)=>Du(e,t),[Yt.v.DATE_RANGE]:em,[Yt.v.DATETIME]:Fu,[Yt.v.DATETIME_RANGE]:tm,[Yt.v.TIME]:Ju,[Yt.v.TIME_RANGE]:$u,[Yt.v.PERCENTAGE]:Ju,[Yt.v.URL]:Ju,[Yt.v.AGE]:ku,[Yt.v.ORGANISATION_UNIT]:Ku,[Yt.v.COORDINATE]:Pu,[Yt.v.POLYGON]:Xu,[Yt.v.USERNAME]:Qu,[Yt.v.FILE_RESOURCE]:xu,[Yt.v.IMAGE]:Lu,[Yt.v.UNKNOWN]:()=>null};const Tm="Formfield component not specified for type",Nm={[Yt.v.EMAIL]:Em,[Yt.v.TEXT]:Em,[Yt.v.PHONE_NUMBER]:Em,[Yt.v.LONG_TEXT]:e=>Em(e,{multiLine:!0}),[Yt.v.NUMBER]:Em,[Yt.v.INTEGER]:Em,[Yt.v.INTEGER_POSITIVE]:Em,[Yt.v.INTEGER_NEGATIVE]:Em,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:Em,[Yt.v.BOOLEAN]:lm,[Yt.v.TRUE_ONLY]:fm,[Yt.v.DATE]:dm,[Yt.v.DATETIME]:pm,[Yt.v.TIME]:Em,[Yt.v.PERCENTAGE]:Em,[Yt.v.URL]:Em,[Yt.v.AGE]:sm,[Yt.v.ORGANISATION_UNIT]:vm,[Yt.v.COORDINATE]:cm,[Yt.v.POLYGON]:bm,[Yt.v.USERNAME]:Om,[Yt.v.FILE_RESOURCE]:um,[Yt.v.IMAGE]:mm,[Yt.v.UNKNOWN]:()=>null};function _m(e,t,a){return a?function(e,t){if(t.viewMode)return Cm(e,t);const a=e.type;return Nm[a]?e.optionSet?ym(e,t):Nm[a](e):(U.a.warn(Object(B.c)(Tm)({metaData:e})),Nm[Yt.v.UNKNOWN](e))}(e,t):function(e,t,a){if(t.viewMode)return nm(e,t);const r=e.type;return wm[r]?e.optionSet?qu(e,t):wm[r](e,t,a):(U.a.warn(Object(B.c)(Im)({metaData:e})),wm[Yt.v.UNKNOWN](e,t,a))}(e,t)}var Am=a(524);const Rm="Program or foundation missing";function km(e){let t=[];var a;return e instanceof Yt.h&&(t=(a=e).stage?Array.from(a.stage.stageForm.sections.values()).reduce((e,t)=>[...e,...Array.from(t.elements.values())],[]):[]),function(e){return e.reduce((e,t)=>(e[t.id]={id:t.id,valueType:t.type,optionSetId:t.optionSet&&t.optionSet.id},e),{})}(t)}function jm(e,t,a,r,n){const o=function(e,t,a){if(!e||!t)return U.a.error(Object(B.c)(Rm)({program:e,foundation:t,method:"getRulesActionsForEvent"})),null;const{programRuleVariables:r}=e,n=[...e.programRules,...t.programRules];if(!n||0===n.length)return null;const o=yr.a.get();return{optionSets:br.a.get(),dataElementsInProgram:km(e),programRulesVariables:r,programRules:n,constants:o,allEvents:function(e){if(e&&e.length>0){const t=e.reduce((e,t)=>(!!t.programStageId&&(e[t.programStageId]=e[t.programStageId]||[],e[t.programStageId].push(t)),e),{});return{all:e,byStage:t}}return null}(a)}}(e,t,n);if(o){const{optionSets:e,programRulesVariables:t,programRules:n,constants:i,dataElementsInProgram:s,allEvents:l}=o;return tn.RulesEngine.programRuleEffectsForEvent({programRulesVariables:t,programRules:n,constants:i},{currentEvent:r,allEvents:l},s,a,e)}return null}const Pm="Program is missing or is invalid",Dm="Foundation missing";function Fm(e,t){const a=function(e,t){return e?t&&t instanceof Yt.t?null:Pm:Dm}(t,e);if(a)return U.a.error(Object(B.c)(a)({program:e,method:"getRulesActionsForTEI"})),null;if(e){const{programRulesVariables:t,programRules:a,constants:r}=function(e){return{programRulesVariables:e.programRuleVariables.filter(e=>"TEI_ATTRIBUTE"===e.programRuleVariableSourceType),programRules:e.programRules,constants:yr.a.get()}}(e);if(!a||0===a.length)return null;const n=function(e){const t=e.enrollment.enrollmentForm;return(t?Array.from(t.sections.values()).reduce((e,t)=>[...e,...Array.from(t.elements.values())],[]):[]).reduce((e,t)=>(e[t.id]={id:t.id,valueType:t.type,optionSetId:t.optionSet&&t.optionSet.id},e),{})}(e);return{optionSets:br.a.get(),trackedEntityAttributes:n,programRulesVariables:t,programRules:a,constants:r}}return null}function xm(e,t,a,r){return[...function(e){return e?Object.keys(e).map(t=>{const a=e[t],r=a[a.length-1];return{id:r.id,value:r.value}}):[]}(e),...function(e){return e?Object.keys(e).map(e=>({id:e,value:null})):[]}(t),...function(e,t){return e?Object.keys(e).map(e=>{const a=t.getSection(e);return a?Array.from(a.elements.entries()).map(e=>e[1]).map(e=>({id:e.id,value:null})):null}).filter(e=>e).reduce((e,t)=>[...e,...t],[]):[]}(a,r)].reduce((e,t)=>(e[t.id]=t.value,e),{})}function Lm(e,t){if(!e||!t)return null;const a=e.reduce((e,t)=>{const a=t.type;e[a]=e[a]||{};const r=t.id;return e[a][r]=e[a][r]||[],e[a][r].push(t),e},{});return a[tn.effectActions.HIDE_FIELD]=function(e,t={},a){if(!e)return e;const r=Object.keys(e),n=a.getElements().filter(({compulsory:e})=>e);return r.filter(e=>{const{compulsory:a}=n.find(({id:t})=>t===e)||{},r=t[e];return!(a||r)}).reduce((t,a)=>(t[a]=e[a],t),{})}(a[tn.effectActions.HIDE_FIELD],a[tn.effectActions.MAKE_COMPULSORY],t),a[tn.effectActions.HIDE_SECTION]=function(e,t={},a){return e?Object.keys(e).filter(e=>{const r=a.getSection(e);return!!r&&!Array.from(r.elements.entries()).map(e=>e[1]).some(e=>{const a=e.compulsory,r=t[e.id];return a||r})}).reduce((t,a)=>(t[a]=e[a],t),{}):e}(a[tn.effectActions.HIDE_SECTION],a[tn.effectActions.MAKE_COMPULSORY],t),a[tn.effectActions.ASSIGN_VALUE]=xm(a[tn.effectActions.ASSIGN_VALUE],a[tn.effectActions.HIDE_FIELD],a[tn.effectActions.HIDE_SECTION],t),a}const Um="UpdateRulesEffects",Mm="UpdateFieldFromRuleEffect",Vm=(e={},t)=>H(Um)({rulesEffects:e,formId:t});function Bm(e,t,a){const r=Lm(e,t);return[Vm(r,a)]}function Gm(e,t,a,r,n={},o=[]){return Bm(jm(e,t,r,n,o),t,a)}function Hm(e,t,a,r,n,o){return Bm(function(e,t,a,r,n){const o=Fm(e,t);if(o){const{optionSets:e,programRulesVariables:t,programRules:i,constants:s,trackedEntityAttributes:l}=o;return tn.RulesEngine.programRuleEffectsForTEI({programRulesVariables:t,programRules:i,constants:s},r,n,l,a,e)}return null}(e,t,r,n,o),t,a)}var Wm=a(263);function Ym(e,t){return t.convertValues(e,La)}function zm(e,t,a){if(!e)return null;return Object.keys(e).reduce((r,n)=>{const o=t[n]&&t[n].type,i=t[n]&&t[n].onConvertOut;if(t[n]&&t[n].clientIgnore)return r;if(o){const t=e[n];r[n]=La(t,o)}else if(i){const o=t[n]&&t[n].clientId,s=e[n],l=Function("return ".concat(i))();r[o]=l(s,a)}else r[n]=e[n];return r},{})}function qm(e,t,a,r){const n=e.formsValues[a]||{},o=r?Object(G.a)({},n,{[r.elementId]:r.value}):n,i=function(e,t){const a=Object.keys(e).filter(e=>e.startsWith(t)).reduce((t,a)=>t=Object(G.a)({},t,{},e[a]),{});return Object.keys(a).reduce((e,t)=>(e[t]=a[t].valid,e),{})}(e.formsSectionsFieldsUI,a),s=r?Object(G.a)({},i,{[r.elementId]:r.valid}):i;var l,c;return function(e,t){return Ym(e,t)}((l=o,c=s,Object.keys(l).filter(e=>c[e]).reduce((e,t)=>Object(G.a)({},e,{[t]:l[t]}),{})),t)}function Km(e,t,a,r){const n="".concat(a,"-").concat(t),o=e.dataEntriesFieldsUI[n],i=(s=o,Object.keys(s).reduce((e,t)=>(e[t]=s[t].isValid,e),{}));var s;return zm(function(e,t){return Object.keys(e).reduce((a,r)=>(a[r]=t[r]?e[r]:null,a),{})}(e.dataEntriesFieldsValue[n],i),e.dataEntriesFieldsMeta[n],r)}const Xm={ERROR:"error",WARNING:"warning",ERROR_ON_COMPLETE:"errorOnComplete",WARNING_ON_COMPLETE:"warningOnComplete"},Jm=Object(Ur.b)({[Um]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.HIDE_FIELD];return a[t.payload.formId]=r?Object.keys(r).reduce((e,t)=>(e[t]=!0,e),{}):null,a}},"rulesEffectsHiddenFields"),Zm=Object(Ur.b)({[Um]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.MAKE_COMPULSORY];return a[t.payload.formId]=r?Object.keys(r).reduce((e,t)=>(e[t]=!0,e),{}):null,a}},"rulesEffectsCompulsoryFields"),Qm=Object(Ur.b)({[Um]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.HIDE_SECTION];return a[t.payload.formId]=r?Object.keys(r).reduce((e,t)=>(e[t]=!0,e),{}):null,a}},"rulesEffectsHiddenSections"),$m={[tn.effectActions.SHOW_ERROR]:Xm.ERROR,[tn.effectActions.SHOW_WARNING]:Xm.WARNING,[tn.effectActions.SHOW_ERROR_ONCOMPLETE]:Xm.ERROR_ON_COMPLETE,[tn.effectActions.SHOW_WARNING_ONCOMPLETE]:Xm.WARNING_ON_COMPLETE},eh=Object(Ur.b)({[Um]:(e,t)=>{const a=Object(G.a)({},e),r=[t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.SHOW_ERROR],t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.SHOW_WARNING],t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.SHOW_ERROR_ONCOMPLETE],t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.SHOW_WARNING_ONCOMPLETE]];return a[t.payload.formId]=r.reduce((e,t)=>t?Object.keys(t).reduce((e,a)=>{e[a]=e[a]||{};const r=t[a][0],n=$m[r.type];return e[a][n]=r.message,e},e):e,{}),a}},"rulesEffectsMessages"),th=Object(Ur.b)({[Um]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.DISPLAY_TEXT],n=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.DISPLAY_KEY_VALUE_PAIR];return a[t.payload.formId]={displayTexts:r&&r.feedback?r.feedback.map(e=>e.displayText):null,displayKeyValuePairs:n&&n.feedback?n.feedback.map(e=>e.displayKeyValuePair):null},a}},"rulesEffectsFeedback",{}),ah=Object(Ur.b)({[Um]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.DISPLAY_TEXT],n=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.DISPLAY_KEY_VALUE_PAIR];return a[t.payload.formId]={displayTexts:r&&r.indicators?r.indicators.map(e=>e.displayText):null,displayKeyValuePairs:n&&n.indicators?n.indicators.map(e=>e.displayKeyValuePair):null},a}},"rulesEffectsIndicators",{}),rh=Object(Ur.b)({[Um]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.SHOW_ERROR],n=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.SHOW_ERROR_ONCOMPLETE],o=r&&r.general?r.general.map(e=>e.error):null,i=n&&n.general?n.general.map(e=>e.error):null;return a[t.payload.formId]={[$m[tn.effectActions.SHOW_ERROR]]:o,[$m[tn.effectActions.SHOW_ERROR_ONCOMPLETE]]:i},a}},"rulesEffectsGeneralErrors",{}),nh=Object(Ur.b)({[Um]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.SHOW_WARNING],n=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.SHOW_WARNING_ONCOMPLETE],o=r&&r.general?r.general.map(e=>e.warning):null,i=n&&n.general?n.general.map(e=>e.warning):null;return a[t.payload.formId]={[$m[tn.effectActions.SHOW_WARNING]]:o,[$m[tn.effectActions.SHOW_WARNING_ONCOMPLETE]]:i},a}},"rulesEffectsGeneralWarnings",{}),oh=Object(Ur.b)({[Um]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.ASSIGN_VALUE];return a[t.payload.formId]=r?Object.keys(r).reduce((e,t)=>(e[t]=!0,e),{}):null,a}},"rulesEffectsDisabledFields"),ih=Object(Ur.b)({[Um]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.rulesEffects;return t.payload.rulesEffects&&(a[t.payload.formId]={hideOptions:r[tn.effectActions.HIDE_OPTION],hideOptionGroups:r[tn.effectActions.HIDE_OPTION_GROUP],showOptionGroups:r[tn.effectActions.SHOW_OPTION_GROUP]}),a}},"rulesEffectsOptionsVisibility"),sh=(e=>class extends r.Component{render(){const t=this.props,{customForm:a}=t,n=Object(_e.a)(t,["customForm"]);return r.createElement(e,n,a?(e,t)=>r.createElement(hl.a,{onRenderField:e,fields:t,specs:a}):null)}})((e=>Object(ge.withStyles)(ul)(class extends r.Component{constructor(...e){super(...e),this.renderDivider=(e,t,a)=>{if(a.props&&a.props.hidden||e+1>=t)return null;const n=this.props.classes;return r.createElement("div",{className:n.dividerContainer},r.createElement(pl,{className:n.divider}))}}render(){const t=this.props,{classes:a}=t,n=Object(_e.a)(t,["classes"]),o=this.props.formHorizontal?null:{onRenderDivider:this.renderDivider};return r.createElement(e,Object.assign({},o,n))}}))((e=>Object(ge.withStyles)(ml)(class extends r.Component{constructor(...e){super(...e),this.getContainerProps=(e,t,a)=>{if(0===e&&(this.hiddenFieldsCount=0),a.props&&a.props.hidden)return this.hiddenFieldsCount+=1,{};const{classes:r}=this.props;return{className:(e-this.hiddenFieldsCount)%2===0?null:r.evenNumbers}}}render(){const t=this.props,{formHorizontal:a,classes:n}=t,o=Object(_e.a)(t,["formHorizontal","classes"]),i=a?null:{onGetContainerProps:this.getContainerProps};return r.createElement(e,Object.assign({},i,o))}}))(jn)));class lh extends r.Component{static buildFormFields(e){const{fieldsMetaData:t,customForm:a,fieldOptions:r}=e;return Array.from(t.entries()).map(e=>e[1]).map(t=>_m(t,Object(G.a)({formHorizontal:e.formHorizontal,formId:e.formId,viewMode:e.viewMode},r),!!a)).filter(e=>e)}static validateBaseOnly(e){return e.isValid([rd])}constructor(e){super(e),this.handleUpdateFieldAsync=(e,t,a,r)=>{this.props.onUpdateFieldAsync(e,t,a,this.props.formId,r)},this.handleUpdateField=this.handleUpdateField.bind(this),this.formFields=lh.buildFormFields(this.props),this.rulesCompulsoryErrors={}}UNSAFE_componentWillReceiveProps(e){e.fieldsMetaData!==this.props.fieldsMetaData&&(this.formFields=lh.buildFormFields(e))}rulesIsValid(){const e=this.props.rulesMessages;return 0===Object.keys(e).map(t=>e[t]&&e[t][Xm.ERROR]).filter(e=>e).length&&0===Object.keys(this.rulesCompulsoryErrors).length}validateFull(e){return!!e.isValid()&&this.rulesIsValid()}isValid(e){const t=this.formBuilderInstance;return t?this.validateBasedOnStrategy(e,t):(U.a.error(Object(B.c)("could not get formbuilder instance")({method:"isValid",object:this})),!1)}validateBasedOnStrategy(e,t){const a=this.props.validationStrategy;if(a===Am.a.NONE)return lh.validateBaseOnly(t);if(a===Am.a.ON_COMPLETE){return e&&e.isCompleting?this.validateFull(t):lh.validateBaseOnly(t)}return this.validateFull(t)}getInvalidFields(){const e=Object.keys(this.props.rulesMessages).reduce((e,t)=>(this.props.rulesMessages[t]&&(this.props.rulesMessages[t][Xm.ERROR]||this.props.rulesMessages[t][Xm.ERROR_ON_COMPLETE])&&(e[t]=!0),e),{}),t=Object.keys(this.rulesCompulsoryErrors).reduce((e,t)=>(e[t]=!0,e),{}),a=Object(G.a)({},e,{},t);return this.formBuilderInstance?this.formBuilderInstance.getInvalidFields(a):[]}handleUpdateField(e,t,a,r,n){this.props.onUpdateField(e,t,a,r,this.props.formId,n)}buildRulesCompulsoryErrors(){const e=this.props.rulesCompulsoryFields,t=this.props.values;this.rulesCompulsoryErrors=Object.keys(e).reduce((a,r)=>{if(e[r]){const e=t[r];e||0===e||!1===e||(a[r]="This field is required")}return a},{})}getFieldConfigWithRulesEffects(){return this.formFields.map(e=>Object(G.a)({},e,{props:Object(G.a)({},e.props,{hidden:this.props.rulesHiddenFields[e.id],rulesErrorMessage:this.props.rulesMessages[e.id]&&this.props.rulesMessages[e.id][Xm.ERROR],rulesWarningMessage:this.props.rulesMessages[e.id]&&this.props.rulesMessages[e.id][Xm.WARNING],rulesErrorMessageOnComplete:this.props.rulesMessages[e.id]&&this.props.rulesMessages[e.id][Xm.ERROR_ON_COMPLETE],rulesWarningMessageOnComplete:this.props.rulesMessages[e.id]&&this.props.rulesMessages[e.id][Xm.WARNING_ON_COMPLETE],rulesCompulsory:this.props.rulesCompulsoryFields[e.id],rulesCompulsoryError:this.rulesCompulsoryErrors[e.id],rulesDisabled:this.props.rulesDisabledFields[e.id]})}))}render(){const e=this.props,{fieldsMetaData:t,values:a,onUpdateField:r,formId:o,formBuilderId:i,rulesCompulsoryFields:s,rulesDisabledFields:l,rulesHiddenFields:c,rulesMessages:d,onUpdateFieldAsync:p,fieldOptions:u,validationStrategy:m,loadNr:h}=e,g=Object(_e.a)(e,["fieldsMetaData","values","onUpdateField","formId","formBuilderId","rulesCompulsoryFields","rulesDisabledFields","rulesHiddenFields","rulesMessages","onUpdateFieldAsync","fieldOptions","validationStrategy","loadNr"]);return this.buildRulesCompulsoryErrors(),n.a.createElement(sh,Object.assign({formBuilderRef:e=>{this.formBuilderInstance=e},id:i,fields:this.getFieldConfigWithRulesEffects(),values:a,onUpdateField:this.handleUpdateField,onUpdateFieldAsync:this.handleUpdateFieldAsync,validateIfNoUIData:!0,loadNr:h},g))}}lh.defaultProps={values:{}};var ch=lh;const dh="UpdateField",ph=Object(Qd.createSelectorCreator)(Qd.defaultMemoize,(e,t)=>Object.keys(t).every(a=>t[a]===e[a])),uh=(e,t)=>{const a=t.fieldsMetaData,r=e.formsValues[t.formId]||{};return Array.from(a.entries()).map(e=>e[1]).reduce((e,t)=>(e[t.id]=r[t.id],e),{})},mh=(e,t)=>{const a=t.fieldsMetaData,r=e.rulesEffectsCompulsoryFields[t.formId]||{};return Array.from(a.entries()).map(e=>e[1]).reduce((e,t)=>(e[t.id]=r[t.id],e),{})},hh=(e,t)=>{const a=t.fieldsMetaData,r=e.rulesEffectsDisabledFields[t.formId]||{};return Array.from(a.entries()).map(e=>e[1]).reduce((e,t)=>(e[t.id]=r[t.id],e),{})},gh=(e,t)=>{const a=t.fieldsMetaData,r=e.rulesEffectsHiddenFields[t.formId]||{};return Array.from(a.entries()).map(e=>e[1]).reduce((e,t)=>(e[t.id]=r[t.id],e),{})},yh=Object(Qd.createSelectorCreator)(Qd.defaultMemoize,(e,t)=>Object.keys(t).every(a=>{const r=t[a]||{},n=e[a]||{};return[Xm.ERROR,Xm.WARNING,Xm.ERROR_ON_COMPLETE,Xm.WARNING_ON_COMPLETE].every(e=>r[e]===n[e])})),vh=(e,t)=>{const a=t.fieldsMetaData,r=e.rulesEffectsMessages[t.formId]||{};return Array.from(a.entries()).map(e=>e[1]).reduce((e,t)=>(e[t.id]=r[t.id],e),{})};var bh=Object(an.c)(()=>{const e=ph(uh,e=>e),t=ph(gh,e=>e),a=yh(vh,e=>e),r=ph(mh,e=>e),n=ph(hh,e=>e);return(o,i)=>({values:e(o,i),rulesHiddenFields:t(o,i),rulesMessages:a(o,i),rulesCompulsoryFields:r(o,i),rulesDisabledFields:n(o,i),loadNr:o.forms[i.formId].loadNr})},e=>({onUpdateField:(t,a,r,n,o)=>{e(((e,t,a,r,n)=>H(dh)({value:e,uiState:t,formId:n,sectionId:r,elementId:a}))(t,a,r,n,o))}}),(e,t,a)=>{const r=Object.assign({},a,e,t);return a.onUpdateField?Object(G.a)({},r,{onUpdateField:a.onUpdateField}):r},{forwardRef:!0})(ch);class Eh extends n.a.PureComponent{renderSectionHeader(){const e=this.props.sectionMetaData.name;return e?n.a.createElement(Tn,{title:e}):null}render(){const e=this.props,{sectionMetaData:t,isHidden:a,classes:r,sectionId:o}=e,i=Object(_e.a)(e,["sectionMetaData","isHidden","classes","sectionId"]);return a?null:!t.showContainer||this.props.formHorizontal?n.a.createElement(bh,Object.assign({ref:e=>{this.sectionFieldsInstance=e},fieldsMetaData:t.elements},i)):n.a.createElement("div",null,n.a.createElement(On,{header:this.renderSectionHeader(),elevation:2,className:r.section},n.a.createElement(bh,Object.assign({ref:e=>{this.sectionFieldsInstance=e},fieldsMetaData:t.elements},i))))}}var fh=Object(ge.withStyles)(e=>({section:{backgroundColor:"white",maxWidth:e.typography.pxToRem(892)}}))(Eh);var Oh=Object(an.c)((e,t)=>({isHidden:!(!e.rulesEffectsHiddenSections[t.formId]||!e.rulesEffectsHiddenSections[t.formId][t.sectionMetaData.id])}),()=>({}))(fh);class Sh extends n.a.PureComponent{constructor(e){super(e),this.renderHorizontal=(e,t)=>n.a.createElement(Oh,Object.assign({key:e.id,innerRef:t=>{this.setSectionInstance(t,e.id)},sectionMetaData:e,customForm:this.props.formFoundation.customForm,validationStrategy:this.props.formFoundation.validationStrategy,formId:this.getFormId(),formBuilderId:this.getFormBuilderId(e.id),sectionId:e.id},t)),this.renderVertical=(e,t,a)=>n.a.createElement("div",{"data-test":"dhis2-capture-d2-form-component",className:this.props.formFoundation.customForm?a.containerCustomForm:"",key:e.id},n.a.createElement(Oh,Object.assign({innerRef:t=>{this.setSectionInstance(t,e.id)},sectionMetaData:e,customForm:this.props.formFoundation.customForm,validationStrategy:this.props.formFoundation.validationStrategy,formId:this.getFormId(),formBuilderId:this.getFormBuilderId(e.id),sectionId:e.id},t))),this.name="D2Form",this.sectionInstances=new Map}validateFormIncludeSectionFailedFields(e){let t=[];return{isValid:Array.from(this.sectionInstances.entries()).map(e=>e[1]).every(a=>{if(a.props.isHidden)return!0;const r=a.sectionFieldsInstance;if(!r)return U.a.error(Object(B.c)("could not get section fields instance")({method:"validateFormReturningFailedFields",object:this,sectionInstance:a})),!1;const n=r.isValid(e);return n||(t=[...t,...r.getInvalidFields()]),n}),failedFields:t}}validateFormScrollToFirstFailedField(e){const{isValid:t,failedFields:a}=this.validateFormIncludeSectionFailedFields(e);if(t)return!0;const r=a.length>0?a[0].instance:null;return r&&r.goto&&r.goto(),!1}setSectionInstance(e,t){e?this.sectionInstances.set(t,e):this.sectionInstances.has(t)&&this.sectionInstances.delete(t)}getFormId(){return this.props.id}getFormBuilderId(e){return"".concat(this.props.id,"-").concat(e)}render(){const e=this.props,{formFoundation:t,id:a,classes:r,isFormInReduxStore:o}=e,i=Object(_e.a)(e,["formFoundation","id","classes","isFormInReduxStore"]),s=Array.from(t.sections.entries()).map(e=>e[1]).map(e=>i.formHorizontal?this.renderHorizontal(e,i):this.renderVertical(e,i,r));return n.a.createElement(n.a.Fragment,null,o?s:U.a.error(Object(B.c)('In order for the component to render you must to add a form id in the redux store. The right reducer to do this is called "forms".')({method:"D2Form.component"})))}}const Ch=Object(ge.withStyles)(()=>({containerCustomForm:{paddingTop:10,paddingBottom:10}}))(e=>{const{formRef:t}=e,a=Object(_e.a)(e,["formRef"]);return n.a.createElement(Sh,Object.assign({ref:e=>{t&&t(e)}},a))}),Ih=Object(jr.compose)(Object(an.c)((e,t)=>{const{forms:a}=e;return{isFormInReduxStore:!!a[t.id]}},()=>({})),e=>Object(an.c)(mn,hn)(un(e)))(Ch),wh="AddFormData",Th="RemoveFormData";function Nh(e,t={}){return H(wh)({formValues:t,formId:e})}const _h="CompleteDataEntryEvent",Ah="CompleteDataEntryEventError",Rh="SaveDataEntryEvent",kh="SaveValidationFailedForDataEntry",jh="SaveAbortedForDataEntry",Ph="UpdateDataEntryField",Dh="UpdateDataEntryFormField",Fh="RulesExecutedPostUpdateFieldDataEntry",xh="AddDataEntryNote",Lh="RemoveDataEntryNote",Uh="SetCurrentDataEntry",Mh="StartRunRulesPostUpdateFieldDataEntry",Vh="RemoveDataEntryRelationship",Bh="AddDataEntryRelationship",Gh="DataEntryRelationshipAlreadyExists",Hh="LoadEditDataEntry",Wh=(e,t,a,r,n)=>H(Ph)({value:e,valueMeta:t,fieldId:a,dataEntryId:r,itemId:n}),Yh=(e,t,a)=>H(Mh)({dataEntryId:e,itemId:t,uid:a}),zh=(e,t,a)=>H(Fh)({dataEntryId:e,itemId:t,uid:a}),qh=(e,t,a)=>H(xh)({dataEntryId:e,itemId:t,note:a}),Kh=(e,t,a,r)=>H(Bh)({dataEntryId:e,itemId:t,relationship:a,newToEntity:r}),Xh=e=>H(Hh)(e),Jh=(e,{payload:{formId:t}})=>Object.keys(e).filter(e=>!e.includes(t)).reduce((t,a)=>Object(G.a)({},t,{[a]:e[a]}),{}),Zh=Object(Ur.b)({[wh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.formId]=r.formValues,a},[dh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return(a[r.formId]=Object(G.a)({},a[r.formId]))[r.elementId]=r.value,a},[dn]:(e,t)=>{const{formId:a,elementId:r,value:n}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{[r]:n})})},[Dh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return(a[r.formId]=Object(G.a)({},a[r.formId]))[r.elementId]=r.value,a},[Mm]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return(a[r.formId]=Object(G.a)({},a[r.formId]))[r.elementId]=r.value,a},[Um]:(e,t)=>{const a=t.payload.rulesEffects&&t.payload.rulesEffects[tn.effectActions.ASSIGN_VALUE];if(!a)return e;const r=t.payload;return Object(G.a)({},e,{[r.formId]:Object(G.a)({},e[r.formId],{},a)})},[Th]:Jh},"formsValues"),Qh=Object(Ur.b)({[wh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.formId;return Object.keys(a).filter(e=>e.startsWith(r)).forEach(e=>{a[e]={}}),a},[on]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.formBuilderId]=Object.keys(r.fieldsUI).reduce((e,t)=>(e[t]=Object(G.a)({},e[t],{},r.fieldsUI[t],{validatingMessage:null}),e),Object(G.a)({},a[r.formBuilderId])),a},[dh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;a[r.sectionId]=Object(G.a)({},a[r.sectionId]);const n=a[r.sectionId];return n[r.elementId]=Object(G.a)({},n[r.elementId],{},r.uiState,{modified:!0,validatingMessage:null}),a},[cn]:(e,t)=>{const{formBuilderId:a,elementId:r}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{[r]:Object(G.a)({},e[a]&&e[a][r],{loading:!0})})})},[dn]:(e,t)=>{const{uiState:a,formBuilderId:r,elementId:n}=t.payload;return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{[n]:Object(G.a)({},e[r]&&e[r][n],{},a,{modified:!0,validatingMessage:null,loading:!1})})})},[pn]:(e,t)=>{const{uiState:a,formBuilderId:r,elementId:n,errorMessage:o}=t.payload;return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{[n]:Object(G.a)({},e[r]&&e[r][n],{},a,{modified:!0,validatingMessage:null,loading:!1,warning:o})})})},[Dh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;a[r.formBuilderId]=Object(G.a)({},a[r.formBuilderId]);const n=a[r.formBuilderId];return n[r.elementId]=Object(G.a)({},n[r.elementId],{},r.uiState,{modified:!0,validatingMessage:null}),a},[kn]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;a[r.sectionId]=Object(G.a)({},a[r.sectionId]);const n=a[r.sectionId];return n[r.elementId]=Object(G.a)({},n[r.elementId],{},r.uiState),a},[sn]:(e,t)=>{const{fieldId:a,formBuilderId:r,message:n,fieldUIUpdates:o}=t.payload;return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{[a]:Object(G.a)({},e[r]&&e[r][a],{},o,{validatingMessage:n})})})},[Th]:Jh},"formsSectionsFieldsUI"),$h=Object(Ur.b)({[wh]:(e,t)=>{const a=t.payload,r=e[a.formId]&&e[a.formId].loadNr;let n;return n=r?999===r?1:r+1:1,Object(G.a)({},e,{[a.formId]:Object(G.a)({},e[a.formId],{loadNr:n})})},[Th]:Jh},"forms"),eg=Object(Ur.b)({[wh]:(e,t)=>Object(G.a)({},e,{[t.payload.formId]:{}}),[sp]:(e,t)=>{const{formId:a,elementId:r,searchText:n}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{[r]:Object(G.a)({},e[a][r],{orgUnitsLoading:!0,orgUnitsSearchText:n})})})},[lp]:(e,t)=>{const{formId:a,elementId:r,roots:n}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{[r]:Object(G.a)({},e[a][r],{orgUnitsLoading:!1,orgUnitsRoots:n})})})},[cp]:(e,t)=>{const{formId:a,elementId:r}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{[r]:Object(G.a)({},e[a][r],{orgUnitsLoading:!1})})})},[dp]:(e,t)=>{const{formId:a,elementId:r}=t.payload;return oe(pp(a,r),null),Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{[r]:Object(G.a)({},e[a][r],{orgUnitsLoading:!1,orgUnitsRoots:null,orgUnitsSearchText:null})})})},[Th]:Jh},"formsFieldsMisc"),tg="EnrollmentLoaded",ag="EnrollmentLoadFailed",rg="EditEventFromUrl",ng="EventFromUrlRetrievedForEditEvent",og="EventFromUrlCouldNotBeRetrievedForEditEvent",ig="OrgUnitRetrievedForEditEventOnUrlUpdate",sg="OrgUnitRetrievalFailedForEditEventOnUrlUpdate",lg="StartOpenEventForEditInDataEntry",cg="AddEventNote",dg="RemoveEventNote",pg=e=>H(og)(e),ug=(e,t)=>H(cg)({eventId:e,note:t}),mg=(e,t)=>H(dg)({eventId:e,noteClientId:t}),hg="ViewEventFromUrl",gg="EventFromUrlRetrievedForViewEvent",yg="EventFromUrlCouldNotBeRetrievedForViewEvent",vg="OrgUnitRetrievedForViewEventOnUrlUpdate",bg="OrgUnitRetrievalFailedForViewEventOnUrlUpdate",Eg="StartOpenEventForView",fg="AddEventNoteForViewEvent",Og="RemoveEventNoteForViewEvent",Sg="UpdateWorkingListOnBackToMainPageForViewEvent",Cg="NoWorkingListUpdateNeededOnBackToMainPageForViewEvent",Ig="StartGoBackToMainPageForViewEvent",wg="ViewEventOpenAddRelationship",Tg="UpdateEventContainerForViewEvent",Ng="UpdateWorkingListPendingOnBackToMainPageForViewEvent",_g="OpenViewEventPageFailed",Ag="InitializeWorkingListsOnBackToMainPage",Rg=e=>H(yg)({error:e}),kg=()=>H(Cg)(),jg=()=>H(Ag)(),Pg=(e,t)=>H(Tg)({eventContainer:e,orgUnit:t}),Dg=e=>H(_g)({error:e}),Fg=Object(Ur.b)({[tg]:(e,t)=>{const a=t.payload;if(!a||0===a.length)return e;const r=a.reduce((e,t)=>(e[t.id]=t.event,e),{});return Object(G.a)({},e,{},r)},[Rh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.eventId]=r.event,a},[_h]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.eventId]=r.event,a},[ng]:(e,t)=>{const a=t.payload.eventContainer.event;return Object(G.a)({},e,{[a.eventId]:a})},[gg]:(e,t)=>{const a=t.payload.eventContainer.event;return Object(G.a)({},e,{[a.eventId]:a})},[fg]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.eventId]&&(a[r.eventId].notes=[...e[r.eventId].notes,r.note]),a},[Og]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.eventId]&&(a[r.eventId].notes=e[r.eventId].notes.filter(e=>e.clientId!==r.noteClientId)),a}},"events",{}),xg=Object(Ur.b)({[tg]:(e,t)=>{const a=t.payload;if(!a||0===a.length)return e;const r=a.reduce((e,t)=>(e[t.id]=t.values,e),{});return Object(G.a)({},e,{},r)},[_h]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.eventId]=t.payload.clientValues,a},[Rh]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.eventId]=t.payload.clientValues,a}},"eventsValues",{});var Lg="top",Ug="bottom";function Mg(e,t){return"".concat(e,"-").concat(t)}class Vg extends r.Component{constructor(...e){super(...e),this.isNearTop=()=>window.pageYOffset+this.props.offsetTop>this.stickyContainer.parentElement.offsetTop,this.isAtBottomOfContainer=()=>{const e=this.stickyContainer.getBoundingClientRect(),t=this.stickyContainer.parentElement.getBoundingClientRect();return t.bottom<=e.bottom&&this.stickyContainer.offsetTop-Math.abs(t.top)<this.props.offsetTop},this.stickyDisabled=()=>{const e=document.documentElement?document.documentElement.clientWidth:0;return(document.documentElement?document.documentElement.clientHeight:0)-(this.props.offsetTop+this.stickyContainer.offsetHeight)<0||e<this.props.minViewpointWidth},this.setStickyContainerInstance=e=>{this.stickyContainer=e,this.setSticky()},this.getRightMargin=()=>{const e=this.stickyContainer.parentElement;return(document.documentElement?document.documentElement.clientWidth:0)-(this.stickyContainer.parentElement.offsetLeft+e.offsetWidth)},this.setSticky=()=>{const e=this.props.classes;return!this.stickyContainer||!this.stickyDisabled()&&this.isNearTop()?this.stickyContainer&&this.isAtBottomOfContainer()?(this.stickyContainer.className=e.stickyContainerAtBottom,this.stickyContainer.style.top="initial",void(this.stickyContainer.style.marginRight="initial")):void(this.stickyContainer&&(this.stickyContainer.className=e.stickyContainerFixed,this.stickyContainer.style.top="".concat(this.props.offsetTop,"px"),this.stickyContainer.style.width="".concat(this.stickyContainer.parentElement.clientWidth,"px"),this.stickyContainer.style.marginRight="".concat(this.getRightMargin(),"px"))):(this.stickyContainer.className=e.stickyContainerAbsolute,this.stickyContainer.style.top="initial",this.stickyContainer.style.marginRight="initial",void(this.stickyContainer.style.width="initial"))},this.onResize=()=>{this.resizeTimer&&window.clearTimeout(this.resizeTimer),this.resizeTimer=window.setTimeout(this.setSticky,250)},this.onScroll=()=>{this.scrollTimer&&window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(this.setSticky,10)}}componentDidMount(){window.addEventListener("resize",this.onResize),window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll)}render(){const{classes:e,children:t,containerClass:a}=this.props;return r.createElement("div",{className:a||e.container},r.createElement("div",{ref:e=>{this.setStickyContainerInstance(e)}},t))}}Vg.defaultProps={offsetTop:0,minViewpointWidth:0};var Bg=Object(ge.withStyles)(()=>({container:{position:"relative"},stickyContainerAbsolute:{position:"static"},stickyContainerFixed:{position:"fixed"},stickyContainerAtBottom:{position:"absolute",bottom:0}}))(Vg);class Gg extends r.Component{constructor(...e){super(...e),this.handleUpdateField=(...e)=>{this.props.onUpdateFieldInner(this.props.id,this.props.itemId,this.props.onUpdateFormField,...e)},this.getClasses=()=>{const{classes:e,formHorizontal:t}=this.props;return t?{formInnerContainer:e.horizontalFormInnerContainer}:{dataEntryContainer:e.verticalDataEntryContainer,formContainer:e.verticalFormContainer,formInnerContainer:e.verticalFormInnerContainer}},this.handleUpdateFieldAsync=(...e)=>{this.props.onUpdateFormFieldAsync(...e,this.props.id,this.props.itemId)},this.renderDataEntryFieldsByPlacement=e=>{const t=this.props.fields||[],a=this.props.formHorizontal?(e=>t=>t.placement===e)(e):(e=>t=>t.placement===e&&!t.section)(e),r=t?t.filter(a).map(e=>e.field):[];return this.props.formHorizontal?r:[...r,...this.getFieldSectionsWithPlacement(e)]},this.renderD2Form=()=>{const e=this.props,{id:t,classes:a,itemId:n,completeButton:o,mainButton:i,cancelButton:s,notes:l,completionAttempted:c,saveAttempted:d,fields:p,dataEntrySections:u,onUpdateDataEntryField:m,onUpdateFormField:h,onUpdateFieldInner:g,onUpdateFormFieldAsync:y,dataEntryOutputs:v,onAddNote:b,onOpenAddRelationship:E,dataEntryFieldRef:f}=e,O=Object(_e.a)(e,["id","classes","itemId","completeButton","mainButton","cancelButton","notes","completionAttempted","saveAttempted","fields","dataEntrySections","onUpdateDataEntryField","onUpdateFormField","onUpdateFieldInner","onUpdateFormFieldAsync","dataEntryOutputs","onAddNote","onOpenAddRelationship","dataEntryFieldRef"]),S=r.createElement(Ih,Object.assign({id:Mg(t,n),validationAttempted:c||d,onUpdateField:this.handleUpdateField,onUpdateFieldAsync:this.handleUpdateFieldAsync},O));return this.props.formHorizontal?S:r.createElement("div",{className:a.d2FormContainer},S)}}getFieldSectionsWithPlacement(e){const t=this.props.fields||[],a=this.props.dataEntrySections||{};return this.props.dataEntrySections?Object.keys(this.props.dataEntrySections).reduce((n,o)=>{const i=a[o];if(i.placement===e){const e=t?t.filter(e=>e.section===o).map((e,t)=>r.createElement(r.Fragment,{key:t},e.field)):null;e&&e.length>0&&n.push(r.createElement("div",{key:o,className:this.props.classes.dataEntryFieldSectionContainer},r.createElement(On,{header:r.createElement(Tn,{title:i.name})},e)))}return n},[]):[]}render(){const{classes:e,itemId:t,formFoundation:a,completeButton:n,mainButton:o,cancelButton:i,notes:s,dataEntryOutputs:l}=this.props;if(!t)return r.createElement("div",null,Gg.errorMessages.NO_ITEM_SELECTED);if(!a)return r.createElement("div",null,Gg.errorMessages.FORM_FOUNDATION_MISSING);const c=this.getClasses();return r.createElement("div",{className:c.container},r.createElement("div",{className:c.dataEntryContainer},r.createElement("div",{className:c.formContainer},r.createElement("div",{className:c.formInnerContainer},this.renderDataEntryFieldsByPlacement(Lg),this.renderD2Form(),this.renderDataEntryFieldsByPlacement(Ug),s&&r.createElement("div",{className:e.notes},s))),!this.props.formHorizontal&&l?r.createElement(Bg,{offsetTop:50,minViewpointWidth:769,containerClass:e.stickyOnScroll},r.createElement("div",null,l)):r.createElement("div",{className:e.verticalOutputsContainer},l)),r.createElement("div",{className:e.footerBar},n?r.createElement("div",{className:e.button},n):null,o?r.createElement("div",{className:e.button},o):null,i?r.createElement("div",{className:e.button},i):null))}}Gg.errorMessages={NO_ITEM_SELECTED:"No item selected",FORM_FOUNDATION_MISSING:"form foundation missing. see log for details"};var Hg=Object(ge.withStyles)(e=>({loadingContainer:{marginTop:12},d2FormContainer:{paddingTop:10,paddingBottom:10},footerBar:{display:"flex"},button:{marginTop:e.typography.pxToRem(2),paddingRight:2*e.spacing.unit},horizontalFormInnerContainer:{display:"flex",flexWrap:"wrap",alignItems:"flex-start"},verticalFormContainer:{flexGrow:10,maxWidth:"100%",paddingTop:e.typography.pxToRem(10)},verticalFormInnerContainer:{maxWidth:e.typography.pxToRem(892)},verticalDataEntryContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"},verticalContainer:{display:"flex",flexDirection:"column",flexWrap:"wrap"},stickyOnScroll:{position:"relative",flexGrow:1,width:e.typography.pxToRem(300),margin:e.typography.pxToRem(10),marginRight:0},verticalOutputsContainer:{marginBottom:e.typography.pxToRem(10)},dataEntryFieldSectionContainer:{paddingTop:e.typography.pxToRem(10),paddingBottom:e.typography.pxToRem(10)}}))(Gg);var Wg=Object(jr.compose)(Object(an.c)((e,t)=>({itemId:e.dataEntries[t.id]&&e.dataEntries[t.id].itemId,ready:!!e.dataEntries[t.id]}),e=>({onUpdateFieldInner:(t,a,r,n,o,i,s,l,c)=>{const d=((e,t,a,r,n,o,i,s)=>H(Dh)({value:e,uiState:t,formId:n,formBuilderId:r,elementId:a,dataEntryId:o,itemId:i,updateCompleteUid:s}))(n,o,i,s,l,t,a,c);r?r(d):e(d)}}),null),ac(()=>({height:"350px"})))(Hg);function Yg(e,t){if(!t)return null;let a;return t.some(t=>{const r=(0,t.validator)(e);return!(!0===r||r&&r.valid)&&(a=r&&r.message||t.message,!0)})?a||i.a.t("validation failed"):null}class zg extends r.Component{constructor(...e){super(...e),this.handleSet=(e,t)=>{const{validatorContainers:a,onUpdateFieldInner:r,onUpdateField:n}=this.props,o=Yg(e,a);r(e,{isValid:!o,validationError:o,touched:!t||null==t.touched||t.touched},this.props.propName,this.props.dataEntryId,this.props.itemId,n)}}validateAndScrollToIfFailed(){const e=this.props.valueMeta&&this.props.valueMeta.isValid;return e||this.goto(),e}goto(){if(this.gotoInstance){this.gotoInstance.scrollIntoView();const e=window.scrollY;e&&window.scroll(0,e-48)}}render(){const e=this.props,{completionAttempted:t,saveAttempted:a,Component:n,validatorContainers:o,propName:i,onUpdateField:s,onUpdateFieldInner:l,valueMeta:c={},itemId:d,dataEntryId:p,componentProps:u}=e,m=Object(_e.a)(e,["completionAttempted","saveAttempted","Component","validatorContainers","propName","onUpdateField","onUpdateFieldInner","valueMeta","itemId","dataEntryId","componentProps"]),{isValid:h,type:g}=c,y=Object(_e.a)(c,["isValid","type"]);return r.createElement("div",{ref:e=>{this.gotoInstance=e},key:i,"data-test":"dhis2-capture-dataentry-field-".concat(i)},r.createElement(n,Object.assign({onBlur:this.handleSet,validationAttempted:!(!t&&!a)},y,m,u)))}}var qg=Object(an.c)((e,t)=>{const a=t.propName,r=e.dataEntries[t.dataEntryId].itemId,n=Mg(t.dataEntryId,r);return{value:e.dataEntriesFieldsValue[n][a],valueMeta:e.dataEntriesFieldsUI[n][a],itemId:r,propName:a}},e=>({onUpdateFieldInner:(t,a,r,n,o,i)=>{const s=Wh(t,a,r,n,o);i?i(s,{value:t,valueMeta:a,fieldId:r,dataEntryId:n,itemId:o}):e(Wh(t,a,r,n,o))}}),null,{forwardRef:!0})(zg);const Kg=Object(Qd.createSelectorCreator)(Qd.defaultMemoize,(e,t)=>!!Object.keys(t).every(a=>t[a]===e[a])&&Object.keys(e).every(a=>e[a]===t[a])),Xg=e=>e||{},Jg=(e,t)=>{class a extends r.Component{constructor(t){super(t),this.handleRef=t=>{if(this.props.dataEntryFieldRef){const{getPropName:a}=e,r=a(this.props);if(!r)return void U.a.error(Object(B.c)("data entry field needs a key, but no propName was specified")({}));this.props.dataEntryFieldRef(t,r)}},this.reselectComponentProps=Kg(Xg,e=>e)}getFieldElement(){const{id:t,completionAttempted:a,saveAttempted:n,onUpdateDataEntryField:o}=this.props,{getComponent:i,getComponentProps:s,getValidatorContainers:l,getPropName:c}=e,d=i(this.props),p=this.reselectComponentProps(s&&s(this.props)),u=l&&l(this.props)||[];return r.createElement(qg,{ref:this.handleRef,dataEntryId:t,completionAttempted:a,saveAttempted:n,Component:d,validatorContainers:u,propName:c(this.props),onUpdateField:o,componentProps:p})}getFields(){const t=this.props.fields,{getMeta:a,getIsHidden:r}=e,n=a&&a(this.props);if(r&&r(this.props))return t?[...t]:[];const o={field:this.getFieldElement(),placement:n&&n.placement||Lg,section:n&&n.section};return t?[...t,o]:[o]}render(){const e=this.props,{fields:a}=e,n=Object(_e.a)(e,["fields"]);return r.createElement("div",null,r.createElement(t,Object.assign({fields:this.getFields()},n)))}}return a};var Zg=e=>t=>Object(an.c)((e=>(t,a)=>{let r;const{getPassOnFieldData:n,getPropName:o}=e;if(n&&n(a)){const e=o(a),n=t.dataEntries[a.id].itemId,i=Mg(a.id,n),s=t.dataEntriesFieldsValue[i][e];r={["".concat(e,"DataEntryFieldValue")]:s}}return Object(G.a)({},r)})(e),()=>({}))(Jg(e,t));const Qg=(e,t)=>class extends r.Component{constructor(a){super(a);const r=e.isApplicable(this.props);this.Component=r?Zg(e)(t):t}render(){const e=this.Component;return r.createElement(e,this.props)}};var $g=e=>t=>Qg(e,t),ey=a(246),ty=a(265),ay=a.n(ty),ry=a(315),ny=a.n(ry);var oy=e=>{const{dropDownItems:t}=e,a=Object(_e.a)(e,["dropDownItems"]);return r.createElement(bl.p,Object.assign({component:r.createElement(bl.g,null,t.map(e=>r.createElement(bl.h,{key:nn()(),label:e.text,value:e.text,onClick:e.onClick})))},a))};class iy extends r.Component{render(){const{open:e,header:t,text:a,confirmText:r,onConfirm:o,cancelText:i,onCancel:s}=this.props;return n.a.createElement(Ce.a,{open:e,onClose:s},n.a.createElement(Xl.a,null,t),n.a.createElement(we.a,null,n.a.createElement(ny.a,null,a)),n.a.createElement(ay.a,null,n.a.createElement(Bd,{onClick:s,secondary:!0},i),n.a.createElement(Bd,{onClick:o,primary:!0},r)))}}var sy=iy,ly=(e,t)=>{if(Object.keys(e.formsSectionsFieldsUI).filter(e=>e.startsWith(t)).reduce((t,a)=>[...t,...Object.keys(e.formsSectionsFieldsUI[a]).map(t=>e.formsSectionsFieldsUI[a][t])],[]).some(e=>e.modified))return!0;const a=e.dataEntriesFieldsUI[t];return!!a&&Object.keys(a).some(e=>a[e].modified)};const cy=e=>class extends r.Component{constructor(e){super(e),this.handleDialogConfirm=()=>{this.setState({dialogOpen:!1}),this.unblock()},this.handleDialogCancel=()=>{this.setState({dialogOpen:!1})},this.state={dialogOpen:!1}}componentDidMount(){const{history:e}=this.props;this.unblock=e.block((e,t)=>{const{dataEntryHasChanges:a}=this.props;return"POP"!==t||!a||(this.setState({dialogOpen:!0}),!1)})}componentWillUnmount(){this.unblock&&this.unblock()}render(){const t=this.props,{dataEntryHasChanges:a,history:n,location:o,match:s,staticContext:l}=t,c=Object(_e.a)(t,["dataEntryHasChanges","history","location","match","staticContext"]);return r.createElement(r.Fragment,null,r.createElement(e,c),r.createElement(sy,{header:i.a.t("Unsaved changes"),text:i.a.t("Leaving this page will discard the changes you made to this event."),confirmText:i.a.t("Yes, discard"),cancelText:i.a.t("No, stay here"),onConfirm:this.handleDialogConfirm,open:this.state.dialogOpen,onCancel:this.handleDialogCancel}))}},dy=(e,t)=>{const a=e.dataEntries&&e.dataEntries[t.id]&&e.dataEntries[t.id].itemId,r=Mg(t.id,a);return{dataEntryHasChanges:ly(e,r)}},py=()=>({});var uy=()=>e=>Object(an.c)(dy,py)(Object(ey.g)(cy(e)));class my extends r.Component{constructor(e){super(e),this.handleCancel=()=>{this.props.dataEntryHasChanges?this.setState({dialogOpen:!0}):this.props.onCancel()},this.handleCancelDiscard=()=>{this.setState({dialogOpen:!1})},this.state={dialogOpen:!1}}render(){return r.createElement("div",null,r.createElement(Bd,{onClick:this.handleCancel,secondary:!0},i.a.t("Cancel")),r.createElement(sy,{header:i.a.t("Unsaved changes"),text:i.a.t("Leaving this page will discard the changes you made to this event."),confirmText:i.a.t("Yes, discard"),cancelText:i.a.t("No, stay here"),onConfirm:this.props.onCancel,open:this.state.dialogOpen,onCancel:this.handleCancelDiscard}))}}var hy=Object(an.c)((e,t)=>{const a=e.dataEntries&&e.dataEntries[t.id]&&e.dataEntries[t.id].itemId,r=Mg(t.id,a);return{dataEntryHasChanges:!!ly(e,r)}},()=>({}),null,{forwardRef:!0})(my);const gy=(e,t)=>class extends r.Component{constructor(...e){super(...e),this.getWrappedInstance=()=>this.innerInstance}render(){const a=this.props,{onCancel:n,cancelButtonRef:o}=a,i=Object(_e.a)(a,["onCancel","cancelButtonRef"]),s=t&&t(this.props)||{};return r.createElement(e,Object.assign({ref:e=>{this.innerInstance=e},cancelButton:r.createElement(hy,{id:this.props.id,onCancel:n,options:s})},i))}};var yy=e=>t=>gy(t,e);class vy extends r.Component{static getItemWithName(e,t){return r.createElement(r.Fragment,null,e,": ",t)}static getItemWithoutName(e){return r.createElement(r.Fragment,null,e)}getContents(){const{warnings:e,errors:t,classes:a}=this.props,n=e.map(e=>r.createElement("li",{key:e.key},e.name?vy.getItemWithName(e.name,e.warning):vy.getItemWithoutName(e.warning))),o=t.map(e=>r.createElement("li",{key:e.key},e.name?vy.getItemWithName(e.name,e.error):vy.getItemWithoutName(e.error)));return r.createElement("div",null,r.createElement("div",null,o.length>1?i.a.t("The following errors were found:"):i.a.t("The following error was found:")),r.createElement("div",{className:a.errors},o),r.createElement("div",{className:a.warningsLabel},n.length>1?i.a.t("The following warnings were found:"):i.a.t("The following warning was found:")),r.createElement("div",{className:a.warnings},n))}getButtons(){const{onAbort:e,onSave:t,saveEnabled:a,classes:n}=this.props;return r.createElement("div",{style:{margin:"0 20px 12px 20px"}},r.createElement(bl.a,{onClick:e,color:"primary"},i.a.t("Back to form")),a?r.createElement(bl.a,{onClick:t,primary:!0,initialFocus:!0,className:n.marginLeft},i.a.t("Save anyway")):null)}render(){return r.createElement(r.Fragment,null,r.createElement(Xl.a,{id:"save-dialog-errors-and-warnings-title"},i.a.t("Validation errors and warnings")),r.createElement(we.a,null,r.createElement(ny.a,null,this.getContents())),r.createElement(ay.a,null,this.getButtons()))}}var by=Object(ge.withStyles)(e=>({errors:{border:"1px solid ".concat(e.palette.grey.light),borderRadius:e.typography.pxToRem(4),padding:5},warningsLabel:{paddingTop:20},warnings:{border:"1px solid ".concat(e.palette.grey.light),borderRadius:e.typography.pxToRem(4),padding:5},marginLeft:{marginLeft:8}}))(vy);class Ey extends r.Component{static getItemWithName(e,t){return r.createElement(r.Fragment,null,e,": ",t)}static getItemWithoutName(e){return r.createElement(r.Fragment,null,e)}getContents(){const{errors:e}=this.props;return e.map(e=>r.createElement("li",{key:e.key},e.name?Ey.getItemWithName(e.name,e.error):Ey.getItemWithoutName(e.error)))}getButtons(){const{onAbort:e,onSave:t,saveEnabled:a,classes:n}=this.props;return r.createElement("div",{style:{margin:"0 20px 12px 20px"}},r.createElement(bl.a,{onClick:e,color:"primary"},i.a.t("Back to form")),a?r.createElement(bl.a,{onClick:t,primary:!0,initialFocus:!0,className:n.marginLeft},i.a.t("Save anyway")):null)}render(){return r.createElement(r.Fragment,null,r.createElement(Xl.a,{id:"save-dialog-errors-title"},i.a.t("Validation errors")),r.createElement(we.a,null,r.createElement(ny.a,null,this.getContents())),r.createElement(ay.a,null,this.getButtons()))}}var fy=Object(ge.withStyles)(()=>({marginLeft:{marginLeft:8}}))(Ey);class Oy extends r.Component{static getItemWithName(e,t){return r.createElement(r.Fragment,null,e,": ",t)}static getItemWithoutName(e){return r.createElement(r.Fragment,null,e)}getContents(){const{warnings:e}=this.props;return e.map(e=>r.createElement("li",{key:e.key},e.name?Oy.getItemWithName(e.name,e.warning):Oy.getItemWithoutName(e.warning)))}render(){const{onAbort:e,onSave:t,classes:a}=this.props;return r.createElement(r.Fragment,null,r.createElement(Xl.a,{id:"save-dialog-errors-and-warnings-title"},i.a.t("Validation warnings")),r.createElement(we.a,null,r.createElement(ny.a,null,this.getContents())),r.createElement(ay.a,null,r.createElement("div",{style:{margin:"0 20px 12px 20px"}},r.createElement(bl.a,{onClick:e,color:"primary"},i.a.t("Back to form")),r.createElement(bl.a,{onClick:t,primary:!0,initialFocus:!0,className:a.marginLeft},i.a.t("Save anyway")))))}}var Sy=Object(ge.withStyles)(()=>({marginLeft:{marginLeft:8}}))(Oy);function Cy(e,t){return t===Am.a.NONE||t===Am.a.ON_COMPLETE&&!e}var Iy=e=>{const{open:t,warnings:a,errors:n,isCompleting:o,validationStrategy:i}=e,s=Object(_e.a)(e,["open","warnings","errors","isCompleting","validationStrategy"]);return t?a&&a.length>0&&n&&n.length>0?r.createElement(by,Object.assign({errors:n,warnings:a,saveEnabled:Cy(o,i)},s)):n&&n.length>0?r.createElement(fy,Object.assign({errors:n,saveEnabled:Cy(o,i)},s)):r.createElement(Sy,Object.assign({warnings:a},s)):null};const wy=(e,t,a)=>a.foundation,Ty=(e,t,a)=>e.rulesEffectsMessages[a.key],Ny=(e,t,a)=>e.rulesEffectsGeneralWarnings[a.key]?e.rulesEffectsGeneralWarnings[a.key].warningOnComplete:void 0,_y=(e,t,a)=>e.rulesEffectsGeneralErrors[a.key]?e.rulesEffectsGeneralErrors[a.key].errorOnComplete:void 0,Ay=(e,t,a,n)=>{class o extends r.Component{constructor(e){super(e),this.handleSaveAttempt=e=>{this.props.inProgressList.length>0?this.setState({waitForPromisesDialogOpen:!0,saveType:e}):this.validateAndSave(e)},this.handleAbortDialog=()=>{this.props.onSaveAbort(this.props.itemId,this.props.id),this.setState({messagesDialogOpen:!1})},this.handleSaveDialog=()=>{this.handleSave(this.state.saveType),this.setState({messagesDialogOpen:!1})},this.handleSave=e=>{const{onSave:t,itemId:a,id:r,calculatedFoundation:n}=this.props;t(a,r,n,e)},this.getDialogWaitForUploadContents=()=>r.createElement("div",null,i.a.t("Some operations are still runnning. Please wait..")),this.setFormInstance=e=>{this.formInstance=e},this.setDataEntryFieldInstance=(e,t)=>{this.dataEntryFieldInstances.set(t,e)},this.dataEntryFieldInstances=new Map,this.state={messagesDialogOpen:!1,waitForPromisesDialogOpen:!1}}componentDidUpdate(e){this.state.waitForPromisesDialogOpen&&0===this.props.inProgressList.length&&e.inProgressList.length>0&&(this.validateAndSave(this.state.saveType),this.setState({waitForPromisesDialogOpen:!1,saveType:null}))}getDataEntryFieldInstances(){return Array.from(this.dataEntryFieldInstances.entries()).map(e=>e[1])}validateDataEntryFields(){const e=this.getDataEntryFieldInstances();let t=!0,a=0;for(;e[a]&&t;)t=e[a].validateAndScrollToIfFailed(),a+=1;return t}showMessagesPopup(e){this.setState({messagesDialogOpen:!0,saveType:e})}validateGeneralErrorsFromRules(e){const t=this.props.calculatedFoundation.validationStrategy;return t===Am.a.NONE||(t===Am.a.ON_COMPLETE&&!e||!this.props.hasGeneralErrors)}validateForm(){const e=this.formInstance;if(!e)return U.a.error(Object(B.c)(o.errorMessages.FORM_INSTANCE_NOT_FOUND)({SaveButtonBuilder:this})),{error:!0,isValid:!1};const a=!(!t||!t(this.props));return{isValid:e.validateFormScrollToFirstFailedField({isCompleting:a})&&this.validateGeneralErrorsFromRules(a),error:!1}}validateAndSave(e){if(!this.validateDataEntryFields())return void this.props.onSaveValidationFailed(this.props.itemId,this.props.id);const{error:t,isValid:a}=this.validateForm();t||this.handleSaveValidationOutcome(e,a)}handleSaveValidationOutcome(e,t){const{onSaveValidationFailed:a,itemId:r,id:n,warnings:o,errors:i}=this.props;t?i&&i.length>0||o&&o.length>0?this.showMessagesPopup(e):this.handleSave(e):a(r,n)}render(){const n=this.props,{itemId:o,onSave:s,onSaveValidationFailed:l,onSaveAbort:c,warnings:d,errors:p,hasGeneralErrors:u,inProgressList:m,calculatedFoundation:h}=n,g=Object(_e.a)(n,["itemId","onSave","onSaveValidationFailed","onSaveAbort","warnings","errors","hasGeneralErrors","inProgressList","calculatedFoundation"]),y=a?a(g):g;return this.isCompleting=!(!t||!t(this.props)),r.createElement("div",null,r.createElement(e,Object.assign({formRef:this.setFormInstance,dataEntryFieldRef:this.setDataEntryFieldInstance,onSave:this.handleSaveAttempt},y)),r.createElement(Ce.a,{open:this.state.messagesDialogOpen,onClose:this.handleAbortDialog},r.createElement(Iy,{open:this.state.messagesDialogOpen,onAbort:this.handleAbortDialog,onSave:this.handleSaveDialog,errors:p,warnings:d,isCompleting:this.isCompleting,validationStrategy:h.validationStrategy})),r.createElement(Ce.a,{open:this.state.waitForPromisesDialogOpen},r.createElement(Xl.a,null,i.a.t("Operations running")),r.createElement(we.a,null,r.createElement(ny.a,null,this.getDialogWaitForUploadContents()))))}}o.errorMessages={INNER_INSTANCE_NOT_FOUND:"Inner instance not found",FORM_INSTANCE_NOT_FOUND:"Form instance not found"};return Object(an.c)(()=>{const e=Object(Qd.createSelector)(Ty,Ny,wy,(e,t,a)=>(e=e||{},t=t||[],[...Object.keys(e).map(t=>{const r=e[t][Xm.WARNING_ON_COMPLETE];if(!r)return null;const n=a.getElement(t);return n?{key:t,name:n.name,warning:r}:null}).filter(e=>e),...t.map(e=>({key:e.id,name:null,warning:e.message}))])),t=Object(Qd.createSelector)(Ty,_y,wy,(e,t,a)=>(e=e||{},t=t||[],[...Object.keys(e).map(t=>{const r=e[t][Xm.ERROR_ON_COMPLETE];if(!r)return null;const n=a.getElement(t);return n?{key:t,name:n.name,error:r}:null}).filter(e=>e),...t.map(e=>({key:e.id,name:null,error:e.message}))]));return(a,r)=>{const o=a.dataEntries&&a.dataEntries[r.id]&&a.dataEntries[r.id].itemId,i=Mg(r.id,o),s=a.rulesEffectsGeneralErrors[i]&&a.rulesEffectsGeneralErrors[i].error,l=n?n(r):r.formFoundation;return{itemId:o,saveAttempted:a.dataEntriesUI&&a.dataEntriesUI[i]&&a.dataEntriesUI[i].saveAttempted,warnings:e(a,r,{key:i,foundation:l}),errors:t(a,r,{key:i,foundation:l}),hasGeneralErrors:s&&s.length>0,inProgressList:a.dataEntriesInProgressList[i]||[],calculatedFoundation:l}}},e=>({onSaveValidationFailed:(t,a)=>{e(((e,t)=>H(kh)({itemId:e,id:t}))(t,a))},onSaveAbort:(t,a)=>{e(((e,t)=>H(jh)({itemId:e,id:t}))(t,a))}}))(o)};var Ry=e=>t=>Ay(t,e&&e.onIsCompleting,e&&e.onFilterProps,e&&e.onGetFormFoundation),ky=a(361),jy=a.n(ky),Py=a(353),Dy=a.n(Py),Fy=a(354),xy=a.n(Fy),Ly=a(264),Uy=a.n(Ly);const My=(e,t)=>class extends r.Component{constructor(a){super(a),this.getDataEntryOutputs=()=>{const e=this.props.dataEntryOutputs,t=this.getOutput(e?e.length:0);return e?[...e,t]:[t]},this.getOutput=e=>r.createElement("div",{style:{marginTop:10},key:e},r.createElement(t,Object.assign({key:e},this.props))),this.render=()=>{const t=this.props,{dataEntryOutputs:a}=t,n=Object(_e.a)(t,["dataEntryOutputs"]);return r.createElement("div",null,r.createElement(e,Object.assign({ref:e=>{this.innerInstance=e},dataEntryOutputs:this.getDataEntryOutputs()},n)))},this.name="DataEntryOutputBuilder"}};var Vy=()=>(e,t)=>My(e,t);const By=e=>({listItem:{display:"flex",backgroundColor:e.palette.grey[100],paddingLeft:e.typography.pxToRem(10),marginTop:e.typography.pxToRem(8)},keyValuePairKey:{flexGrow:1},card:{padding:e.typography.pxToRem(10),borderRadius:e.typography.pxToRem(5)}}),Gy=()=>class extends r.Component{constructor(...e){super(...e),this.renderFeedbackItems=(e,t)=>r.createElement("div",null,e.displayTexts&&e.displayTexts.map(e=>r.createElement(xy.a,{key:e.id,className:t.listItem,button:!1},r.createElement(Uy.a,{variant:"body1"},e.message))),e.displayKeyValuePairs&&e.displayKeyValuePairs.map(e=>r.createElement(xy.a,{key:e.id,className:t.listItem,button:!1},r.createElement(Uy.a,{variant:"body1",className:t.keyValuePairKey},e.key),r.createElement(Uy.a,{variant:"body2"},e.value)))),this.render=()=>{const{feedbackItems:e,classes:t}=this.props,a=e&&(e.displayTexts||e.displayKeyValuePairs);return r.createElement("div",null,a&&r.createElement(jy.a,{className:t.card},i.a.t("Feedback"),r.createElement(Dy.a,{dense:!0},e&&this.renderFeedbackItems(e,t))))}}},Hy=(e,t)=>{const a=e.dataEntries[t.id].itemId,r=Mg(t.id,a);return{feedbackItems:e.rulesEffectsFeedback&&e.rulesEffectsFeedback[r]?e.rulesEffectsFeedback[r]:null}},Wy=()=>({});var Yy=a(683),zy=a.n(Yy);const qy=e=>({list:{margin:0},listItem:{paddingLeft:e.typography.pxToRem(10),marginTop:e.typography.pxToRem(8)},header:{display:"flex",alignItems:"center"},headerText:{marginLeft:e.typography.pxToRem(10)},card:{borderRadius:e.typography.pxToRem(5),padding:e.typography.pxToRem(10),backgroundColor:e.palette.warning[100]}}),Ky=()=>{var e,t;return t=e=class e extends r.Component{constructor(...t){super(...t),this.render=()=>{const{classes:t}=this.props,a=this.getVisibleWarningItems();return r.createElement("div",null,a&&a.length>0&&r.createElement(jy.a,{className:t.card},r.createElement("div",{className:t.header},r.createElement(zy.a,null),r.createElement("div",{className:t.headerText},i.a.t("Warnings"))),r.createElement("ul",{className:t.list},e.renderWarningItems(a,t))))}}getVisibleWarningItems(){const{warningItems:e,warningOnCompleteItems:t,saveAttempted:a}=this.props;if(a){return[...e||[],...t||[]]}return e||[]}},e.renderWarningItems=(e,t)=>r.createElement("div",null,e&&e.map(e=>r.createElement("li",{key:e.id,className:t.listItem},r.createElement(Uy.a,{variant:"body1"},e.message)))),t},Xy=(e,t)=>{const a=e.dataEntries[t.id].itemId,r=Mg(t.id,a);return{warningItems:e.rulesEffectsGeneralWarnings[r]?e.rulesEffectsGeneralWarnings[r].warning:null,warningOnCompleteItems:e.rulesEffectsGeneralWarnings[r]?e.rulesEffectsGeneralWarnings[r].warningOnComplete:null}},Jy=()=>({});var Zy=a(681),Qy=a.n(Zy);const $y=e=>({card:{padding:e.typography.pxToRem(10),backgroundColor:e.palette.error[100],borderRadius:e.typography.pxToRem(5)},list:{margin:0},listItem:{paddingLeft:e.typography.pxToRem(10),marginTop:e.typography.pxToRem(8)},header:{color:"#902c02",display:"flex",alignItems:"center"},headerText:{marginLeft:e.typography.pxToRem(10)}}),ev=()=>{var e,t;return t=e=class e extends r.Component{constructor(t){super(t),this.render=()=>{const{classes:t}=this.props,a=this.getVisibleErrorItems();return r.createElement("div",null,a&&a.length>0&&r.createElement(jy.a,{className:t.card},r.createElement("div",{className:t.header},r.createElement(Qy.a,null),r.createElement("div",{className:t.headerText},i.a.t("Errors"))),r.createElement("ul",{className:t.list},e.renderErrorItems(a,t))))},this.name="ErrorOutputBuilder"}getVisibleErrorItems(){const{errorItems:e,errorOnCompleteItems:t,saveAttempted:a}=this.props;if(a){return[...e||[],...t||[]]}return e||[]}},e.renderErrorItems=(e,t)=>r.createElement("div",null,e.map(e=>r.createElement("li",{key:e.id,className:t.listItem},r.createElement(Uy.a,{variant:"body1"},e.message)))),t},tv=(e,t)=>{const a=e.dataEntries[t.id].itemId,r=Mg(t.id,a);return{errorItems:e.rulesEffectsGeneralErrors[r]?e.rulesEffectsGeneralErrors[r].error:null,errorOnCompleteItems:e.rulesEffectsGeneralErrors[r]?e.rulesEffectsGeneralErrors[r].errorOnComplete:null}},av=()=>({});const rv=e=>({listItem:{display:"flex",backgroundColor:e.palette.grey[100],paddingLeft:e.typography.pxToRem(10),marginTop:e.typography.pxToRem(8)},keyValuePairKey:{flexGrow:1},card:{padding:e.typography.pxToRem(10),borderRadius:e.typography.pxToRem(5)}}),nv=()=>class extends r.Component{constructor(...e){super(...e),this.renderIndicatorItems=(e,t)=>r.createElement("div",null,e.displayTexts&&e.displayTexts.map(e=>r.createElement(xy.a,{key:e.id,className:t.listItem,button:!1},r.createElement(Uy.a,{variant:"body1"},e.message))),e.displayKeyValuePairs&&e.displayKeyValuePairs.map(e=>r.createElement(xy.a,{key:e.id,className:t.listItem,button:!1},r.createElement(Uy.a,{variant:"body1",className:t.keyValuePairKey},e.key),r.createElement(Uy.a,{variant:"body2"},e.value)))),this.render=()=>{const{indicatorItems:e,classes:t}=this.props,a=e&&(e.displayTexts||e.displayKeyValuePairs);return r.createElement("div",null,a&&r.createElement(jy.a,{className:t.card},i.a.t("Indicators"),r.createElement(Dy.a,{dense:!0},e&&this.renderIndicatorItems(e,t))))}}},ov=(e,t)=>{const a=e.dataEntries[t.id].itemId,r=Mg(t.id,a);return{indicatorItems:e.rulesEffectsIndicators&&e.rulesEffectsIndicators[r]?e.rulesEffectsIndicators[r]:null}},iv=()=>({});const sv={SEARCH_GROUP_RESULT_COUNT_RETRIVED:"SearchGroupResultCountRetrieved",SEARCH_GROUP_RESULT_COUNT_RETRIEVAL_FAILED:"SearchGroupResultCountRetrievalFailed",FILTER_SEARCH_GROUP_FOR_COUNT_SEARCH:"FilterSearchGroupForCountSearch",FILTER_SEARCH_GROUP_FOR_COUNT_TO_BE_EXECUTED:"FilterSearchGroupForCountSearchToBeExecuted",START_SEARCH_GROUP_COUNT_SEARCH:"StartSearchGroupCountSearch",ABORT_SEARCH_GROUP_COUNT_SEARCH:"AbortSearchGroupCountSearch",CANCEL_SEARCH_GROUP_COUNT_SEARCH:"CancelSearchGroupCountSearch"},lv="UpdateFieldAndRunSearchGroupSearchesBatch",cv="UpdateFieldAndRunSearchGroupSearchesFromAsyncBatch",dv="FilteredSearchActionsForSearchBatch",pv=(e,t,a)=>{class n extends r.PureComponent{render(){return r.createElement(e,this.props)}}class o extends r.Component{constructor(e){super(e),this.handleFieldUpdate=e=>{const{onUpdateFormField:t,onUpdateFormFieldInner:a}=this.props;a(e,this.getFilterActions(),t)},this.handleAsyncFieldUpdate=(...e)=>{const{onUpdateFormFieldAsync:t,onUpdateFormFieldInnerAsync:a}=this.props;a(...e,this.getFilterActions(),t)},this.searchGroups=t(this.props)}getFilterActions(){const{dataEntryKey:e}=this.props,t=this.searchGroups,r=a&&a(this.props)||{},n=t.map(()=>nn()()),o=t.map((t,a)=>((e,t,a,r)=>H(sv.FILTER_SEARCH_GROUP_FOR_COUNT_SEARCH)({searchGroup:e,uid:t,dataEntryKey:a,contextProps:r}))(t,n[a],e,r)),i=o.map(e=>{return t=e,H(sv.FILTER_SEARCH_GROUP_FOR_COUNT_TO_BE_EXECUTED)(Object(G.a)({},t.payload));var t});return{filterActions:o,filterActionsToBeExecuted:i}}render(){const e=this.props,{dataEntryKey:t,onUpdateFormField:a,onUpdateFormFieldInner:o,onUpdateFormFieldAsync:i,onUpdateFormFieldInnerAsync:s}=e,l=Object(_e.a)(e,["dataEntryKey","onUpdateFormField","onUpdateFormFieldInner","onUpdateFormFieldAsync","onUpdateFormFieldInnerAsync"]);return r.createElement(n,Object.assign({onUpdateFormField:this.handleFieldUpdate,onUpdateFormFieldAsync:this.handleAsyncFieldUpdate},l))}}return o},uv=(e,t)=>{const a=e.dataEntries&&e.dataEntries[t.id]&&e.dataEntries[t.id].itemId;return{dataEntryKey:Mg(t.id,a)}},mv=e=>({onUpdateFormFieldInner:(t,a,r)=>{const{filterActions:n,filterActionsToBeExecuted:o}=a;r?r(t,{filterActions:n,filterActionsToBeExecuted:o}):e(((e,t,a)=>Object(J.a)([e,...a,...t],lv))(t,n,o))},onUpdateFormFieldInnerAsync:(t,a,r,n,o)=>{const{filterActions:i,filterActionsToBeExecuted:s}=n;if(o)o(t,{filterActions:i,filterActionsToBeExecuted:s},a,r);else{e(((e,t,a)=>W(e)({onSuccess:t,onError:a}))(t,e=>((e,t,a)=>Object(J.a)([e,...a,...t],cv))(e,i,s),e=>e))}}});var hv=(e,t)=>a=>Object(an.c)(uv,mv)(pv(a,e,t));var gv=()=>e=>(e=>t=>{const{onSearchGroupResultCountRetrieved:a,onSearchGroupResultCountRetrievalFailed:n}=t,o=Object(_e.a)(t,["onSearchGroupResultCountRetrieved","onSearchGroupResultCountRetrievalFailed"]);return r.createElement(e,o)})(e);function yv(e){return e.reduce((e,t)=>{let a;return a=t.type?{type:t.type}:t.onConvertOut?{onConvertOut:t.onConvertOut.toString(),clientId:t.clientId}:{},a.clientIgnore=t.clientIgnore,e[t.id||t.dataEntryId]=a,e},{})}function vv(e,t){return t.reduce((t,a)=>{const r=a.dataEntryId||a.id,n=Yg(e[r],a.validatorContainers);return t[r]={isValid:!n,validationError:n},t},{})}const bv="LoadNewDataEntry";function Ev(e,t,a,r,n){const o=r||{},i=n||{},s=a?yv(a):{},l=a?vv(o,a):{},c=Mg(e,t);return[H(bv)({key:c,itemId:t,dataEntryId:e,dataEntryMeta:s,dataEntryUI:l,dataEntryValues:o}),Nh(c,i)]}var fv=a(7416),Ov=a(822),Sv=a(7418),Cv=a(7419),Iv=a(1001),wv=a(7427),Tv=a(1176),Nv=a(1e3);function _v(e,t,a){const r=e.searchFoundation.getElements().reduce((e,a)=>(e[a.id]=t[a.id],e),{});return e.onSearch(function(e,t){const a=Object(B.e)(La,Aa);return t.convertValues(e,a)}(r,e.searchFoundation),a)}const Av={};function Rv(e,t){Av[e]&&Av[e][t]&&(Av[e][t]=null)}const kv=e=>(t,a)=>t.pipe(Object(M.a)(...e),Object(V.a)(e=>{const t=e.payload.filter(e=>e.type===sv.FILTER_SEARCH_GROUP_FOR_COUNT_SEARCH);return 0===t.length?null:t.map(e=>{const{dataEntryKey:t,searchGroup:r}=e.payload,n=a.value,o=n.formsValues[t]||{},i=n.dataEntriesSearchGroupsPreviousValues[t]&&n.dataEntriesSearchGroupsPreviousValues[t][r.id]||{};return function(e,t,a){const r=e.searchFoundation.getElements();return!(r.filter(e=>a[e.id]&&"dataType"===a[e.id].errorType&&!a[e.id].valid).length>0)&&r.filter(e=>t[e.id]).length>=e.minAttributesRequiredToSearch}(r,o,Object.keys(n.formsSectionsFieldsUI).filter(e=>e.startsWith(t)).reduce((e,t)=>{const a=n.formsSectionsFieldsUI[t];return Object(G.a)({},e,{},a)},{}))?!function(e,t,a){return!!e.searchFoundation.getElements().find(e=>{let r=a[e.id];r||!1===r||0===r||(r=null);let n=t[e.id];return n||!1===n||0===n||(n=null),n!==r})}(r,o,i)?Object(G.a)({},e,{cancel:!0}):e:Object(G.a)({},e,{abort:!0})}).map(e=>{if(e.abort){const{dataEntryKey:t,searchGroup:a,uid:r}=e.payload,n=Av[t]&&Av[t][a.id]||[];return Rv(t,a.id),((e,t,a,r)=>H(sv.ABORT_SEARCH_GROUP_COUNT_SEARCH)({dataEntryKey:e,searchGroup:t,groupId:a,uids:r}))(t,a,a.id,[...n,r])}if(e.cancel){const{dataEntryKey:t,uid:a}=e.payload;return((e,t)=>H(sv.CANCEL_SEARCH_GROUP_COUNT_SEARCH)({dataEntryKey:e,uid:t}))(t,a)}const{dataEntryKey:t,searchGroup:r,uid:n,contextProps:o}=e.payload,i=a.value.formsValues[t];return((e,t,a,r,n,o)=>H(sv.START_SEARCH_GROUP_COUNT_SEARCH)({searchGroup:e,searchGroupId:t,uid:a,dataEntryKey:r,contextProps:n,values:o}))(r,r.id,n,t,o,i)})}),Object(fv.a)(e=>e&&e.length>0),Object(V.a)(e=>(e=>Object(J.a)(e,dv))(e))),jv=e=>(t,a)=>t.pipe(Object(M.a)(dv),Object(V.a)(e=>e.payload.filter(e=>e.type===sv.START_SEARCH_GROUP_COUNT_SEARCH)),Object(fv.a)(e=>e&&e.length>0),Object(Ov.b)(r=>r.map(r=>{const{dataEntryKey:n,contextProps:o,searchGroup:s,uid:l}=r.payload,c=a.value.formsValues[n];return Av[n]||(Av[n]={}),Av[n][s.id]||(Av[n][s.id]=[]),Av[n][s.id].push(l),Object(wv.a)(Object(Tv.a)(_v(s,c,o)).pipe(Object(Sv.a)(t.pipe(Object(M.a)(dv),Object(fv.a)(e=>e.payload.find(e=>[sv.START_SEARCH_GROUP_COUNT_SEARCH,sv.ABORT_SEARCH_GROUP_COUNT_SEARCH].includes(e.type)&&e.payload.searchGroup===s)))),Object(V.a)(e=>{const t=Av[n][s.id];return Rv(n,s.id),((e,t,a,r)=>H(sv.SEARCH_GROUP_RESULT_COUNT_RETRIVED)({count:e,dataEntryKey:t,groupId:a,uids:r}))(e,n,s.id,t)}),Object(Cv.a)(e=>{U.a.error(Object(B.c)(e)({dataEntryKey:n,searchGroupId:s.id}));const t=Av[n][s.id];return Rv(n,s.id),Object(Nv.a)(((e,t,a,r)=>H(sv.SEARCH_GROUP_RESULT_COUNT_RETRIEVAL_FAILED)({error:e,dataEntryKey:t,groupId:a,uids:r}))(i.a.t("search group result could not be retrieved"),n,s.id,t))})),t.pipe(Object(M.a)(...e),Object(fv.a)(e=>e.payload.find(e=>e.type===(bv||Hh)&&e.payload.key===n)),Object(V.a)(()=>(Av[n]=null,null))))})),Object(Iv.a)(),Object(fv.a)(e=>e)),Pv=Object(Ur.b)({[bv]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.dataEntryId]=Object(G.a)({},a[r.dataEntryId]),a[r.dataEntryId].itemId=r.itemId,a},[Hh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.dataEntryId]=Object(G.a)({},a[r.dataEntryId],{itemId:r.itemId},r.extraProps),a},[Uh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.dataEntryId]=Object(G.a)({},a[r.dataEntryId],{itemId:r.itemId},r.extraProps),a}},"dataEntries"),Dv=Object(Ur.b)({[bv]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.key]={loaded:!0},a},[Hh]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.key]={loaded:!0},a},[kh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload,n=Mg(r.id,r.itemId);return a[n]=Object(G.a)({},a[n]),a[n].saveAttempted=!0,a},[jh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload,n=Mg(r.id,r.itemId);return a[n]=Object(G.a)({},a[n]),a[n].saveAttempted=!0,a},[Dh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload,n=Mg(r.dataEntryId,r.itemId);return a[n]=Object(G.a)({},a[n]),a[n].inProgress=a[n].inProgress?a[n].inProgress+1:1,a},[Fh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload,n=Mg(r.dataEntryId,r.itemId);return a[n]=Object(G.a)({},a[n]),a[n].inProgress=a[n].inProgress?a[n].inProgress-1:0,a}},"dataEntriesUI"),Fv=Object(Ur.b)({[bv]:(e,t)=>{const a=Object(G.a)({},e),{dataEntryValues:r,key:n}=t.payload;return a[n]=r||{},a},[Hh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.key]=r.dataEntryValues,a},[Ph]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload,n=Mg(r.dataEntryId,r.itemId);return a[n]=Object(G.a)({},a[n]),a[n][r.fieldId]=r.value,a}},"dataEntriesFieldsValue"),xv=Object(Ur.b)({[bv]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.key]=[],a},[Hh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.key]=r.dataEntryNotes?[...r.dataEntryNotes]:[],a},[xh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload,n=Mg(r.dataEntryId,r.itemId),o=e[n]?e[n].length:0;return a[n]=[...e[n],Object(G.a)({},r.note,{key:o})],a},[Lh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload,n=Mg(r.dataEntryId,r.itemId);return a[n]=e[n].filter(e=>e.clientId!==r.noteClientId),a}},"dataEntriesNotes",{}),Lv=Object(Ur.b)({[bv]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.key]=r.dataEntryMeta,a},[Hh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.key]=r.dataEntryMeta,a}},"dataEntriesFieldsMeta"),Uv=Object(Ur.b)({[bv]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.key]=Object.keys(r.dataEntryUI).reduce((e,t)=>(e[t]=Object(G.a)({},r.dataEntryUI[t],{touched:!1}),e),{}),a},[Hh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.key]=Object.keys(r.dataEntryUI).reduce((e,t)=>(e[t]=Object(G.a)({},r.dataEntryUI[t],{touched:!1}),e),{}),a},[Ph]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload,n=Mg(r.dataEntryId,r.itemId);a[n]=Object(G.a)({},a[n]);const o=a[n];return o[r.fieldId]=Object(G.a)({},o[r.fieldId],{},r.valueMeta,{modified:!0}),a}},"dataEntriesFieldsUI"),Mv=Object(Ur.b)({[bv]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.key]=[],a},[Hh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.key]=r.dataEntryRelationships?[...r.dataEntryRelationships]:[],a},[Bh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload,n=Mg(r.dataEntryId,r.itemId);return a[n]=e[n]?[...e[n],Object(G.a)({},r.relationship)]:[Object(G.a)({},r.relationship)],a},[Vh]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload,n=Mg(r.dataEntryId,r.itemId);return a[n]=e[n].filter(e=>e.clientId!==r.relationshipClientId),a}},"dataEntriesRelationships",{}),Vv=Object(Ur.b)({[bv]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.key]=null,a},[Hh]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.key]=null,a},[sv.SEARCH_GROUP_RESULT_COUNT_RETRIVED]:(e,t)=>{const{count:a,dataEntryKey:r,groupId:n}=t.payload;return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{[n]:Object(G.a)({},e[r]&&e[r][n],{count:a})})})},[sv.SEARCH_GROUP_RESULT_COUNT_RETRIEVAL_FAILED]:(e,t)=>{const{error:a,dataEntryKey:r,groupId:n}=t.payload;return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{[n]:Object(G.a)({},e[r]&&e[r][n],{countError:a})})})},[sv.ABORT_SEARCH_GROUP_COUNT_SEARCH]:(e,t)=>{const{dataEntryKey:a,groupId:r}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{[r]:null})})}},"dataEntriesSearchGroupsResults"),Bv=Object(Ur.b)({[sv.START_SEARCH_GROUP_COUNT_SEARCH]:(e,t)=>{const{dataEntryKey:a,searchGroupId:r,values:n}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{[r]:Object(G.a)({},n)})})},[sv.ABORT_SEARCH_GROUP_COUNT_SEARCH]:(e,t)=>{const{dataEntryKey:a,groupId:r}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{[r]:null})})},[bv]:(e,t)=>{const{key:a}=t.payload;return Object(G.a)({},e,{[a]:null})},[Hh]:(e,t)=>{const{key:a}=t.payload;return Object(G.a)({},e,{[a]:null})}},"dataEntriesSearchGroupsPreviousValues"),Gv=Object(Ur.b)({[bv]:(e,t)=>{const{key:a}=t.payload;return Object(G.a)({},e,{[a]:null})},[Hh]:(e,t)=>{const{key:a}=t.payload;return Object(G.a)({},e,{[a]:null})},[sv.FILTER_SEARCH_GROUP_FOR_COUNT_TO_BE_EXECUTED]:(e,t)=>{const{uid:a,dataEntryKey:r}=t.payload;return Object(G.a)({},e,{[r]:[...e[r]||[],a]})},[sv.SEARCH_GROUP_RESULT_COUNT_RETRIVED]:(e,t)=>{const{uids:a,dataEntryKey:r}=t.payload,n=[...(e[r]||[]).filter(e=>!a.includes(e))];return Object(G.a)({},e,{[r]:n})},[sv.SEARCH_GROUP_RESULT_COUNT_RETRIEVAL_FAILED]:(e,t)=>{const{uids:a,dataEntryKey:r}=t.payload,n=[...(e[r]||[]).filter(e=>!a.includes(e))];return Object(G.a)({},e,{[r]:n})},[sv.ABORT_SEARCH_GROUP_COUNT_SEARCH]:(e,t)=>{const{uids:a,dataEntryKey:r}=t.payload,n=[...(e[r]||[]).filter(e=>!a.includes(e))];return Object(G.a)({},e,{[r]:n})},[sv.CANCEL_SEARCH_GROUP_COUNT_SEARCH]:(e,t)=>{const{uid:a,dataEntryKey:r}=t.payload,n=[...(e[r]||[]).filter(e=>a!==e)];return Object(G.a)({},e,{[r]:n})},[sn]:(e,t)=>{const{formId:a,validatingUid:r}=t.payload,n=[...e[a]||[],r],o=new Set(n);return Object(G.a)({},e,{[a]:Array.from(o)})},[on]:(e,t)=>{const{formId:a,validatingUids:r}=t.payload,n=(e[a]||[]).filter(e=>!r.includes(e));return Object(G.a)({},e,{[a]:n})},[Dh]:(e,t)=>{const{formId:a,updateCompleteUid:r}=t.payload,n=(e[a]||[]).filter(e=>e!==r);return Object(G.a)({},e,{[a]:n})},[cn]:(e,t)=>{const{formId:a,uid:r}=t.payload;return Object(G.a)({},e,{[a]:[...e[a]||[],r]})},[dn]:(e,t)=>{const{formId:a,uid:r}=t.payload,n=(e[a]||[]).filter(e=>e!==r);return Object(G.a)({},e,{[a]:n})},[pn]:(e,t)=>{const{formId:a,uid:r}=t.payload,n=(e[a]||[]).filter(e=>e!==r);return Object(G.a)({},e,{[a]:n})},[Mh]:(e,t)=>{const{dataEntryId:a,itemId:r,uid:n}=t.payload,o=Mg(a,r);return Object(G.a)({},e,{[o]:[...e[o]||[],n]})},[Fh]:(e,t)=>{const{dataEntryId:a,itemId:r,uid:n}=t.payload,o=Mg(a,r),i=(e[o]||[]).filter(e=>e!==n);return Object(G.a)({},e,{[o]:i})}},"dataEntriesInProgressList"),Hv="WorkingListsTemplatesFetch",Wv="WorkingListsTemplatesFetchSuccess",Yv="WorkingListsTemplatesFetchError",zv="WorkingListsTemplatesFetchCancel",qv="WorkingListsTemplateSelect",Kv="WorkingListsTemplateAdd",Xv="WorkingListsTemplateAddSuccess",Jv="WorkingListsTemplateAddError",Zv="WorkingListsTemplateDelete",Qv="WorkingListsTemplateDeleteSuccess",$v="WorkingListsTemplateDeleteError",eb="WorkingListsTemplateUpdate",tb="WorkingListsTemplateUpdateSuccess",ab="WorkingListsTemplateUpdateError",rb="WorkingListsListViewInit",nb="WorkingListsListViewInitSuccess",ob="WorkingListsListViewInitError",ib="WorkingListsListViewInitCancel",sb="WorkingListsListUpdate",lb="WorkingListsListUpdateSuccess",cb="WorkingListsListUpdateError",db="WorkingListsListUpdateCancel",pb="WorkingListsContextUnloading",ub="WorkingListsListSort",mb="WorkingListsListColumnOrderSet",hb="WorkingListsFilterSet",gb="WorkingListsFilterClear",yb="WorkingListsRestMenuItemSelect",vb="WorkingListsStickyFiltersAfterColumnSortingSet",bb="WorkingListsPageChange",Eb="WorkingListsRowsPerPageChange",fb="WorkingListsTemplateSharingSettingsSet",Ob=(e,t,a)=>H(Hv)({programId:e,storeId:t,workingListsType:a}),Sb=(e,t,a)=>H(Wv)({templates:e,defaultTemplateId:t,storeId:a}),Cb=(e,t)=>H(nb)(Object(G.a)({},t,{storeId:e})),Ib=(e,t)=>H(ob)({storeId:e,errorMessage:t}),wb=(e,t)=>H(lb)(Object(G.a)({},t,{storeId:e})),Tb=(e,t)=>H(cb)({storeId:e,errorMessage:t}),Nb=(e,{storeId:t,workingListsType:a})=>{const n=Object(an.f)(({workingListsTemplates:e})=>{const{selectedTemplateId:a,templates:r,loading:n,loadError:o}=e[t]||{};return{currentTemplateId:a,templates:r,templatesLoading:!!n,loadTemplatesError:o}},an.d),o=Object(r.useMemo)(()=>({onSelectTemplate:(...a)=>e(((e,t)=>H(qv)({templateId:e,storeId:t}))(...a,t)),onLoadTemplates:(...r)=>e(Ob(...r,t,a)),onCancelLoadTemplates:()=>e((e=>H(zv)({storeId:e}))(t)),onAddTemplate:(r,n,o)=>e(((e,t,a)=>H(Kv)(Object(G.a)({name:e,criteria:t},a)))(r,n,Object(G.a)({},o,{storeId:t,workingListsType:a}))),onUpdateTemplate:(r,n,o)=>e(((e,t,a)=>H(eb)(Object(G.a)({template:e,criteria:t},a)))(r,n,Object(G.a)({},o,{storeId:t,workingListsType:a}))),onDeleteTemplate:(...r)=>e(((e,t,{storeId:a,workingListsType:r})=>H(Zv)({template:e,programId:t,storeId:a,workingListsType:r}))(...r,{storeId:t,workingListsType:a})),onSetTemplateSharingSettings:(a,r)=>e(((e,t,a)=>H(fb)({sharingSettings:e,templateId:t,storeId:a}))(a,r,t))}),[t,e,a]);return Object(G.a)({},n,{},o)},_b=(e,t,{storeId:a,workingListsType:n})=>{const o=Object(an.f)(({workingLists:e,workingListsUI:t,workingListsMeta:r,workingListsColumnsOrder:n,workingListsStickyFilters:o,workingListsListRecords:i})=>{const{order:s}=e[a]||{},{isUpdating:l,isLoading:c,isUpdatingWithDialog:d,dataLoadingError:p}=t[a]||{},{rowsPerPage:u,currentPage:m,sortById:h,sortByDirection:g,initial:y,nextInitial:v,viewPreloaded:b,next:E}=r[a]||{},{rowsPerPage:f,currentPage:O,sortById:S,sortByDirection:C}=E||{};return{records:i[a],recordsOrder:s,updating:!!l,loading:!!c,updatingWithDialog:!!d,loadViewError:p,customColumnOrder:n[a],stickyFilters:o[a],rowsPerPage:f||u,currentPage:O||m,sortById:S||h,sortByDirection:C||g,initialViewConfig:v||y,viewPreloaded:b}},an.d),i=Object(an.f)(({workingListsMeta:e})=>e[a]&&e[a].filters),s=Object(an.f)(({workingListsMeta:e})=>e[a]&&e[a].next&&e[a].next.filters),l=Object(r.useMemo)(()=>Object(G.a)({},i,{},s),[i,s]),c=Object(r.useMemo)(()=>({onLoadView:(r,o,i)=>e(((e,t,a)=>H(rb)(Object(G.a)({},a,{selectedTemplate:e,context:t})))(r,o,Object(G.a)({},i,{categoryCombinationId:t,storeId:a,workingListsType:n}))),onUpdateList:(r,o)=>e(((e,t)=>H(sb)(Object(G.a)({queryArgs:e},t)))(r,Object(G.a)({},o,{categoryCombinationId:t,storeId:a,workingListsType:n}))),onCancelLoadView:()=>e((e=>H(ib)({storeId:e}))(a)),onCancelUpdateList:()=>e((e=>H(db)({storeId:e}))(a)),onSortList:(...t)=>e(((e,t,a)=>H(ub)({id:e,direction:t,storeId:a}))(...t,a)),onSetListColumnOrder:(...t)=>e(((e,t)=>H(mb)({columns:e,storeId:t},{skipLogging:["columns"]}))(...t,a)),onUpdateFilter:(...t)=>e(((e,t,a)=>H(hb)({filter:e,itemId:t,storeId:a}))(...t,a)),onClearFilter:(...t)=>e(((e,t)=>H(gb)({itemId:e,storeId:t}))(...t,a)),onSelectRestMenuItem:(...t)=>e(((e,t)=>H(yb)({id:e,storeId:t}))(...t,a)),onChangePage:(...t)=>e(((e,t)=>H(bb)({pageNumber:e,storeId:t}))(...t,a)),onChangeRowsPerPage:(...t)=>e(((e,t)=>H(Eb)({rowsPerPage:e,storeId:t}))(...t,a))}),[a,e,t,n]);return Object(G.a)({},o,{filters:l},c)},Ab=(e,{storeId:t})=>{const a=Object(an.f)(({currentSelections:{orgUnitId:e,categories:t},offline:{lastTransaction:a}})=>({orgUnitId:e,categories:t,lastTransaction:a}),an.d),n=Object(an.f)(({workingListsContext:e})=>e[t])||{},{listDataRefreshTimestamp:o,lastTransactionOnListDataRefresh:i}=n,s=Object(_e.a)(n,["listDataRefreshTimestamp","lastTransactionOnListDataRefresh"]),l=Object(r.useCallback)(()=>e((e=>H(pb)({storeId:e}))(t)),[e,t]);return Object(G.a)({},a,{loadedContext:s,onUnloadingContext:l,listDataRefreshTimestamp:o,lastTransactionOnListDataRefresh:i})},Rb=(e,t,a)=>{const r=Object(an.e)(),n=Ab(r,{storeId:e,workingListsType:t}),o=Nb(r,{storeId:e,workingListsType:t}),i=_b(r,a.categoryCombination&&a.categoryCombination.id,{storeId:e,workingListsType:t});return Object(G.a)({},o,{},i,{},n)},kb=e=>(e=>{const t=Object(an.f)(({workingLists:t,workingListsListRecords:a,workingListsColumnsOrder:r})=>({eventRecords:a[e],recordsOrder:t[e]&&t[e].order,customColumnOrder:r[e]}),an.d);return Object(G.a)({},t)})(e),jb=(e,t)=>{const a=Object(r.useMemo)(()=>t.reduce((e,t)=>Object(G.a)({},e,{[t.id]:t}),{}),[t]);return Object(r.useMemo)(()=>e?e.map(({id:e,visible:t})=>Object(G.a)({},a[e],{visible:t})):t,[e,t,a])},Pb=(e,t,a)=>{const n=Object(r.useMemo)(()=>t&&e&&t.map(t=>Object(G.a)({},e[t],{id:t})),[e,t]);return Object(r.useMemo)(()=>n&&n.map(e=>{const t=a.filter(e=>e.visible).reduce((t,{id:a,options:r,type:n})=>{const o=e[a];if(r){const e=r.find(e=>e.value===o);e?t[a]=e.text:U.a.error(Object(B.c)("Missing value in options")({id:a,clientValue:o,options:r}))}else t[a]=Oa(o,n);return t},{});return Object(G.a)({},t,{id:e.id})}),[n,a])},Db=Object(r.createContext)(),Fb=Object(r.createContext)(),xb=Object(r.createContext)(),Lb=Object(r.createContext)(),Ub=Object(r.createContext)(),Mb=({currentTemplate:e,onSelectTemplate:t,children:a})=>{const o=Object(r.useMemo)(()=>({currentTemplate:e,onSelectTemplate:t}),[e,t]);return n.a.createElement(Db.Provider,{value:o},a)},Vb=({currentViewHasTemplateChanges:e,onAddTemplate:t,onUpdateTemplate:a,onDeleteTemplate:o,children:i})=>{const s=Object(r.useMemo)(()=>({currentViewHasTemplateChanges:e,onAddTemplate:t,onUpdateTemplate:a,onDeleteTemplate:o}),[e,t,a,o]);return n.a.createElement(Fb.Provider,{value:s},i)},Bb=({sortById:e,sortByDirection:t,filters:a,columns:o,loading:i,onLoadView:s,loadViewError:l,onUpdateList:c,onCancelLoadView:d,orgUnitId:p,categories:u,dirtyView:m,loadedViewContext:h,viewPreloaded:g,children:y})=>{const v=Object(r.useMemo)(()=>({sortById:e,sortByDirection:t,filters:a,columns:o,loading:i,onLoadView:s,loadViewError:l,onUpdateList:c,onCancelLoadView:d,orgUnitId:p,categories:u,dirtyView:m,loadedViewContext:h,viewPreloaded:g}),[e,t,a,o,i,s,l,c,d,p,u,m,h,g]);return n.a.createElement(xb.Provider,{value:v},y)},Gb=({rowsPerPage:e,currentPage:t,onCancelUpdateList:a,customUpdateTrigger:o,forceUpdateOnMount:i,dirtyList:s,children:l})=>{const c=Object(r.useMemo)(()=>({rowsPerPage:e,currentPage:t,onCancelUpdateList:a,customUpdateTrigger:o,forceUpdateOnMount:i,dirtyList:s}),[e,t,a,o,i,s]);return n.a.createElement(Lb.Provider,{value:c},l)},Hb=({updating:e,updatingWithDialog:t,dataSource:a,onSelectListRow:o,onSortList:i,onSetListColumnOrder:s,customRowMenuContents:l,onUpdateFilter:c,onClearFilter:d,onSelectRestMenuItem:p,onChangePage:u,onChangeRowsPerPage:m,stickyFilters:h,children:g})=>{const y=Object(r.useMemo)(()=>({updating:e,updatingWithDialog:t,dataSource:a,onSelectListRow:o,onSortList:i,onSetListColumnOrder:s,customRowMenuContents:l,onUpdateFilter:c,onClearFilter:d,onSelectRestMenuItem:p,onChangePage:u,onChangeRowsPerPage:m,stickyFilters:h}),[e,t,a,o,i,s,l,c,d,p,u,m,h]);return n.a.createElement(Ub.Provider,{value:y},g)},Wb=Object(r.createContext)(),Yb=Object(r.createContext)({});var zb=a(487),qb=a.n(zb),Kb=a(539),Xb=a.n(Kb),Jb=a(540),Zb=a.n(Jb),Qb=a(203);const $b=a.n(Qb)()(r.createElement(r.Fragment,null,r.createElement("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})),"CloseCircle");class eE extends r.Component{static stopClearPropagation(e){e.stopPropagation()}static getCappedValue(e){const t=e.substring(0,7).trimRight();return"".concat(t,"...")}static getViewValueForFilter(e=""){const t=e.length>10?eE.getCappedValue(e):e;return": ".concat(t)}constructor(e){super(e),this.setIsHovered=()=>{this.setState({isHovered:!0})},this.clearIsHovered=()=>{this.setState({isHovered:!1})},this.handleClearClick=e=>{e.stopPropagation(),this.props.onClear()},this.state={isHovered:!1}}render(){const{onChange:e,classes:t,iconClass:a,title:n,arrowIconElement:o,buttonText:s}=this.props,l=this.state.isHovered,c=En()(t.button,{[t.hovered]:l});return r.createElement("div",{onMouseEnter:this.setIsHovered,onMouseLeave:this.clearIsHovered},r.createElement(Bd,{className:c,onClick:e},n,eE.getViewValueForFilter(s),o,r.createElement(_l.a,{title:i.a.t("Clear"),placement:"bottom",enterDelay:300},r.createElement($b,{onMouseEnter:this.clearIsHovered,onMouseLeave:this.setIsHovered,className:En()(a,t.clearIcon),onClick:this.handleClearClick,onMouseDown:eE.stopClearPropagation,onMouseUp:eE.stopClearPropagation,onTouchStart:eE.stopClearPropagation,onTouchEnd:eE.stopClearPropagation,onTouchMove:eE.stopClearPropagation,onKeyDown:eE.stopClearPropagation,onKeyUp:eE.stopClearPropagation}))))}}var tE=Object(ge.withStyles)(e=>({button:{backgroundColor:"".concat(Object(vl.lighten)(e.palette.primary.light,.7),"!important")},hovered:{backgroundColor:"".concat(Object(vl.lighten)(e.palette.primary.light,.4)," !important")},clearIcon:{color:e.palette.text.secondary,"&:hover":{color:e.palette.text.primary}}}))(eE);const aE={[Yt.v.TEXT]:Yt.v.TEXT,[Yt.v.NUMBER]:Yt.v.NUMBER,[Yt.v.INTEGER]:Yt.v.INTEGER,[Yt.v.INTEGER_POSITIVE]:Yt.v.INTEGER_POSITIVE,[Yt.v.INTEGER_NEGATIVE]:Yt.v.INTEGER_NEGATIVE,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:Yt.v.INTEGER_ZERO_OR_POSITIVE,[Yt.v.DATE]:Yt.v.DATE,[Yt.v.BOOLEAN]:Yt.v.BOOLEAN,[Yt.v.TRUE_ONLY]:Yt.v.TRUE_ONLY,[Yt.v.ASSIGNEE]:Yt.v.ASSIGNEE},rE=e=>({buttonsContainer:{paddingTop:e.typography.pxToRem(8)},firstButtonContainer:{paddingRight:e.typography.pxToRem(8),display:"inline-block"}});var nE=()=>e=>Object(ge.withStyles)(rE)(class extends r.Component{constructor(...e){super(...e),this.update=e=>{const t=this.filterTypeInstance.onGetUpdateData(e);this.props.onUpdate(t)},this.handleUpdateClick=()=>{this.isValid()&&this.update()},this.focusUpdateButton=()=>{this.updateButtonInstance&&this.updateButtonInstance.focus()},this.focusCloseButton=()=>{this.closeButtonInstance&&this.closeButtonInstance.focus()},this.setFilterTypeInstance=e=>{this.filterTypeInstance=e},this.setUpdateButtonInstance=e=>{this.updateButtonInstance=e},this.setCloseButtonInstance=e=>{this.closeButtonInstance=e}}isValid(){return!this.filterTypeInstance.onIsValid||this.filterTypeInstance.onIsValid()}render(){const t=this.props,{onUpdate:a,onClose:n,classes:o}=t,s=Object(_e.a)(t,["onUpdate","onClose","classes"]);return r.createElement(r.Fragment,null,r.createElement(e,Object.assign({filterTypeRef:this.setFilterTypeInstance,onUpdate:this.update,onFocusUpdateButton:this.focusUpdateButton,onFocusCloseButton:this.focusCloseButton},s)),r.createElement("div",{className:o.buttonsContainer},r.createElement("div",{className:o.firstButtonContainer},r.createElement(Bd,{dataTest:"list-view-filter-apply-button",muiButtonRef:this.setUpdateButtonInstance,primary:!0,onClick:this.handleUpdateClick},i.a.t("Apply"))),r.createElement(Bd,{dataTest:"list-view-filter-cancel-button",muiButtonRef:this.setCloseButtonInstance,secondary:!0,onClick:n},i.a.t("Cancel"))))}}),oE=a(555),iE=a.n(oE);class sE extends r.Component{constructor(e){super(e),this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.currentTarget.value,e)},this.handleBlur=e=>{this.props.onBlur&&this.props.onBlur(e.currentTarget.value,e)},this.handleChange=this.handleChange.bind(this),this.handleBlur=this.handleBlur.bind(this)}focus(){this.materialUIInstance&&this.materialUIInstance.focus()}render(){const e=this.props,{onChange:t,onBlur:a,value:r}=e,o=Object(_e.a)(e,["onChange","onBlur","value"]);return n.a.createElement("div",{ref:e=>{this.materialUIContainerInstance=e}},n.a.createElement(iE.a,Object.assign({inputRef:e=>{this.materialUIInstance=e},value:r||"",onChange:this.handleChange,onBlur:this.handleBlur},o)))}}sE.defaultProps={value:""};var lE=sE,cE=()=>e=>class extends r.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this);const t=this.props.value;this.state={value:t}}UNSAFE_componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({value:e.value})}handleChange(e){this.setState({value:e})}render(){const t=this.props,{onChange:a,value:n}=t,o=Object(_e.a)(t,["onChange","value"]),i=this.state.value;return r.createElement(e,Object.assign({onChange:this.handleChange,value:i},o))}};class dE extends n.a.Component{constructor(...e){super(...e),this.handleKeyPress=e=>{"Enter"===e.key&&this.props.onEnterKey(this.props.value)}}render(){const e=this.props,{onEnterKey:t}=e,a=Object(_e.a)(e,["onEnterKey"]);return n.a.createElement(lE,Object.assign({onKeyPress:this.handleKeyPress,fullWidth:!0,placeholder:i.a.t("Contains text")},a))}}var pE=cE()(dE);class uE extends r.Component{constructor(...e){super(...e),this.handleEnterKey=e=>{this.props.onUpdate(e||null)},this.handleBlur=e=>{this.props.onCommitValue(e)}}onGetUpdateData(e){const t="undefined"!==typeof e?e:this.props.value;return t?function(e){return{value:e}}(t):null}render(){const{value:e}=this.props;return n.a.createElement(pE,{onBlur:this.handleBlur,onEnterKey:this.handleEnterKey,value:e})}}var mE=uE;class hE extends r.Component{static calculateDefaultState(e){return{value:e&&e.value?e.value:void 0}}constructor(e){super(e),this.handleCommitValue=e=>{this.setState({value:e})},this.state=hE.calculateDefaultState(this.props.filter)}render(){const e=this.props,{filter:t,filterTypeRef:a}=e,n=Object(_e.a)(e,["filter","filterTypeRef"]);return r.createElement(mE,Object.assign({value:this.state.value,ref:a,onCommitValue:this.handleCommitValue},n))}}var gE=hE;class yE extends r.Component{constructor(...e){super(...e),this.handleBlur=e=>{this.props.onBlur(yE.getValueObject(e))},this.handleKeyPress=e=>{"Enter"===e.key&&this.props.onEnterKey()}}static getValueObject(e){return{min:e.trim()}}render(){const e=this.props,{error:t,errorClass:a,onBlur:r,onEnterKey:o}=e,s=Object(_e.a)(e,["error","errorClass","onBlur","onEnterKey"]);return n.a.createElement("div",null,n.a.createElement(lE,Object.assign({onKeyPress:this.handleKeyPress,onBlur:this.handleBlur,placeholder:i.a.t("Min"),fullWidth:!0},s)),n.a.createElement("div",{className:a},t))}}var vE=cE()(yE);class bE extends r.Component{constructor(...e){super(...e),this.handleBlur=e=>{this.props.onBlur(bE.getValueObject(e))},this.handleKeyPress=e=>{"Enter"===e.key&&this.props.onEnterKey(bE.getValueObject(this.props.value||""))}}static getValueObject(e){return{max:e.trim()}}render(){const e=this.props,{error:t,onBlur:a,onEnterKey:r,textFieldRef:o,errorClass:s}=e,l=Object(_e.a)(e,["error","onBlur","onEnterKey","textFieldRef","errorClass"]);return n.a.createElement("div",null,n.a.createElement(lE,Object.assign({ref:o,onKeyPress:this.handleKeyPress,onBlur:this.handleBlur,placeholder:i.a.t("Max"),fullWidth:!0},l)),n.a.createElement("div",{className:s},t))}}var EE=cE()(bE);class fE extends r.Component{constructor(...e){super(...e),this.handleEnterKeyInMin=()=>{this.maxD2TextFieldInstance.focus()},this.handleEnterKeyInMax=e=>{const t=this.getUpdatedValue(e);t&&!fE.isFilterValid(t.min,t.max,this.props.type)?this.props.onCommitValue(t):this.props.onUpdate(t||null)},this.handleFieldBlur=e=>{this.props.onCommitValue(this.getUpdatedValue(e))},this.setMaxD2TextFieldInstance=e=>{this.maxD2TextFieldInstance=e}}static validateField(e,t){if(!e)return{isValid:!0,error:null};const a=(0,fE.validatorForTypes[t])(e);return{isValid:a,error:a?null:i.a.t(fE.errorMessages[t])}}static isFilterValid(e,t,a){return!(!fE.validateField(e,a).isValid||!fE.validateField(t,a).isValid)&&!(e&&t&&Number(e)>Number(t))}onGetUpdateData(e){const t="undefined"!==typeof e?e:this.props.value;return t?function(e){const t=e.min||void 0,a=e.max||void 0;return{ge:t&&Object(Zt.b)(t),le:a&&Object(Zt.b)(a)}}(t):null}onIsValid(){const e=this.props.value;return!e||fE.isFilterValid(e.min,e.max,this.props.type)}getUpdatedValue(e){const t=Object(G.a)({},this.props.value,{},e);return Object.keys(t).filter(e=>t[e]).length>0?t:null}getErrors(){const e=this.props.value,t=e&&e.min,a=e&&e.max,r=this.props.type,{isValid:n,error:o}=fE.validateField(t,r),{isValid:s,error:l}=fE.validateField(a,r);let c=null;return n&&s&&t&&a&&Number(t)>Number(a)&&(c=i.a.t(fE.errorMessages.MIN_GREATER_THAN_MAX)),{minValueError:o,maxValueError:l,logicError:c}}render(){const{value:e,classes:t}=this.props,{minValueError:a,maxValueError:r,logicError:o}=this.getErrors();return n.a.createElement("div",null,n.a.createElement("div",{className:t.container},n.a.createElement("div",{className:t.inputContainer},n.a.createElement(vE,{value:e&&e.min,error:a,errorClass:t.error,onBlur:this.handleFieldBlur,onEnterKey:this.handleEnterKeyInMin})),n.a.createElement("div",{className:t.toLabelContainer},i.a.t("to")),n.a.createElement("div",{className:t.inputContainer},n.a.createElement(EE,{value:e&&e.max,error:r,errorClass:t.error,onBlur:this.handleFieldBlur,onEnterKey:this.handleEnterKeyInMax,textFieldRef:this.setMaxD2TextFieldInstance}))),n.a.createElement("div",{className:En()(t.error,t.logicErrorContainer)},o))}}fE.errorMessages={MIN_GREATER_THAN_MAX:"Minimum value cannot be greater than maximum value",[Yt.v.NUMBER]:"Please provide a valid number",[Yt.v.INTEGER]:"Please provide a valid integer",[Yt.v.INTEGER_POSITIVE]:"Please provide a positive integer",[Yt.v.INTEGER_NEGATIVE]:"Please provide a negative integer",[Yt.v.INTEGER_ZERO_OR_POSITIVE]:"Please provide zero or a positive integer"},fE.validatorForTypes={[Yt.v.NUMBER]:Gn,[Yt.v.INTEGER]:Un,[Yt.v.INTEGER_POSITIVE]:Mn,[Yt.v.INTEGER_NEGATIVE]:Vn,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:Bn};var OE=Object(ge.withStyles)(e=>({container:{display:"flex",flexWrap:"wrap"},inputContainer:{width:e.typography.pxToRem(100)},toLabelContainer:{paddingTop:e.typography.pxToRem(6),paddingLeft:e.typography.pxToRem(10),paddingRight:e.typography.pxToRem(10),fontSize:e.typography.body1.fontSize},error:Object(G.a)({},e.typography.caption,{color:e.palette.error.main}),logicErrorContainer:{paddingTop:e.typography.pxToRem(10)}}))(fE);class SE extends r.Component{static calculateDefaultState(e){return{min:e&&(e.ge||0===e.ge)?e.ge.toString():void 0,max:e&&(e.le||0===e.le)?e.le.toString():void 0}}constructor(e){super(e),this.handleCommitValue=e=>{this.setState({value:e})},this.state={value:SE.calculateDefaultState(this.props.filter)}}render(){const e=this.props,{filter:t,filterTypeRef:a}=e,n=Object(_e.a)(e,["filter","filterTypeRef"]);return r.createElement(OE,Object.assign({value:this.state.value,innerRef:a,onCommitValue:this.handleCommitValue},n))}}var CE=SE,IE=a(725),wE=a.n(IE),TE=a(332),NE=a.n(TE),_E=a(364),AE=a.n(_E),RE=a(363),kE=a.n(RE),jE=a(488),PE=a.n(jE),DE=a(489),FE=a.n(DE);class xE extends r.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.labelClasses=this.buildLabelClasses()}buildLabelClasses(){return{root:this.props.classes.label}}handleChange(e,t){let a;a=t?"true":null,this.props.onBlur(a)}render(){const e=this.props,{onBlur:t,value:a,label:r,required:o,classes:i,style:s,useSwitch:l,useValueLabel:c}=e,d=Object(_e.a)(e,["onBlur","value","label","required","classes","style","useSwitch","useValueLabel"]),p=l?wE.a:NE.a;return n.a.createElement("div",{ref:e=>{this.materialUIContainerInstance=e},style:s},n.a.createElement(AE.a,{component:"fieldset"},(()=>!r||c?null:n.a.createElement(kE.a,{component:"label",required:!!o,classes:this.labelClasses,focused:!1},r))(),n.a.createElement(PE.a,null,n.a.createElement(FE.a,{label:c?r:"",control:n.a.createElement(p,Object.assign({},d,{onChange:this.handleChange,checked:!!a}))}))))}}var LE=Object(ge.withStyles)(e=>({label:e.typography.formFieldTitle}))(xE);const UE="horizontal",ME="vertical";class VE extends r.Component{constructor(e){super(e),this.handleOptionChange=this.handleOptionChange.bind(this),this.labelClasses=this.buildLabelClasses()}buildLabelClasses(){return{root:this.props.classes.label}}getBoxes(e){const{options:t}=this.props;return t.map(({text:t,value:a},r)=>n.a.createElement(FE.a,{control:n.a.createElement(NE.a,Object.assign({onChange:(e,t)=>{this.handleOptionChange(e,t,a)},checked:this.isChecked(a)},e,{disableRipple:!0})),label:t,key:r}))}handleOptionChange(e,t,a){this.handleSelectUpdate(t,a)}handleSelectUpdate(e,t){let a=null;e?this.checkedValues?(this.checkedValues.add(t),a=Array.from(this.checkedValues)):a=[t]:this.checkedValues&&(this.checkedValues.delete(t),a=this.checkedValues.size>0?Array.from(this.checkedValues):null),this.props.onBlur(a)}setCheckedStatusForBoxes(){const e=this.props.value;this.checkedValues=e||!1===e||0===e?new Set(e):null}isChecked(e){return!(!this.checkedValues||!this.checkedValues.has(e))}renderHorizontal(e){return n.a.createElement(PE.a,{row:!0},this.getBoxes(e))}renderVertical(e){return n.a.createElement(PE.a,null,this.getBoxes(e))}renderCheckboxes(e){return this.props.orientation===ME?this.renderVertical(e):this.renderHorizontal(e)}render(){const e=this.props,{onBlur:t,options:a,label:r,value:o,orientation:i,required:s,classes:l,style:c,passOnClasses:d}=e,p=Object(_e.a)(e,["onBlur","options","label","value","orientation","required","classes","style","passOnClasses"]);return this.setCheckedStatusForBoxes(),n.a.createElement("div",{ref:e=>{this.materialUIContainerInstance=e}},n.a.createElement(AE.a,{component:"fieldset"},(()=>r?n.a.createElement(kE.a,{component:"label",required:!!s,classes:this.labelClasses,focused:!1},r):null)(),this.renderCheckboxes(Object(G.a)({},p,{classes:d}))))}}const BE=Object(ge.withStyles)(e=>({label:e.typography.formFieldTitle}))(VE),GE="horizontal",HE="vertical";class WE extends r.Component{constructor(e){super(e),this.handleOptionChange=this.handleOptionChange.bind(this),this.labelClasses=this.buildLabelClasses()}buildLabelClasses(){return{root:this.props.classes.label}}getBoxes(e){const{options:t,classes:a}=this.props;return t.map(({text:t,value:r},o)=>n.a.createElement(FE.a,{control:n.a.createElement(NE.a,Object.assign({onChange:(e,t)=>{this.handleOptionChange(e,t,r)},checked:this.isChecked(r),icon:n.a.createElement(Qo,{className:a.iconDeselected}),checkedIcon:n.a.createElement(Zo,{className:a.iconSelected}),disableRipple:!0},e)),label:t,key:o}))}handleOptionChange(e,t,a){this.handleSingleSelectUpdate(t,a)}handleSingleSelectUpdate(e,t){(!1!==e||this.props.nullable)&&this.props.onBlur(e?t:null)}setCheckedStatusForBoxes(){const e=this.props.value;this.checkedValues=e||!1===e||0===e?(new Set).add(e):null}isChecked(e){return!(!this.checkedValues||!this.checkedValues.has(e))}renderHorizontal(e){return n.a.createElement(PE.a,{row:!0},this.getBoxes(e))}renderVertical(e){return n.a.createElement(PE.a,null,this.getBoxes(e))}renderBoxes(e){return this.props.orientation===HE?this.renderVertical(e):this.renderHorizontal(e)}render(){const e=this.props,{onBlur:t,options:a,label:r,nullable:o,value:i,orientation:s,required:l,classes:c,style:d}=e,p=Object(_e.a)(e,["onBlur","options","label","nullable","value","orientation","required","classes","style"]);return this.setCheckedStatusForBoxes(),n.a.createElement("div",{ref:e=>{this.materialUIContainerInstance=e}},n.a.createElement(AE.a,{component:"fieldset"},(()=>r?n.a.createElement(kE.a,{component:"label",required:!!l,classes:this.labelClasses,focused:!1},r):null)(),this.renderBoxes(p)))}}const YE=Object(ge.withStyles)(({typography:e,palette:t})=>({label:e.formFieldTitle,iconSelected:{fill:t.secondary.main},iconDeselected:{fill:bl.r.grey700}}))(WE),zE="vertical",qE=e=>{const{multiSelect:t,options:a,optionSet:o,orientation:i}=e,s=Object(_e.a)(e,["multiSelect","options","optionSet","orientation"]),l=Object(r.useMemo)(()=>o?o.options.map(({text:e,value:t})=>({text:e,value:t})):a,[o,a]),[c,d]=t?[BE,zE?ME:UE]:[YE,zE?HE:GE];return n.a.createElement(c,Object.assign({},s,{orientation:d,options:l}))};class KE extends r.Component{constructor(...e){super(...e),this.handleTrueOnlyBlur=e=>{this.props.onCommitValue(e?[e]:null)}}onGetUpdateData(){return this.props.value?{value:!0}:null}onIsValid(){return!0}render(){const{value:e,classes:t}=this.props;return n.a.createElement("div",{className:t.selectBoxesContainer},n.a.createElement(LE,{label:i.a.t("Yes"),useValueLabel:!0,value:e,onBlur:this.handleTrueOnlyBlur,orientation:zE}))}}var XE=Object(ge.withStyles)(e=>({selectBoxesContainer:{marginRight:e.typography.pxToRem(-24)}}))(KE);class JE extends r.Component{static calculateDefaultState(e){return{value:e&&e.value?["true"]:void 0}}constructor(e){super(e),this.handleCommitValue=e=>{this.setState({value:e})},this.state=JE.calculateDefaultState(this.props.filter)}render(){const e=this.props,{filter:t,filterTypeRef:a}=e,n=Object(_e.a)(e,["filter","filterTypeRef"]);return r.createElement(XE,Object.assign({value:this.state.value,innerRef:a,onCommitValue:this.handleCommitValue},n))}}var ZE=JE,QE=a(458),$E=a(523);class ef extends r.Component{static getOptions(){const e=i.a.t("Yes"),t=i.a.t("No"),a=new QE.a;return a.addOption(new $E.a(t=>{t.text=e,t.value="true"})),a.addOption(new $E.a(e=>{e.text=t,e.value="false"})),a}constructor(e){super(e),this.optionSet=ef.getOptions()}render(){const e=this.props,{allowMultiple:t}=e,a=Object(_e.a)(e,["allowMultiple"]);return n.a.createElement("div",null,n.a.createElement(qE,Object.assign({},a,{optionSet:this.optionSet,multiSelect:t})))}}var tf=ef;class af extends r.Component{constructor(...e){super(...e),this.setBooleanFieldInstance=e=>{this.booleanFieldInstance=e}}onGetUpdateData(){const e=this.props.value;return e?{values:e.map(e=>"true"===e)}:null}onIsValid(){return!0}render(){const{onCommitValue:e,value:t,classes:a}=this.props;return n.a.createElement("div",{className:a.selectBoxesContainer},n.a.createElement(tf,{ref:this.setBooleanFieldInstance,allowMultiple:!0,value:t,onBlur:e,orientation:zE}))}}var rf=Object(ge.withStyles)(e=>({selectBoxesContainer:{marginRight:e.typography.pxToRem(-24)}}))(af);class nf extends r.Component{static calculateDefaultValueState(e){if(e)return e.values.map(e=>e?"true":"false")}constructor(e){super(e),this.handleCommitValue=e=>{this.setState({value:e})},this.state={value:nf.calculateDefaultValueState(this.props.filter)}}render(){const e=this.props,{filter:t,filterTypeRef:a}=e,n=Object(_e.a)(e,["filter","filterTypeRef"]);return r.createElement(rf,Object.assign({value:this.state.value,innerRef:a,onCommitValue:this.handleCommitValue},n))}}var of=nf;const sf="right",lf="up",cf="absolute",df="inline";class pf extends r.Component{getAbsoluteBottom(){return this.props.inputUsesFloatingLabel?60:40}getAbsoluteVerticalPosition(){return this.props.absoluteDirection===lf?{bottom:this.getAbsoluteBottom()}:{top:0}}calculateMarginLeftInline(){const{inputWidth:e,calendarWidth:t}=this.props;return t-e}getPopupStyle(){const{anchorPosition:e,mode:t}=this.props;let a;return a=e===sf?t===df?{marginLeft:"-".concat(this.calculateMarginLeftInline(),"px")}:Object(G.a)({},this.getAbsoluteVerticalPosition(),{right:0}):t===df?{}:Object(G.a)({},this.getAbsoluteVerticalPosition(),{left:0}),a}render(){const{open:e,mode:t,classes:a,children:n}=this.props;if(!e)return null;const o=t===df?a.containerInline:a.containerAbsolute,i=t===df?a.calendarInline:a.calendarAbsolute,s=this.getPopupStyle();return r.createElement("div",{className:o},r.createElement("div",{className:i,style:s},n))}}var uf=Object(ge.withStyles)(()=>({containerAbsolute:{position:"relative"},containerInline:{},calendarAbsolute:{position:"absolute",zIndex:201},calendarInline:{}}))(pf);a(6949);class mf extends r.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this);const t=Fe.get(),a=this.props.currentWidth;var r;this.calendarLocaleData={locale:t.dateFnsLocale,headerFormat:a>=400?t.calendarFormatHeaderLong:t.calendarFormatHeaderShort,weekdays:t.weekDaysShort.map(e=>pa(e)),blank:t.selectDatesText,todayLabel:{long:t.todayLabelLong,short:t.todayLabelShort},weekStartsOn:t.weekStartsOn},this.theme={accentColor:(r=this.props.theme).palette.secondary.main,floatingNav:{background:Object(vl.fade)(Object(vl.darken)(r.palette.primary.dark,.6),.8),chevron:Object(vl.lighten)(r.palette.secondary.light,.4),color:"white"},headerColor:r.palette.primary.main,todayColor:r.palette.secondary.main,selectionColor:r.palette.primary.main,weekdayColor:r.palette.primary.main},this.displayOptions=Object(G.a)({},mf.displayOptions,{},this.props.displayOptions)}shouldComponentUpdate(e){if(e.currentWidth!==this.props.currentWidth){const t=Fe.get();return e.currentWidth<400?this.calendarLocaleData.headerFormat=t.calendarFormatHeaderShort:this.calendarLocaleData.headerFormat=t.calendarFormatHeaderLong,!0}return!1}handleChange(e){const t=Object(ua.a)(e);this.props.onDateSelected(t)}getValue(e){if(!e)return null;const t=Object(ua.c)(e);return t.isValid?t.momentDate.toDate():null}getMinMaxProps(){const e={},t=this.props.minMoment,a=this.props.maxMoment;if(t){const a=t.toDate();e.min=a,e.minDate=a}if(a){const t=a.toDate();e.max=t,e.maxDate=t}return e}render(){const e=this.props,{value:t,classes:a,currentWidth:r,height:o,minMoment:i,maxMoment:s,onDateSelected:l,theme:c,displayOptions:d}=e,p=Object(_e.a)(e,["value","classes","currentWidth","height","minMoment","maxMoment","onDateSelected","theme","displayOptions"]);return n.a.createElement("div",{className:a.container},n.a.createElement(To.a,Object.assign({},this.getMinMaxProps(),{selected:this.getValue(t),onSelect:this.handleChange,locale:this.calendarLocaleData,width:r,height:o,autoFocus:!1,theme:this.theme,displayOptions:this.displayOptions},p)))}}mf.displayOptions={showHeader:!1};var hf=Object(ge.withTheme)()(Object(ge.withStyles)(()=>({container:{}}))(mf));class gf extends r.Component{static splitPassOnProps(e){const t={input:{},popup:{},calendar:{}};return e?Object.keys(e).reduce((t,a)=>{let r;r=a.startsWith(gf.propContainers.CALENDAR)?gf.propContainers.CALENDAR:a.startsWith(gf.propContainers.POPUP)?gf.propContainers.POPUP:gf.propContainers.INPUT;const n=(o=a.replace(r,"")).charAt(0).toLocaleLowerCase()+o.slice(1);var o;return t[r][n]=e[a],t},t):t}constructor(e){super(e),this.state={popoverOpen:!1},this.handleTextFieldFocus=this.handleTextFieldFocus.bind(this),this.handleDateSelected=this.handleDateSelected.bind(this),this.handleTextFieldBlur=this.handleTextFieldBlur.bind(this),this.hidePopover=this.hidePopover.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick)}handleTextFieldFocus(){document.removeEventListener("click",this.handleDocumentClick),this.setState({popoverOpen:!0}),this.props.onFocus&&this.props.onFocus()}handleDateSelected(e){this.props.onBlur(e),this.hidePopover(),this.props.onDateSelectedFromCalendar&&this.props.onDateSelectedFromCalendar(),document.removeEventListener("click",this.handleDocumentClick)}handleDocumentClick(e){e.target&&e.target.className&&e.target.className.startsWith&&e.target.className.startsWith("Cal__")||e.target&&e.target.className&&e.target.className.baseVal&&e.target.className.baseVal.startsWith("Cal__")||(this.hidePopover(),document.removeEventListener("click",this.handleDocumentClick))}handleTextFieldBlur(e,t){this.props.onBlur(e),t.relatedTarget&&"Cal__Container__root"===t.relatedTarget.className?document.addEventListener("click",this.handleDocumentClick):this.hidePopover()}hidePopover(){this.setState({popoverOpen:!1})}render(){const e=this.props,{width:t,calendarWidth:a,calendarHeight:n,inputWidth:o,classes:i,onBlur:s,onFocus:l,onDateSelectedFromCalendar:c,textFieldRef:d}=e,p=Object(_e.a)(e,["width","calendarWidth","calendarHeight","inputWidth","classes","onBlur","onFocus","onDateSelectedFromCalendar","textFieldRef"]),{popoverOpen:u}=this.state,m=d?{ref:d}:null,h=o||t,g=a||t,y=gf.splitPassOnProps(p),v=n||350;return r.createElement("div",{ref:e=>{this.containerInstance=e},style:{width:t}},r.createElement(lE,Object.assign({},m,{onFocus:this.handleTextFieldFocus,onBlur:this.handleTextFieldBlur,className:i.textField,width:h},y.input)),r.createElement(uf,Object.assign({open:u,onClose:this.hidePopover,width:g,height:v,inputWidth:h,inputUsesFloatingLabel:!!y.input.label},y.popup),r.createElement(hf,Object.assign({onDateSelected:this.handleDateSelected,value:this.props.value,currentWidth:g,height:v},y.calendar))))}}gf.propContainers={CALENDAR:"calendar",POPUP:"popup",INPUT:"input"};var yf=Object(ge.withStyles)(()=>({textField:{width:"100%"}}))(gf);class vf extends r.Component{static getValueObject(e){return{from:e.trim()}}constructor(e){super(e),this.handleBlur=e=>{this.props.onBlur(vf.getValueObject(e))},this.handleKeyPress=e=>{"Enter"===e.key&&this.props.onEnterKey()},this.displayOptions={showWeekdays:!0,showHeader:!1}}render(){const e=this.props,{error:t,errorClass:a,onBlur:r,onEnterKey:o}=e,s=Object(_e.a)(e,["error","errorClass","onBlur","onEnterKey"]);return n.a.createElement("div",null,n.a.createElement(yf,Object.assign({onKeyPress:this.handleKeyPress,onBlur:this.handleBlur,placeholder:i.a.t("From"),popupMode:cf,popupAbsoluteDirection:lf,width:150,calendarWidth:330,calendarHeight:170,calendarRowHeight:45,calendarDisplayOptions:this.displayOptions},s)),n.a.createElement("div",{className:a},t))}}var bf=cE()(vf);class Ef extends r.Component{static getValueObject(e){return{to:e.trim()}}constructor(e){super(e),this.handleBlur=e=>{this.props.onBlur(Ef.getValueObject(e))},this.handleKeyPress=e=>{"Enter"===e.key&&this.props.onEnterKey(Ef.getValueObject(this.props.value||""))},this.handleDateSelectedFromCalendar=()=>{this.props.onFocusUpdateButton()},this.displayOptions={showWeekdays:!0,showHeader:!1}}render(){const e=this.props,{error:t,onBlur:a,onEnterKey:r,errorClass:o,onFocusUpdateButton:s}=e,l=Object(_e.a)(e,["error","onBlur","onEnterKey","errorClass","onFocusUpdateButton"]);return n.a.createElement("div",null,n.a.createElement(yf,Object.assign({onKeyPress:this.handleKeyPress,onBlur:this.handleBlur,onDateSelectedFromCalendar:this.handleDateSelectedFromCalendar,placeholder:i.a.t("To"),popupAnchorPosition:sf,popupMode:cf,popupAbsoluteDirection:lf,width:150,calendarWidth:330,calendarHeight:170,calendarRowHeight:45,calendarDisplayOptions:this.displayOptions},l)),n.a.createElement("div",{className:o},t))}}var ff=cE()(Ef);a(6950);const Of="TODAY",Sf="THIS_WEEK",Cf="THIS_MONTH",If="THIS_YEAR",wf="LAST_WEEK",Tf="LAST_MONTH",Nf="LAST_3_MONTHS",_f="CUSTOM_RANGE",Af={[Of]:i.a.t("Today"),[Sf]:i.a.t("This week"),[Cf]:i.a.t("This month"),[If]:i.a.t("This Year"),[wf]:i.a.t("Last week"),[Tf]:i.a.t("Last month"),[Nf]:i.a.t("Last 3 months"),[_f]:i.a.t("Custom range")},Rf=Object.freeze({ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE"});function kf(e){return e.main===_f?function(e,t){const a={type:Rf.ABSOLUTE};if(e){const t=Object(ua.c)(e).momentDate;a.ge=t}if(t){const e=Object(ua.c)(t).momentDate;a.le=e}return a}(e.from,e.to):{type:Rf.RELATIVE,period:e.main}}class jf extends r.Component{static validateField(e,t){if(!e)return{isValid:!0,error:null};const a=(0,jf.validatorForTypes[t])(e);return{isValid:a,error:a?null:i.a.t(jf.errorMessages[t])}}static isFilterValid(e,t,a){if(e!==_f)return!0;if(!t&&!a)return!1;const r=t?Object(ua.c)(t):{isValid:!0,moment:null},n=a?Object(ua.c)(a):{isValid:!0,moment:null};return!(!r.isValid||!n.isValid)&&!(r.momentDate&&n.momentDate&&r.momentDate.isAfter(n.momentDate))}static isFromAfterTo(e,t){const a=Object(ua.c)(e).momentDate,r=Object(ua.c)(t).momentDate;return a.isAfter(r)}constructor(e){super(e),this.handleEnterKeyInFrom=()=>{this.toD2DateTextFieldInstance.focus()},this.handleDateSelectedFromCalendarInFrom=()=>{this.toD2DateTextFieldInstance.focus()},this.handleEnterKeyInTo=e=>{const t=this.getUpdatedValue(e);this.setState({submitAttempted:!0}),t&&!jf.isFilterValid(t.main,t.from,t.to)?this.props.onCommitValue(t):this.props.onUpdate(t||null)},this.handleFieldBlur=e=>{this.props.onCommitValue(this.getUpdatedValue(e))},this.handleMainSelect=e=>{const t=e?{main:e}:null;this.props.onCommitValue(t)},this.setToD2DateTextFieldInstance=e=>{this.toD2DateTextFieldInstance=e},this.state={submitAttempted:!1}}onGetUpdateData(e){const t="undefined"!==typeof e?e:this.props.value;return t?function(e){return kf(e)}(t):null}onIsValid(){this.setState({submitAttempted:!0});const e=this.props.value;return!e||jf.isFilterValid(e.main,e.from,e.to)}getUpdatedValue(e){const t=Object(G.a)({},this.props.value,{},e);return t.from||t.to?t.main=_f:t.main===_f&&(t.main=null),Object.keys(t).filter(e=>t[e]).length>0?t:null}getErrors(){const e=this.props.value,t=this.state.submitAttempted,a=e&&e.main,r=e&&e.from,n=e&&e.to,o=this.props.type;if(a===_f&&!r&&!n)return{minValueError:null,maxValueError:null,logicError:t?i.a.t(jf.errorMessages.CUSTOM_RANGE_WITHOUT_VALUES):null};const{isValid:s,error:l}=jf.validateField(r,o),{isValid:c,error:d}=jf.validateField(n,o);let p=null;return s&&c&&r&&n&&jf.isFromAfterTo(r,n)&&(p=i.a.t(jf.errorMessages.FROM_GREATER_THAN_TO)),{minValueError:l,maxValueError:d,logicError:p}}render(){const{value:e,classes:t,onFocusUpdateButton:a}=this.props,{minValueError:r,maxValueError:o,logicError:s}=this.getErrors();return n.a.createElement("div",{id:"dateFilter"},n.a.createElement("div",null,n.a.createElement(qE,{optionSet:jf.mainOptionSet,orientation:zE,value:e&&e.main,onBlur:this.handleMainSelect,color:"secondary",nullable:!0})),n.a.createElement("div",{className:t.fromToContainer},n.a.createElement("div",{className:t.inputContainer},n.a.createElement(bf,{value:e&&e.from,error:r,errorClass:t.error,onBlur:this.handleFieldBlur,onEnterKey:this.handleEnterKeyInFrom,onDateSelectedFromCalendar:this.handleDateSelectedFromCalendarInFrom})),n.a.createElement("div",{className:t.toLabelContainer},i.a.t("to")),n.a.createElement("div",{className:t.inputContainer},n.a.createElement(ff,{value:e&&e.to,error:o,errorClass:t.error,onBlur:this.handleFieldBlur,onEnterKey:this.handleEnterKeyInTo,textFieldRef:this.setToD2DateTextFieldInstance,onFocusUpdateButton:a}))),n.a.createElement("div",{className:En()(t.error,t.logicErrorContainer)},s))}}jf.errorMessages={CUSTOM_RANGE_WITHOUT_VALUES:"Please specify a range",FROM_GREATER_THAN_TO:"The From date can't be after the To date",[Yt.v.DATE]:"Please provide a valid date"},jf.validatorForTypes={[Yt.v.DATE]:Kc},jf.mainOptionSet=new QE.a("mainOptions",[new $E.a(e=>{e.text=Af[Of],e.value=Of}),new $E.a(e=>{e.text=Af[Sf],e.value=Sf}),new $E.a(e=>{e.text=Af[Cf],e.value=Cf}),new $E.a(e=>{e.text=Af[If],e.value=If}),new $E.a(e=>{e.text=Af[wf],e.value=wf}),new $E.a(e=>{e.text=Af[Tf],e.value=Tf}),new $E.a(e=>{e.text=Af[Nf],e.value=Nf}),new $E.a(e=>{e.text=Af[_f],e.value=_f})]);var Pf=Object(ge.withStyles)(e=>({fromToContainer:{display:"flex",flexWrap:"wrap"},inputContainer:{},toLabelContainer:{width:30,display:"flex",justifyContent:"center",alignItems:"center",paddingTop:e.typography.pxToRem(6),fontSize:e.typography.body1.fontSize},error:Object(G.a)({},e.typography.caption,{color:e.palette.error.main}),logicErrorContainer:{paddingTop:e.typography.pxToRem(10)}}))(jf);class Df extends r.Component{static convertDateForEdit(e){const t=Object(Jt.a)(e);return Object(ua.b)(t)}static calculateDefaultValueState(e){if(e)return e.type===Rf.RELATIVE?{main:e.period}:{main:_f,from:e.ge&&Df.convertDateForEdit(e.ge),to:e.le&&Df.convertDateForEdit(e.le)}}constructor(e){super(e),this.handleCommitValue=e=>{this.setState({value:e})},this.state={value:Df.calculateDefaultValueState(this.props.filter)}}render(){const e=this.props,{filter:t,filterTypeRef:a}=e,n=Object(_e.a)(e,["filter","filterTypeRef"]);return r.createElement(Pf,Object.assign({value:this.state.value,innerRef:a,onCommitValue:this.handleCommitValue},n))}}var Ff=Df;function xf(e){return{usingOptionSet:!0,values:e}}const Lf=xf;class Uf extends r.Component{onGetUpdateData(){const{value:e,singleSelect:t}=this.props;return e?t?(e=>xf([e]))(e):Lf(e):null}onIsValid(){return!0}render(){const{onCommitValue:e,options:t,value:a,classes:r,singleSelect:o}=this.props;return n.a.createElement("div",{className:r.selectBoxesContainer},n.a.createElement("div",{className:r.selectBoxesInnerContainer},n.a.createElement(qE,{options:t,value:a,onBlur:e,orientation:zE,multiSelect:!o,nullable:!0})))}}var Mf=Object(ge.withStyles)(e=>({selectBoxesContainer:{maxHeight:e.typography.pxToRem(250),overflowY:"auto",marginRight:e.typography.pxToRem(-24)},selectBoxesInnerContainer:{marginLeft:12}}))(Uf);class Vf extends r.Component{static calculateDefaultValueState(e,t){if(e)return t?e.values[0]:e.values}constructor(e){super(e),this.handleCommitValue=e=>{this.setState({value:e})},this.state={value:Vf.calculateDefaultValueState(this.props.filter,!!this.props.singleSelect)}}render(){const e=this.props,{filter:t,filterTypeRef:a}=e,n=Object(_e.a)(e,["filter","filterTypeRef"]);return r.createElement(Mf,Object.assign({value:this.state.value,innerRef:a,onCommitValue:this.handleCommitValue},n))}}var Bf=Vf;const Gf="CURRENT",Hf="ANY",Wf="NONE",Yf="PROVIDED";class zf extends r.Component{constructor(e){super(e),this.handleModeSelect=e=>{this.setState({error:""}),e?this.props.onCommitValue({mode:e}):this.props.onCommitValue(null)},this.handleUserSelect=e=>{this.setState({error:""}),this.props.onCommitValue({mode:Yf,provided:e})},this.modeOptions=[{name:i.a.t("Me"),value:Gf},{name:i.a.t("Anyone"),value:Hf},{name:i.a.t("None"),value:Wf},{name:i.a.t("Select user"),value:Yf}],this.state={error:""}}onGetUpdateData(){const{value:e}=this.props;return e&&function(e){return{assignedUserMode:e.mode,assignedUser:e.provided}}(e)}onIsValid(){const{value:e}=this.props;return!(e&&e.mode===Yf&&!e.provided)||(this.setState({error:i.a.t("Please select the user")}),!1)}render(){const{value:e,classes:t}=this.props,{mode:a,provided:r}=e||{};return n.a.createElement("div",null,n.a.createElement("div",{className:t.selectBoxesContainer},n.a.createElement(Bl,{options:this.modeOptions,value:a,orientation:Lo.VERTICAL,multiSelect:!1,onSelect:this.handleModeSelect})),a===Yf?n.a.createElement("div",null,n.a.createElement(Xp,{value:r,onSet:this.handleUserSelect,inputPlaceholderText:i.a.t("Search for user"),focusOnMount:!0,useUpwardSuggestions:!0})):null,n.a.createElement("div",{className:t.error},this.state.error))}}var qf=Object(ge.withStyles)(e=>({selectBoxesContainer:{maxHeight:e.typography.pxToRem(250),overflowY:"auto",marginRight:e.typography.pxToRem(-24)},error:{color:e.palette.error.main}}))(zf);class Kf extends r.Component{static calculateDefaultValueState(e){if(e)return{mode:e.assignedUserMode,provided:e.assignedUser}}constructor(e){super(e),this.handleCommitValue=e=>{this.setState({value:e})},this.state={value:Kf.calculateDefaultValueState(this.props.filter)}}render(){const e=this.props,{filter:t,filterTypeRef:a}=e,n=Object(_e.a)(e,["filter","filterTypeRef"]);return r.createElement(qf,Object.assign({value:this.state.value,innerRef:a,onCommitValue:this.handleCommitValue},n))}}var Xf=Kf;const Jf=Object.freeze({PROVIDED:"PROVIDED",CURRENT:"CURRENT",ANY:"ANY",NONE:"NONE"}),Zf=nE()(Bf),Qf={[aE.TEXT]:gE,[aE.NUMBER]:CE,[aE.INTEGER]:CE,[aE.INTEGER_POSITIVE]:CE,[aE.INTEGER_NEGATIVE]:CE,[aE.INTEGER_ZERO_OR_POSITIVE]:CE,[aE.DATE]:Ff,[aE.BOOLEAN]:of,[aE.TRUE_ONLY]:ZE,[aE.ASSIGNEE]:Xf},$f=Object(ge.withStyles)(e=>({container:{padding:e.typography.pxToRem(24)}}))(e=>{let{classes:t,filterValue:a,type:o,options:i,multiValueFilter:s}=e,l=Object(_e.a)(e,["classes","filterValue","type","options","multiValueFilter"]);const c=(e=>{let{filterValue:t,classes:a,type:o,options:i,multiValueFilter:s}=e,l=Object(_e.a)(e,["filterValue","classes","type","options","multiValueFilter"]);const[c,d]=Object(r.useMemo)(()=>{if(i&&i.length<=25)return[Zf,!0];const e=Qf[o];return[nE()(e),!1]},[o,i]);return d?n.a.createElement(c,Object.assign({},l,{filter:t,options:i,singleSelect:!s})):n.a.createElement(c,Object.assign({},l,{filter:t,type:o}))})(Object(G.a)({classes:t,filterValue:a,type:o,options:i,multiValueFilter:s},l));return n.a.createElement("div",{className:t.container,"data-test":"list-view-filter-contents"},c)}),eO={vertical:"bottom",horizontal:"left"},tO={vertical:"top",horizontal:"left"};class aO extends r.Component{constructor(e){super(e),this.openFilterSelector=()=>{const{itemId:e,onSetVisibleSelector:t}=this.props;t(e),this.props.filterValue&&this.activeFilterButtonInstance&&this.activeFilterButtonInstance.clearIsHovered()},this.closeFilterSelector=()=>{const{onSetVisibleSelector:e}=this.props;e(void 0)},this.handleFilterUpdate=e=>{const{itemId:t,onUpdateFilter:a,onClearFilter:r}=this.props;null==e?r(t):a(e,t),this.closeFilterSelector()},this.handleClearFilter=()=>{const{itemId:e,onClearFilter:t}=this.props;t(e)},this.refActiveFilterInstance=e=>{this.activeFilterButtonInstance=e},this.state={isMounted:!1},this.anchorRef=n.a.createRef()}componentDidMount(){this.setState({isMounted:!0})}renderSelectorContents(){const{itemId:e,type:t,options:a,multiValueFilter:r,filterValue:o}=this.props;return n.a.createElement($f,{type:t,options:a,multiValueFilter:r,id:e,onUpdate:this.handleFilterUpdate,onClose:this.closeFilterSelector,filterValue:o})}renderWithAppliedFilter(){const{selectorVisible:e,classes:t,title:a,buttonText:r}=this.props,o=e?n.a.createElement(Zb.a,{className:t.icon}):n.a.createElement(Xb.a,{className:t.icon});return n.a.createElement(tE,{innerRef:this.refActiveFilterInstance,onChange:this.openFilterSelector,onClear:this.handleClearFilter,iconClass:t.icon,title:a,arrowIconElement:o,buttonText:r})}renderWithoutAppliedFilter(){const{selectorVisible:e,classes:t,title:a}=this.props;return n.a.createElement(Bd,{onClick:this.openFilterSelector},a,e?n.a.createElement(Zb.a,{className:t.icon}):n.a.createElement(Xb.a,{className:t.icon}))}render(){const{filterValue:e,selectorVisible:t}=this.props,{isMounted:a}=this.state,r=e?this.renderWithAppliedFilter():this.renderWithoutAppliedFilter();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{"data-test":"filter-button-popover-anchor",ref:this.anchorRef},r),n.a.createElement(qb.a,{open:t&&a,anchorEl:this.anchorRef.current,onClose:this.closeFilterSelector,anchorOrigin:eO,transformOrigin:tO},(()=>t?this.renderSelectorContents():null)()))}}const rO=Object(ge.withStyles)(e=>({icon:{fontSize:e.typography.pxToRem(20),paddingLeft:e.typography.pxToRem(5)},inactiveFilterButton:{backgroundColor:e.palette.grey[100]},inactiveFilterButtonLabel:{textTransform:"none"}}))(aO),nO="THIS_WEEK",oO="THIS_MONTH",iO="THIS_YEAR",sO="LAST_WEEK",lO="LAST_MONTH",cO="LAST_3_MONTHS",dO={["TODAY"]:i.a.t("Today"),[nO]:i.a.t("This week"),[oO]:i.a.t("This month"),[iO]:i.a.t("This Year"),[sO]:i.a.t("Last week"),[lO]:i.a.t("Last month"),[cO]:i.a.t("Last 3 months")},pO=e=>Object(B.e)(e=>Object(Jt.a)(e),e=>Object(ua.b)(e))(e);function uO(e){let t="";const a=!!e.ge||0===e.ge,r=!!e.le||0===e.le;return t=a&&r?e.ge===e.le?e.ge.toString():"".concat(e.ge.toString()," ").concat(i.a.t("to")," ").concat(e.le.toString()):a?"".concat(i.a.t("greater than or equal to")," ").concat(e.ge.toString()):"".concat(i.a.t("less than or equal to")," ").concat(e.le.toString()),t}const mO={[aE.TEXT]:function(e){return e.value},[aE.NUMBER]:uO,[aE.INTEGER]:uO,[aE.INTEGER_POSITIVE]:uO,[aE.INTEGER_NEGATIVE]:uO,[aE.INTEGER_ZERO_OR_POSITIVE]:uO,[aE.DATE]:function(e){return"ABSOLUTE"===e.type?function(e){let t="";const a=e.ge,r=e.le;if(a&&r){const e=Object(Jt.a)(a),n=Object(Jt.a)(r);if(e.isSame(n))t=Object(ua.b)(e);else{const a=Object(ua.b)(e),r=Object(ua.b)(n);t=i.a.t("{{fromDate}} to {{toDate}}",{fromDate:a,toDate:r})}}else if(a){const e=pO(a);t=i.a.t("after or equal to {{date}}",{date:e})}else{const e=pO(r);t=i.a.t("before or equal to {{date}}",{date:e})}return t}(e):dO[e.period]},[aE.ASSIGNEE]:function(e){return e.assignedUserMode!==Jf.PROVIDED?(t=e.assignedUserMode,{[Jf.CURRENT]:i.a.t("Me"),[Jf.ANY]:i.a.t("Anyone"),[Jf.NONE]:i.a.t("None")}[t]):e.assignedUser.name;var t},[aE.BOOLEAN]:function(e){return Object(B.e)(e=>e.map(e=>e?i.a.t("Yes"):i.a.t("No")),e=>e.join(", "))(e.values)},[aE.TRUE_ONLY]:function(){return i.a.t("Yes")}};function hO(e,t){const a=e.values.map(e=>{const a=t.find(t=>function e(t,a){if(t===a)return!0;if(!t||!a)return!1;const r=typeof t;if("object"!==r||r!==typeof a||Array.isArray(t)!==Array.isArray(a))return!1;if(Array.isArray(t))return t.every((t,r)=>e(t,a[r]));const n=[...Object.keys(t),...Object.keys(a)];return[...new Set(n).values()].every(r=>e(t[r],a[r]))}(t.value,e));return a&&a.text}).filter(e=>e).join(", ");return a.length>20?"".concat(a.substring(0,18),".."):a}const gO=Object(r.memo)(e=>{let{filterValue:t,type:a,options:o}=e,i=Object(_e.a)(e,["filterValue","type","options"]);const s=Object(r.useMemo)(()=>t?function(e,t,a){return e.usingOptionSet&&a?hO(e,a):mO[t](e)}(t,a,o):t,[t,a,o]);return n.a.createElement(rO,Object.assign({},i,{filterValue:t,type:a,options:o,buttonText:s}))}),yO=e=>{let{itemId:t}=e,a=Object(_e.a)(e,["itemId"]);const o=Object(r.useContext)(Wb),i=o&&o[t]||void 0;return n.a.createElement(gO,Object.assign({},a,{itemId:t,filterValue:i}))},vO=Object(r.memo)(e=>n.a.createElement(yO,e));var bO=a(1004),EO=a(7420),fO=a(7421),OO=a(365),SO=a.n(OO),CO=a(328),IO=a.n(CO),wO=a(237),TO=a.n(wO),NO=a(355),_O=a.n(NO);class AO extends n.a.Component{constructor(e){super(e),this.handleMenuButtonClick=()=>{this.toggleMenu()},this.handleClickAway=e=>{this.menuReferenceInstance&&this.menuReferenceInstance.contains(e.target)||this.closeMenu()},this.handleItemSelected=e=>{this.closeMenu(),this.props.onItemSelected(e)},this.handleReferenceInstanceRetrieved=e=>{this.managerRef(e),this.menuReferenceInstance=e},this.state={filterSelectorOpen:!1},this.setClassesOnMount()}setClassesOnMount(){const e=this.props.classes;this.menuClasses={paper:e.menuPaper},this.menuItemClasses={root:e.menuItemRoot}}closeMenu(){this.setState({filterSelectorOpen:!1})}toggleMenu(){this.setState({filterSelectorOpen:!this.state.filterSelectorOpen})}renderMenuItems(){return this.props.columns.map(e=>n.a.createElement(xp.a,{key:e.id,onClick:()=>{this.handleItemSelected(e.id)},classes:this.menuItemClasses},e.header))}render(){const{classes:e}=this.props;return n.a.createElement(bO.a,null,n.a.createElement(EO.a,null,({ref:t})=>(this.managerRef=t,n.a.createElement("div",{ref:this.handleReferenceInstanceRetrieved},n.a.createElement(Bd,{variant:"outlined",color:"default",size:"small",classes:{button:e.restMenuButton},muiClasses:{label:e.restMenuButtonLabel},onClick:this.handleMenuButtonClick},i.a.t("More filters"),this.state.filterSelectorOpen?n.a.createElement(Zb.a,{className:e.icon}):n.a.createElement(Xb.a,{className:e.icon}))))),this.state.filterSelectorOpen&&n.a.createElement(fO.a,{placement:"bottom-start"},({ref:e,style:t,placement:a})=>n.a.createElement("div",{ref:e,style:Object(G.a)({},t,{zIndex:1}),"data-placement":a},n.a.createElement(SO.a,{onClickAway:this.handleClickAway},n.a.createElement(IO.a,{in:!!this.state.filterSelectorOpen,id:"menu-list-grow",style:{transformOrigin:"0 0 0"},timeout:{exit:0,enter:200}},n.a.createElement(TO.a,null,n.a.createElement(_O.a,{role:"menu"},this.renderMenuItems())))))))}}var RO=Object(ge.withStyles)(e=>({icon:{fontSize:e.typography.pxToRem(20),paddingLeft:e.typography.pxToRem(5)},restMenuButton:{backgroundColor:e.palette.grey[100]},restMenuButtonLabel:{textTransform:"none"},menuPaper:{maxHeight:30},menuItemRoot:{padding:6,paddingLeft:24,paddingRight:24,fontSize:e.typography.pxToRem(14)},popperContainerHidden:{display:"none"},popper:{zIndex:1}}))(AO);const kO=Object(r.memo)(e=>{const{columns:t,stickyFilters:a,onSelectRestMenuItem:r,onUpdateFilter:o,onClearFilter:i,filtersOnly:s,classes:l}=e,[c,d]=n.a.useState(void 0),p=s?s.length:0,u=n.a.useMemo(()=>{const e=(e=>new Map(e.filter(e=>Object.values(aE).includes(e.type)&&!e.filterDisabled).map((e,t)=>({element:e,index:t})).sort((e,t)=>{const a=!!e.element.visible;return a===!!t.element.visible?e.index-t.index:a?-1:1}).map(e=>[e.element.id,e.element])))(t||[]),{initValueElements:r,remainingElements:n}=((e,t)=>{const a=t||{};return Object.keys(a).reduce((t,r)=>{const n=e.get(r);return n?(t.initValueElements.set(r,n),t.remainingElements.delete(r),t):(U.a.error(Object(B.c)("a filter with no config element was found")({key:r,value:a[r]})),t)},{initValueElements:new Map,remainingElements:new Map(e.entries())})})(e,a.filtersWithValueOnInit),{fillUpElements:o,remainingElements:i}=((e,t)=>{const a=new Map,r=4-t;for(let n=0;e.size>0&&n<r;n++){const[t,r]=e.entries().next().value;a.set(t,r),e.delete(t)}return{fillUpElements:a,remainingElements:e}})(n,r.size+p),{userSelectedElements:s,remainingElements:l}=((e,t)=>{const a=t||{};return Object.keys(a).reduce((t,a)=>{const r=e.get(a);return r?(t.userSelectedElements.set(a,r),t.remainingElements.delete(a),t):(U.a.error(Object(B.c)("a userSelectedFilter was specified but no config element was found")({key:a})),t)},{userSelectedElements:new Map,remainingElements:e})})(i,a.userSelectedFilters);return{individualElementsArray:((e,t,a,r)=>[...e.entries()].map(e=>e[1]).map(e=>{if(t.has(e.id)||a.has(e.id)||r.has(e.id))return e}).filter(e=>e))(e,r,o,s),restElementsArray:[...l.entries()].map(e=>e[1])}},[t,a,p]),m=n.a.useCallback(e=>{d(e),r(e)},[d,r]),h=n.a.useMemo(()=>{const{individualElementsArray:e,restElementsArray:t}=u;return[[...(({individualElementsArray:e,filtersOnly:t,visibleSelectorId:a,onSetVisibleSelector:r,onUpdateFilter:o,onClearFilter:i,classes:s})=>[...t||[],...e].map(({id:e,type:t,header:l,options:c,multiValueFilter:d})=>n.a.createElement("div",{key:e,"data-test":"filter-button-container-".concat(e),className:s.filterButtonContainer},n.a.createElement(vO,{"data-test":"filter-button-".concat(e),itemId:e,type:t,title:l,options:c,multiValueFilter:d,onSetVisibleSelector:r,selectorVisible:e===a,onUpdateFilter:o,onClearFilter:i}))))({individualElementsArray:e,visibleSelectorId:c,onSetVisibleSelector:d,onUpdateFilter:o,onClearFilter:i,filtersOnly:s,classes:l})],((e,t)=>e.length>0?n.a.createElement(RO,{key:"restMenu","data-test":"filter-rest-menu",columns:e,onItemSelected:t}):null)(t,m)]},[u,c,d,l,m,o,i,s]);return n.a.createElement(n.a.Fragment,null,h)}),jO=Object(ge.withStyles)(e=>({filterButtonContainer:{paddingRight:e.typography.pxToRem(e.spacing.unit),paddingBottom:e.typography.pxToRem(e.spacing.unit/2),paddingTop:e.typography.pxToRem(e.spacing.unit/2)}}))(kO);var PO=a(727),DO=a.n(PO),FO=a(729),xO=a.n(FO),LO=a(728),UO=a.n(LO),MO=a(726),VO=a.n(MO);const BO=e=>({root:{flexShrink:0,color:e.palette.text.secondary}}),GO=e=>class extends r.Component{constructor(...e){super(...e),this.handleFirstPageButtonClick=()=>{this.props.onChangePage(1)},this.handleBackButtonClick=()=>{this.props.onChangePage(this.props.currentPage-1)},this.handleNextButtonClick=()=>{this.props.onChangePage(this.props.currentPage+1)}}renderNavigationElement(){const{currentPage:e,classes:t,theme:a,nextPageButtonDisabled:n}=this.props;return r.createElement("div",{className:t.root},r.createElement(Cn.a,{"data-test":"dhis2-capture-search-pagination-first-page",onClick:this.handleFirstPageButtonClick,disabled:e<=1,"aria-label":"First Page"},"rtl"===a.direction?r.createElement(VO.a,null):r.createElement(DO.a,null)),r.createElement(Cn.a,{"data-test":"dhis2-capture-search-pagination-previous-page",onClick:this.handleBackButtonClick,disabled:e<=1,"aria-label":"Previous Page"},"rtl"===a.direction?r.createElement(UO.a,null):r.createElement(xO.a,null)),r.createElement(Cn.a,{"data-test":"dhis2-capture-search-pagination-next-page",onClick:this.handleNextButtonClick,disabled:n,"aria-label":"Next Page"},"rtl"===a.direction?r.createElement(xO.a,null):r.createElement(UO.a,null)))}render(){const t=this.props,{classes:a,theme:n}=t,o=Object(_e.a)(t,["classes","theme"]);return r.createElement(e,Object.assign({navigationElements:this.renderNavigationElement()},o))}};var HO=()=>e=>Object(ge.withStyles)(BO,{withTheme:!0})(GO(e));a(6953);const WO=(e=>class extends r.Component{constructor(e){super(e),this.translations={clearText:i.a.t("Clear"),noResults:i.a.t("No results")}}render(){const t=Object.assign({},this.props);return r.createElement(e,Object.assign({translations:this.translations},t))}})(jl),YO=e=>class t extends r.Component{static getOptions(){return[10,15,25,50,100].map(e=>({label:e.toString(),value:e}))}constructor(a){super(a),this.handleRowsSelect=e=>{this.props.onChangeRowsPerPage(e)},this.renderSelectorElement=()=>{const e=this.props.rowsPerPage;return r.createElement("div",{id:"rows-per-page-selector","data-test":"rows-per-page-selector"},r.createElement(WO,{onSelect:this.handleRowsSelect,options:this.options,value:e,nullable:!1,withoutUnderline:!0,searchable:!1}))},this.render=()=>{const t=Object.assign({},this.props);return r.createElement(e,Object.assign({rowsCountSelector:this.renderSelectorElement()},t))},this.options=t.getOptions()}};const zO=(e=>YO(e))(HO()($s)),qO=e=>{let{rowCountPage:t,rowsPerPage:a}=e,n=Object(_e.a)(e,["rowCountPage","rowsPerPage"]);return r.createElement(zO,Object.assign({},n,{rowsPerPage:a,rowsCountSelectorLabel:i.a.t("Rows per page"),nextPageButtonDisabled:!!(a>t)}))},KO=e=>{const t=Object(r.useContext)(Yb);return n.a.createElement(qO,Object.assign({},e,t))},XO=Object(r.memo)(e=>n.a.createElement(KO,e));var JO=a(1171),ZO=a(7409),QO=a(6956),$O=a.n(QO),eS=a(731),tS=a.n(eS),aS=a(734),rS=a.n(aS),nS=a(556),oS=a.n(nS),iS=a(732),sS=a.n(iS),lS=a(733),cS=a.n(lS),dS=a(730),pS=a.n(dS);const uS={cursor:"move",outline:"none"},mS="listItem",hS={beginDrag:e=>({id:e.id,index:e.index})},gS={hover(e,t){const a=t.getItem().index,r=e.index;a!==r&&(e.moveListItem(a,r),t.getItem().index=r)}};class yS extends r.Component{render(){const{text:e,isDragging:t,connectDragSource:a,connectDropTarget:r}=this.props,o=t?0:1;return r(a(n.a.createElement("tr",{key:this.props.id,tabIndex:-1,style:Object(G.a)({},uS,{opacity:o})},n.a.createElement(oS.a,{component:"th",scope:"row"},n.a.createElement(NE.a,{color:"primary",checked:this.props.visible,tabIndex:-1,disableRipple:!0,onClick:this.props.handleToggle(this.props.id)}),e),n.a.createElement(oS.a,null,n.a.createElement(pS.a,{style:{float:"right"}})))))}}const vS=Object(JO.c)(mS,hS,(e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()}))(Object(JO.d)(mS,gS,e=>({connectDropTarget:e.dropTarget()}))(yS));class bS extends r.Component{constructor(e){super(e),this.moveListItem=this.moveListItem.bind(this)}moveListItem(e,t){const{listItems:a}=this.props,r=a[e];let n=[];n=$O()(a,{$splice:[[e,1],[t,0,r]]}),this.props.handleUpdateListOrder(n)}render(){const{listItems:e}=this.props;return n.a.createElement(tS.a,null,n.a.createElement(sS.a,null,n.a.createElement(cS.a,null,n.a.createElement(oS.a,{colSpan:12},i.a.t("Column")))),n.a.createElement(rS.a,null,e.map((e,t)=>n.a.createElement(vS,{key:e.id,index:t,id:e.id,text:e.header,moveListItem:this.moveListItem,handleToggle:this.props.handleToggle,visible:e.visible}))))}}const ES=Object(JO.b)(ZO.a)(bS);class fS extends r.Component{constructor(e){super(e),this.handleSave=()=>{const{onSave:e}=this.props;e(this.state.columnList)},this.handleToggle=e=>()=>{const t=this.state.columnList.findIndex(t=>t.id===e),a=this.state.columnList;a[t]=Object(G.a)({},a[t],{visible:!a[t].visible}),this.setState({columnList:a})},this.handleUpdateListOrder=e=>{this.setState({columnList:e})},this.state={columnList:[...this.props.columns]}}render(){const{open:e,onClose:t}=this.props;return n.a.createElement("span",null,n.a.createElement(Ce.a,{open:!!e,onClose:t,fullWidth:!0},n.a.createElement(Xl.a,null,i.a.t("Columns to show in table")),n.a.createElement(we.a,null,n.a.createElement(ES,{listItems:this.state.columnList,handleUpdateListOrder:this.handleUpdateListOrder,handleToggle:this.handleToggle})),n.a.createElement(ay.a,null,n.a.createElement(Ci.a,{onClick:this.handleSave,color:"primary",autoFocus:!0},"Save"))))}}class OS extends r.PureComponent{constructor(e){super(e),this.openDialog=()=>{this.setState({dialogOpen:!0})},this.closeDialog=()=>{this.setState({dialogOpen:!1})},this.handleSaveColumns=e=>{this.props.onSave(e),this.closeDialog()},this.state={dialogOpen:!1}}render(){const{columns:e}=this.props;return r.createElement(r.Fragment,null,r.createElement(Ql.p,{disableFocusListener:!0,disableTouchListener:!0,enterDelay:500,title:i.a.t("Select columns")},r.createElement(Ql.j,{onClick:this.openDialog},r.createElement(In.o,null))),r.createElement(fS,{open:this.state.dialogOpen,onClose:this.closeDialog,onSave:this.handleSaveColumns,columns:e}))}}var SS=a(682),CS=a.n(SS);class IS extends r.Component{constructor(e){super(e),this.handleReferenceInstanceRetrieved=e=>{this.managerRef(e),this.menuReferenceInstance=e},this.toggleMenu=e=>{this.setState({menuOpen:!this.state.menuOpen}),e.stopPropagation()},this.closeMenu=()=>{this.setState({menuOpen:!1})},this.handleClickAway=e=>{this.menuReferenceInstance&&this.menuReferenceInstance.contains(e.target)||this.closeMenu()},this.renderMenuItems=()=>{const{customRowMenuContents:e=[],row:t,classes:a}=this.props,n=e.map(e=>r.createElement(xp.a,{key:e.key,"data-test":"menu-item-".concat(e.key),onClick:a=>{e.clickHandler&&(this.closeMenu(),e.clickHandler(t),a.stopPropagation())},disabled:!e.clickHandler},e.element));return r.createElement(_O.a,{role:"menu",className:a.menuList},n)},this.state={menuOpen:!1}}render(){const{classes:e}=this.props;return r.createElement(bO.a,null,r.createElement(EO.a,null,({ref:t})=>(this.managerRef=t,r.createElement("div",{ref:this.handleReferenceInstanceRetrieved,className:e.iconContainer},r.createElement(Cn.a,{"data-test":"dhis2-capture-event-content-menu",onClick:this.toggleMenu,className:e.icon},r.createElement(CS.a,null))))),this.state.menuOpen&&r.createElement(fO.a,{placement:"bottom-end"},({ref:t,style:a,placement:n})=>r.createElement("div",{ref:t,style:a,className:e.popperContainer,"data-placement":n},r.createElement(SO.a,{onClickAway:this.handleClickAway},r.createElement(IO.a,{in:!!this.state.menuOpen,id:"menu-list-grow",style:{transformOrigin:"0 0 0"},timeout:{exit:0,enter:200}},r.createElement(TO.a,null,this.renderMenuItems()))))))}}const wS=ql()(e=>({deleteIcon:{fill:e.palette.error.main},menuList:{padding:0},popperContainer:{zIndex:100},iconContainer:{position:"relative"},icon:{position:"absolute",marginTop:"-24px"}}))(IS),TS=()=>({getCellBody:(e,t)=>r.createElement(wS,Object.assign({row:e},t)),headerCellStyle:{width:96}});var NS=a(736),_S=a.n(NS),AS=a(735),RS=a.n(AS);class kS extends r.Component{constructor(...e){super(...e),this.getIconClickHandler=(e,t)=>()=>{this.props.disabled||t(e)},this.getActiveIcons=(e,t)=>{const a=this.props.disabled,n=this.props.classes,{IconComponent:o,dataTestValue:s,invertedDirection:l}=kS.getDirectionBasedIconValues(e),c=r.createElement(o,{className:a?n.iconBase:En()(n.iconBase,n.enabledIcon),onClick:this.getIconClickHandler(l,t),"data-test":s});return this.props.disabled?r.createElement("span",null,c):r.createElement(_l.a,{title:i.a.t("Sort"),placement:"bottom",enterDelay:500},r.createElement("span",null,c))},this.getIcons=(e,t,a)=>e?this.getActiveIcons(t,a):r.createElement("div",{style:{width:14,height:14}})}static getDirectionBasedIconValues(e){return e===al?{IconComponent:RS.a,dataTestValue:"data-table-asc-sort-icon",invertedDirection:rl}:{IconComponent:_S.a,dataTestValue:"data-table-desc-sort-icon",invertedDirection:al}}render(){return r.createElement(sl,Object.assign({onGetIcons:this.getIcons},this.props),(()=>this.props.disabled?r.createElement("span",null,this.props.children):r.createElement(_l.a,{title:i.a.t("Sort"),placement:"bottom",enterDelay:500},r.createElement("span",null,this.props.children)))())}}var jS=Object(ge.withStyles)(()=>({iconBase:{width:"14px",height:"14px",color:"#3a796f"},enabledIcon:{cursor:"pointer"}}))(kS);class PS extends r.Component{constructor(e){super(e),this.getSortHandler=e=>t=>{this.props.onSort(e,t)},this.getCustomEndCellHeader=()=>{const{getCustomEndCellHeader:e,getCustomEndCellBody:t,customEndCellHeaderStyle:a,classes:n}=this.props;return t?r.createElement(Zs,{className:En()(n.cell,n.headerCell),style:a},e&&e(this.props)):null},this.getCustomEndCellBody=(e,t)=>{const{getCustomEndCellBody:a,customEndCellBodyStyle:n,classes:o}=this.props;return a?r.createElement(Zs,{className:En()(o.cell,o.bodyCell),style:n},a(e,t)):null},this.columnHeaderInstances=[]}setColumnWidth(e,t){e&&!this.props.updating&&(this.columnHeaderInstances[t]=e)}renderHeaderRow(e){const t=this.props.sortById,a=this.props.sortByDirection,n=e.map((e,n)=>r.createElement(Zs,{innerRef:e=>{this.setColumnWidth(e,n)},key:e.id,className:En()(this.props.classes.cell,this.props.classes.headerCell),style:{width:this.props.updating&&this.columnHeaderInstances.length-1>=n?this.columnHeaderInstances[n].clientWidth:"auto"}},r.createElement(jS,{isActive:e.id===t,initialDirection:PS.typesWithAscendingInitialDirection.includes(e.type)?al:rl,placement:PS.typesWithRightPlacement.includes(e.type)?ol:nl,direction:a,onSort:this.getSortHandler(e.id),childrenClass:this.props.classes.sortLabelChilden},e.header)));return r.createElement(tl,{className:this.props.classes.row},n,this.getCustomEndCellHeader())}renderBody(e){const{classes:t,getCustomEndCellBody:a,updating:n}=this.props,o=e.length+(a?1:0);return n?r.createElement(tl,{className:t.loadingRow},r.createElement(qs,{colSpan:o,className:En()(t.cell,t.bodyCell,t.loadingCell)},r.createElement(fe,null))):this.renderRows(e,o)}renderRows(e,t){const a=this.props,{dataSource:n,classes:o,rowIdKey:s}=a,l=Object(_e.a)(a,["dataSource","classes","rowIdKey"]);return n&&0!==n.length?r.createElement(r.Fragment,null,n.map(t=>{const a=e.map(e=>r.createElement(qs,{key:e.id,className:En()(o.cell,o.bodyCell)},r.createElement("div",{style:PS.typesWithRightPlacement.includes(e.type)?{textAlign:"right"}:null},t[e.id])));return r.createElement(tl,{key:t[s],id:t[s],className:En()(o.row,o.dataRow),onClick:()=>this.props.onRowClick(t)},a,this.getCustomEndCellBody(t,l))})):r.createElement(tl,{className:o.row},r.createElement(qs,{colSpan:t,className:En()(o.cell,o.bodyCell)},i.a.t("No items to display")))}render(){const{classes:e,columns:t}=this.props,a=t?t.filter(e=>e.visible):[];return r.createElement("div",{className:e.tableContainer},r.createElement(ll,{className:e.table,"data-test":"online-list-table"},r.createElement(Js,null,this.renderHeaderRow(a)),r.createElement(Bs,{"data-test":"online-list-body"},this.renderBody(a))))}}PS.typesWithAscendingInitialDirection=[Yt.v.TEXT,Yt.v.LONG_TEXT,Yt.v.USERNAME,"ASSIGNEE"],PS.typesWithRightPlacement=[Yt.v.NUMBER,Yt.v.INTEGER,Yt.v.INTEGER_POSITIVE,Yt.v.INTEGER_NEGATIVE,Yt.v.INTEGER_ZERO_OR_POSITIVE];const DS=Object(ge.withStyles)(e=>({tableContainer:{overflowX:"auto"},table:{},row:{},loadingRow:{height:100},dataRow:{cursor:"pointer","&:hover":{backgroundColor:"#F1FBFF"}},cell:{padding:"".concat(e.spacing.unit/2,"px ").concat(7*e.spacing.unit,"px ").concat(e.spacing.unit/2,"px ").concat(3*e.spacing.unit,"px"),"&:last-child":{paddingRight:3*e.spacing.unit},borderBottomColor:"light"===e.palette.type?Object(vl.lighten)(Object(vl.fade)(e.palette.divider,1),.88):Object(vl.darken)(Object(vl.fade)(e.palette.divider,1),.8)},bodyCell:{fontSize:e.typography.pxToRem(13),color:e.palette.text.primary},staticHeaderCell:{width:1},headerCell:{fontSize:e.typography.pxToRem(12),color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium},loadingCell:{textAlign:"center"}}))(PS);class FS extends r.Component{renderHeaderRow(e){const t=this.props.sortById,a=this.props.sortByDirection,r=e.map(e=>n.a.createElement(Zs,{key:e.id,className:En()(this.props.classes.cell,this.props.classes.headerCell)},n.a.createElement(jS,{isActive:e.id===t,initialDirection:FS.typesWithAscendingInitialDirection.includes(e.type)?al:rl,placement:FS.typesWithRightPlacement.includes(e.type)?ol:nl,direction:a,disabled:!0},e.header)));return n.a.createElement(tl,{className:this.props.classes.row},r)}renderRows(e){const{dataSource:t,classes:a,noItemsText:r,rowIdKey:o}=this.props;if(!t||0===t.length){const t=e.length;return n.a.createElement(tl,{className:a.row},n.a.createElement(qs,{colSpan:t,className:En()(a.cell,a.bodyCell)},r||i.a.t("No items to display")))}return t.map(t=>{const r=e.map(e=>n.a.createElement(qs,{key:e.id,className:En()(a.cell,a.bodyCell)},n.a.createElement("div",{style:FS.typesWithRightPlacement.includes(e.type)?{textAlign:"right"}:null},t[e.id])));return n.a.createElement(tl,{key:t[o],className:a.row},r)})}render(){const{columns:e,classes:t}=this.props,a=e?e.filter(e=>e.visible):[];return n.a.createElement("div",{className:t.container},n.a.createElement("div",{className:t.topBarContainer}),n.a.createElement("div",{className:t.tableContainer},n.a.createElement(ll,{className:t.table},n.a.createElement(Js,null,this.renderHeaderRow(a)),n.a.createElement(Bs,null,this.renderRows(a)))))}}FS.defaultProps={rowIdKey:"id"},FS.typesWithAscendingInitialDirection=[Yt.v.TEXT,Yt.v.LONG_TEXT],FS.typesWithRightPlacement=[Yt.v.NUMBER,Yt.v.INTEGER,Yt.v.INTEGER_POSITIVE,Yt.v.INTEGER_NEGATIVE,Yt.v.INTEGER_ZERO_OR_POSITIVE];const xS=Object(ge.withStyles)(e=>({loaderContainer:{display:"flex",justifyContent:"center"},container:{borderColor:"light"===e.palette.type?Object(vl.lighten)(Object(vl.fade)(e.palette.divider,1),.88):Object(vl.darken)(Object(vl.fade)(e.palette.divider,1),.8),borderWidth:"1px",borderStyle:"solid"},topBarContainer:{display:"flex",justifyContent:"space-between"},tableContainer:{overflow:"auto"},optionsIcon:{color:e.palette.primary.main},table:{},row:{},cell:{padding:"".concat(e.spacing.unit/2,"px ").concat(7*e.spacing.unit,"px ").concat(e.spacing.unit/2,"px ").concat(3*e.spacing.unit,"px"),"&:last-child":{paddingRight:3*e.spacing.unit},borderBottomColor:"light"===e.palette.type?Object(vl.lighten)(Object(vl.fade)(e.palette.divider,1),.88):Object(vl.darken)(Object(vl.fade)(e.palette.divider,1),.8)},bodyCell:{fontSize:e.typography.pxToRem(13),color:e.palette.text.primary},headerCell:{fontSize:e.typography.pxToRem(12),color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium}}))(FS),LS=Object(ge.withStyles)(e=>({container:{borderColor:"light"===e.palette.type?Object(vl.lighten)(Object(vl.fade)(e.palette.divider,1),.88):Object(vl.darken)(Object(vl.fade)(e.palette.divider,1),.8),borderWidth:"1px",borderStyle:"solid",padding:10,display:"flex",alignItems:"center",justifyContent:"center"}}))(e=>n.a.createElement("div",{className:e.classes.container},e.emptyListText||i.a.t("Data for offline list not present"))),US=e=>{const t=e?e(xS):xS;return e=>{const{hasData:a}=e,r=Object(_e.a)(e,["hasData"]);return a?n.a.createElement(t,r):n.a.createElement(LS,null)}};a(1006);class MS extends r.Component{constructor(e){super(e),this.handleReferenceInstanceRetrieved=e=>{this.managerRef(e),this.menuReferenceInstance=e},this.toggleMenu=e=>{this.setState({popperOpen:!this.state.popperOpen}),e&&e.stopPropagation()},this.closeMenu=()=>{this.setState({popperOpen:!1})},this.handleClickAway=e=>{this.menuReferenceInstance&&this.menuReferenceInstance.contains(e.target)||this.closeMenu()},this.state={popperOpen:!1}}render(){const{classes:e,getPopperAction:t,getPopperContent:a}=this.props;return r.createElement(bO.a,null,r.createElement(EO.a,null,({ref:e})=>(this.managerRef=e,r.createElement("div",{ref:this.handleReferenceInstanceRetrieved},t(this.toggleMenu)))),this.state.popperOpen&&r.createElement(fO.a,{placement:this.props.placement},({ref:t,style:n,placement:o})=>r.createElement("div",{ref:t,style:Object(G.a)({},n,{zIndex:1}),className:e?e.popperContainer:"","data-placement":o},r.createElement(SO.a,{onClickAway:this.handleClickAway},r.createElement(IO.a,{in:!!this.state.popperOpen,id:"menu-list-grow",style:{transformOrigin:"0 0 0"},timeout:{exit:0,enter:200}},r.createElement(r.Fragment,null,a(this.toggleMenu)))))))}}MS.defaultProps={placement:"bottom-end"};var VS=MS;const BS=Object(r.memo)(Object(ge.withStyles)(()=>({subHeader:{paddingLeft:16,paddingRight:16,paddingTop:10,paddingBottom:10,color:"#717c8b",fontWeight:500,fontSize:16,"&:focus":{outline:"none",color:"black"}},subHeaderDivider:{"&:focus":{outline:"none",backgroundColor:"black"}}}))(({customMenuContents:e=[],classes:t})=>{const a=Object(r.useCallback)(e=>n.a.createElement(Ql.j,{"data-test":"list-view-menu-button",onClick:e},n.a.createElement(In.n,null)),[]),o=Object(r.useCallback)(a=>e.map(e=>e.subHeader?n.a.createElement(n.a.Fragment,null,n.a.createElement(Ql.h,{key:"".concat(e.key,"divider"),"data-test":"subheader-divider-".concat(e.key),className:t.subHeaderDivider}),",",n.a.createElement("div",{key:e.key,"data-test":"subheader-".concat(e.key),className:t.subHeader},e.subHeader),","):n.a.createElement(Ql.m,{key:e.key,"data-test":"menu-item-".concat(e.key),onClick:()=>{e.clickHandler&&(a(),e.clickHandler())},disabled:!e.clickHandler},e.element)).flat(1),[e,t]),i=Object(r.useCallback)(e=>n.a.createElement(Ql.o,null,n.a.createElement(Ql.n,{role:"menu"},o(e))),[o]);return e.length?n.a.createElement(VS,{getPopperAction:a,getPopperContent:i}):null})),GS=(e=>class extends r.Component{constructor(...e){super(...e),this.getCustomEndCellBody=(e,t)=>TS().getCellBody(e,t),this.getCustomEndCellHeader=(e,t)=>{const a=TS();return a.getCellHeader&&a.getCellHeader(t)}}render(){const t=TS();return r.createElement(e,Object.assign({getCustomEndCellHeader:this.getCustomEndCellHeader,getCustomEndCellBody:this.getCustomEndCellBody,customEndCellHeaderStyle:t.headerCellStyle,customEndCellBodyStyle:t.bodyCellStyle},this.props))}})(DS);class HS extends r.PureComponent{constructor(...e){super(...e),this.renderTopBar=()=>{const{classes:e,filters:t,columns:a,customMenuContents:n,onSetColumnOrder:o}=this.props;return r.createElement("div",{className:e.topBarContainer},r.createElement("div",{className:e.topBarLeftContainer},t),r.createElement("div",{className:e.topBarButtonContainer},r.createElement(OS,{onSave:o,columns:a}),r.createElement(BS,{customMenuContents:n})))},this.renderPager=()=>{const e=this.props.classes;return r.createElement("div",{className:e.paginationContainer},r.createElement(XO,null))},this.renderList=()=>{const e=this.props,{classes:t,filters:a,updatingWithDialog:n,onSelectRow:o,customRowMenuContents:i}=e,s=Object(_e.a)(e,["classes","filters","updatingWithDialog","onSelectRow","customRowMenuContents"]),l=i&&i.length?GS:DS;return r.createElement(l,Object.assign({},s,{customRowMenuContents:i,onRowClick:o}))}}render(){return r.createElement("div",null,this.renderTopBar(),this.renderList(),this.renderPager(),this.props.updatingWithDialog&&r.createElement(Ne,null))}}const WS=(e=>t=>{let{columns:a,filtersOnly:n,onUpdateFilter:o,onClearFilter:i,onSelectRestMenuItem:s,stickyFilters:l}=t,c=Object(_e.a)(t,["columns","filtersOnly","onUpdateFilter","onClearFilter","onSelectRestMenuItem","stickyFilters"]);return r.createElement(e,Object.assign({},c,{columns:a,filters:r.createElement(jO,{columns:a,filtersOnly:n,onUpdateFilter:o,onClearFilter:i,onSelectRestMenuItem:s,stickyFilters:l})}))})(Object(ge.withStyles)(e=>({topBarContainer:{display:"flex",justifyContent:"space-between",padding:e.typography.pxToRem(8)},topBarLeftContainer:{display:"flex",alignItems:"center",flexWrap:"wrap"},topBarButtonContainer:{display:"flex",alignItems:"center"},paginationContainer:{fontSize:e.typography.pxToRem(12),color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,display:"flex",justifyContent:"flex-end"}}))(HS)),YS=e=>{let{filters:t,onChangePage:a,onChangeRowsPerPage:o,rowsPerPage:i,currentPage:s,dataSource:l}=e,c=Object(_e.a)(e,["filters","onChangePage","onChangeRowsPerPage","rowsPerPage","currentPage","dataSource"]);const d=Object(r.useMemo)(()=>({onChangePage:a,onChangeRowsPerPage:o,rowsPerPage:i,currentPage:s,rowCountPage:l.length}),[a,o,i,s,l.length]);return n.a.createElement(Wb.Provider,{value:t},n.a.createElement(Yb.Provider,{value:d},n.a.createElement(WS,Object.assign({},c,{dataSource:l}))))};a(1008);const zS=Object(r.memo)(e=>{let{columns:t=[]}=e,a=Object(_e.a)(e,["columns"]);return n.a.createElement(YS,Object.assign({},a,{columns:t}))}),qS=e=>{let{customListViewMenuContents:t}=e,a=Object(_e.a)(e,["customListViewMenuContents"]);const o=Object(r.useContext)(Ub);if(!o)throw Error("missing ListViewBuilderContext");const{dataSource:i,onSelectListRow:s,onSortList:l,onSetListColumnOrder:c,stickyFilters:d}=o,p=Object(_e.a)(o,["dataSource","onSelectListRow","onSortList","onSetListColumnOrder","stickyFilters"]);if(!i||!d){const e="dataSource and stickyFilters needs to be set in ListViewBuilder";throw U.a.error(Object(B.c)(e)({dataSource:i,stickyFilters:d})),Error("".concat(e,". See console for details"))}return n.a.createElement(zS,Object.assign({},a,p,{dataSource:i,onSelectRow:s,onSort:l,onSetColumnOrder:c,customMenuContents:t,stickyFilters:d}))};function KS(e,t){if(e===t)return!0;const a=Object.keys(e).filter(t=>null!=e[t]),r=Object.keys(t).filter(e=>null!=t[e]);return a.length===r.length&&r.every(a=>t[a]===e[a])}const XS=(e,{forceFirstRunUpdate:t,filters:a,restDependencies:n})=>{const o=Object(r.useRef)(!0);Object(r.useEffect)(()=>{if(!o.current||(o.current=!1,t))return e()},(e=>{const[t,...a]=e,n=Object(r.useRef)(t);return KS(n.current,t)||(n.current=t),[n.current,...a]})([a,t,...n]))},JS=(e,t)=>{const a=Object.keys(e).filter(t=>"complete"!==t&&e[t]&&("object"!==typeof e[t]||Object.keys(e[t]).length>0)),r=Object.keys(t).filter(e=>"complete"!==e&&t[e]&&("object"!==typeof t[e]||Object.keys(t[e]).length>0));return a.length===r.length&&a.every(a=>{const r=e[a],n=t[a];return"categories"===a?JS(e.categories,t.categories):r===n})};var ZS=JS;const QS=Cp()(ac(()=>({margin:10}))(e=>{const{filters:t,sortById:a,sortByDirection:o,onUpdateList:i,programId:s,orgUnitId:l,categories:c,viewLoadedOnFirstRun:d}=e,p=Object(_e.a)(e,["filters","sortById","sortByDirection","onUpdateList","programId","orgUnitId","categories","viewLoadedOnFirstRun"]),u=Object(r.useContext)(Lb);if(!u)throw Error("missing ListViewUpdaterContext");const{currentPage:m,rowsPerPage:h,onCancelUpdateList:g,customUpdateTrigger:y,forceUpdateOnMount:v,dirtyList:b}=u,E=Object(r.useRef)((v||b)&&!d);if(!m||!h)throw U.a.error(Object(B.c)("currentPage and rowsPerPage needs to be set during list view loading")({currentPage:m,rowsPerPage:h})),Error("currentPage and rowsPerPage needs to be set during list view loading. See console for details");return XS(()=>(i({filters:t,sortById:a,sortByDirection:o,currentPage:m,rowsPerPage:h,programId:s,orgUnitId:l,categories:c}),()=>g&&g()),{forceFirstRunUpdate:E.current,filters:t,restDependencies:[a,o,m,h,s,l,c,y,i,g]}),Object(r.useEffect)(()=>()=>g&&g(),[g]),n.a.createElement(qS,Object.assign({},p,{filters:t,sortById:a,sortByDirection:o,currentPage:m,rowsPerPage:h}))})),$S=({programId:e,orgUnitId:t,categories:a,loadedViewContext:n,currentTemplate:o,viewPreloaded:i,dirtyView:s,firstRun:l,prevTemplate:c})=>{let d=!1;return(!((e,t,a,n)=>Object(r.useMemo)(()=>{if(!n)return!1;return ZS({programId:e,orgUnitId:t,categories:a},n)},[e,t,a,n]))(e,t,a,n)||((e,t,a)=>t&&e.id!==t.id&&!a)(o,c,i)||s&&l)&&(d=!0),d},eC=Object(r.memo)(e=>{const{currentTemplate:t,programId:a}=e,o=Object(_e.a)(e,["currentTemplate","programId"]),i=Object(r.useContext)(xb);if(!i)throw Error("missing ListViewLoaderContext");const{sortById:s,sortByDirection:l,filters:c,columns:d,loading:p,onLoadView:u,loadViewError:m,onCancelLoadView:h,onUpdateList:g,orgUnitId:y,categories:v,dirtyView:b,loadedViewContext:E,viewPreloaded:f}=i,{triggerLoad:O,viewLoadedOnFirstRun:S}=(({programId:e,orgUnitId:t,categories:a,loadedViewContext:n,currentTemplate:o,dirtyView:i,onLoadView:s,onCancelLoadView:l,viewPreloaded:c})=>{const d=Object(r.useRef)(!0),p=Object(r.useRef)(void 0),u=Object(r.useRef)(!0),m=Object(r.useRef)(!1),h=$S({programId:e,orgUnitId:t,categories:a,loadedViewContext:n,currentTemplate:o,viewPreloaded:c,dirtyView:i,firstRun:d.current,prevTemplate:p.current});u.current=h;const g=Object(r.useCallback)(()=>{u.current&&l&&l()},[l]);return Object(r.useEffect)(()=>(p.current=o,d.current=!1,h&&s(o,{programId:e,orgUnitId:t,categories:a}),()=>g()),[h,s,o,e,t,a,g]),Object(r.useEffect)(()=>()=>l&&l(),[l]),d.current&&h&&(m.current=!0),{triggerLoad:h,viewLoadedOnFirstRun:m.current}})({programId:a,orgUnitId:y,categories:v,loadedViewContext:E,currentTemplate:t,dirtyView:b,onLoadView:u,onCancelLoadView:h,viewPreloaded:f});return n.a.createElement(QS,Object.assign({},o,{sortById:s,sortByDirection:l,filters:c,columns:d,programId:a,orgUnitId:y,categories:v,ready:!O&&!p,error:m,onUpdateList:g,viewLoadedOnFirstRun:S}))});a(1009);var tC=Object(ge.withStyles)(()=>({buttonContainer:{display:"flex",justifyContent:"space-between"}}))(e=>{const{onSaveTemplate:t,onClose:a,classes:n}=e;return r.createElement(r.Fragment,null,r.createElement(Ql.g,null,i.a.t("Save")),r.createElement(Ql.e,null),r.createElement(Ql.d,{className:n.buttonContainer},r.createElement(Bd,{onClick:a},i.a.t("Cancel")),r.createElement(Bd,{onClick:t,primary:!0},i.a.t("Save"))))});var aC=e=>{const{open:t,onClose:a,onSaveTemplate:n}=e;return r.createElement(Ql.c,{open:t,onClose:a,fullWidth:!0},r.createElement(tC,{onSaveTemplate:n,onClose:a}))};var rC=e=>{const t=Object.assign({},e),[a,n]=r.useState(""),o=r.useCallback(({value:e})=>{e.length>50?n(e.substring(0,50)):n(e)},[]);return r.createElement(bl.f,Object.assign({},t,{onChange:o,value:a}))};var nC=Object(ge.withStyles)(e=>({error:{padding:4,color:"rgb(211, 47, 47)",fontSize:e.typography.pxToRem(14)},input:{width:"100%"},buttonContainer:{display:"flex",justifyContent:"space-between"}}))(e=>{const{onSaveTemplate:t,onClose:a,classes:n}=e,[o,s]=r.useState(""),[l,c]=r.useState(),d=r.useCallback(({value:e})=>{e&&c(void 0),s(e)},[]),p=r.useCallback(()=>{o?t(o):c("Please specify a view name")},[o,t]);return r.createElement(r.Fragment,null,r.createElement(Ql.g,null,i.a.t("Save As view")),r.createElement(Ql.e,null,r.createElement(rC,{onBlur:d,className:n.input,label:i.a.t("View name"),error:!!l,dataTest:"view-name",initialFocus:!0,required:!0,name:"viewName"}),r.createElement("div",{"data-test":"view-name-error-message",className:n.error},l)),r.createElement(Ql.d,{className:n.buttonContainer},r.createElement(Bd,{onClick:a},i.a.t("Cancel")),r.createElement(Bd,{onClick:p,primary:!0},i.a.t("Save"))))});var oC=e=>{const{open:t,onClose:a,onSaveTemplate:n}=e;return r.createElement(Ql.c,{open:t,onClose:a,fullWidth:!0},r.createElement(nC,{onSaveTemplate:n,onClose:a}))};var iC=Object(ge.withStyles)(()=>({buttonContainer:{display:"flex",justifyContent:"space-between"}}))(e=>{const{open:t,onClose:a,onDeleteTemplate:n,templateName:o,classes:s}=e;return r.createElement(Ql.c,{open:t,onClose:a},r.createElement(Ql.g,null,i.a.t("Delete view")),r.createElement(Ql.e,null,r.createElement(Ql.f,null,i.a.t("Do you really want to delete the '{{templateName}}' view?",{templateName:o}))),r.createElement(Ql.d,{className:s.buttonContainer},r.createElement(Bd,{onClick:a},i.a.t("Cancel")),r.createElement(Bd,{onClick:n,primary:!0},i.a.t("Confirm"))))}),sC=a(6963),lC=a.n(sC);const cC=Object(ge.withStyles)({dialog:{width:1e3,display:"flex"}})(({onClose:e,open:t,templateId:a,classes:o})=>{const i=Object(r.useCallback)(({externalAccess:t,publicAccess:a,userAccesses:r,userGroupAccesses:n})=>e({externalAccess:t,publicAccess:a,userAccesses:r.map(({id:e,access:t})=>({id:e,access:t})),userGroupAccesses:n.map(({id:e,access:t})=>({id:e,access:t}))}),[e]);return n.a.createElement(lC.a,{open:t,id:a,onRequestClose:i,type:"eventFilter",d2:re(),className:o.dialog})}),dC="NEW",pC="REPLACE",uC="DELETE",mC="SHARING";var hC=Object(r.forwardRef)((e,t)=>{const{mode:a,currentTemplate:o,onAddTemplate:i,onUpdateTemplate:s,onDeleteTemplate:l,onSetSharingSettings:c}=e,d=Object(_e.a)(e,["mode","currentTemplate","onAddTemplate","onUpdateTemplate","onDeleteTemplate","onSetSharingSettings"]),p=Object(r.useCallback)(()=>{s(o)},[s,o]),u=Object(r.useCallback)(()=>{l(o)},[l,o]),m=Object(r.useCallback)(e=>{c(e,o.id)},[c,o.id]);return Object(r.useImperativeHandle)(t,()=>({handleUpdateTemplate:p})),n.a.createElement(n.a.Fragment,null,n.a.createElement(aC,Object.assign({},d,{open:a===pC,onSaveTemplate:p})),n.a.createElement(oC,Object.assign({},d,{open:a===dC,onSaveTemplate:i})),n.a.createElement(iC,Object.assign({},d,{open:a===uC,onDeleteTemplate:u,templateName:o.name})),n.a.createElement(cC,{open:a===mC,templateId:o.id,onClose:m}))});const gC=Object(ge.withStyles)(e=>({delete:{color:e.palette.error.dark}}))(e=>{const{currentTemplate:t,onAddTemplate:a,onUpdateTemplate:o,onDeleteTemplate:s,onSetTemplateSharingSettings:l,currentViewHasTemplateChanges:c,classes:d,customListViewMenuContents:p}=e,u=Object(_e.a)(e,["currentTemplate","onAddTemplate","onUpdateTemplate","onDeleteTemplate","onSetTemplateSharingSettings","currentViewHasTemplateChanges","classes","customListViewMenuContents"]),[m,h]=Object(r.useState)(null),g=Object(r.useRef)(null),y=Object(r.useCallback)(()=>{h(null)},[]),v=Object(r.useCallback)((...e)=>{h(null),o&&o(...e)},[o]),b=Object(r.useCallback)((...e)=>{h(null),a&&a(...e)},[a]),E=Object(r.useCallback)((...e)=>{h(null),s&&s(...e)},[s]),f=Object(r.useCallback)((...e)=>{h(null),l&&l(...e)},[l]),O=Object(r.useCallback)(()=>({key:"save",clickHandler:()=>{g.current.handleUpdateTemplate()},element:i.a.t("Update view")}),[]),S=Object(r.useCallback)((e,t)=>e&&!t?{key:"saveAs",element:i.a.t("Save current view...")}:{key:"saveAs",clickHandler:()=>{h(dC)},element:e?i.a.t("Save current view..."):i.a.t("Save current view as...")},[]),C=Object(r.useCallback)(()=>({key:"delete",clickHandler:()=>{h(uC)},element:n.a.createElement("div",{className:d.delete},i.a.t("Delete view"))}),[d.delete]),I=Object(r.useCallback)(()=>({key:"share",clickHandler:()=>{h(mC)},element:i.a.t("Share view...")}),[]),w=Object(r.useCallback)(e=>({key:"savedViewSubHeader",subHeader:e.length>30?"".concat(e.substring(0,27),"..."):e}),[]),T=Object(r.useMemo)(()=>{const e=[],r=[],{access:n,isDefault:i,notPreserved:l,name:d}=t;return a&&e.push(S(!!i,c)),!i&&!l&&n.write&&n.update&&c&&o&&r.push(O()),i||l||!n.manage||r.push(I()),!i&&!l&&n.delete&&s&&r.push(C()),r.length>0&&r.splice(0,0,w(d)),[...p||[],...e,...r]},[t,O,S,C,I,c,w,p,a,o,s]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(eC,Object.assign({},u,{currentTemplate:t,customListViewMenuContents:T})),n.a.createElement(hC,{ref:g,onClose:y,mode:m,currentTemplate:t,onAddTemplate:b,onUpdateTemplate:v,onDeleteTemplate:E,onSetSharingSettings:f}))}),yC=e=>{const{children:t}=e,a=Object(_e.a)(e,["children"]),o=Object(r.useContext)(Fb);if(!o)throw Error("missing ListViewConfigContext");const{currentViewHasTemplateChanges:i}=o,s=Object(_e.a)(o,["currentViewHasTemplateChanges"]);return n.a.createElement(n.a.Fragment,null,t(!!i),n.a.createElement(gC,Object.assign({},a,s,{currentViewHasTemplateChanges:!!i})))};var vC=e=>{const{currentListIsModified:t,text:a,isSelectedTemplate:r}=e,n=a.length>30?"".concat(a.substring(0,27),"..."):a;return r&&t?"".concat(n," *"):n};var bC=e=>{const{template:t,currentTemplateId:a,onSelectTemplate:n}=e,o=Object(_e.a)(e,["template","currentTemplateId","onSelectTemplate"]),{name:i,id:s}=t,l=r.useCallback(()=>{n(t)},[n,t]);return r.createElement(bl.c,{dataTest:"workinglist-template-selector-chip",selected:s===a,onClick:l},r.createElement(vC,Object.assign({},o,{text:i,isSelectedTemplate:s===a})))};var EC=e=>{const{captureEl:t,extraTriggers:a}=e,[n,o]=r.useState(0),i=r.useCallback(()=>{o(t.current.scrollHeight)},[t]);return r.useLayoutEffect(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[...a,i]),e.children(n)};const fC=e=>{const t=Object(vl.lighten)(Object(vl.fade)(e.palette.divider,1),.88);return"".concat(e.typography.pxToRem(1)," solid ").concat(t)};var OC=Object(ge.withStyles)(e=>({container:{borderBottom:fC(e)},configsContainer:{display:"flex",flexWrap:"wrap",padding:"".concat(e.typography.pxToRem(3)," 0rem"),maxHeight:110,overflow:"hidden"},configsContainerExpanded:{display:"flex",flexWrap:"wrap",padding:"".concat(e.typography.pxToRem(3)," 0rem")},chipContainer:{padding:"".concat(e.typography.pxToRem(5)," ").concat(e.typography.pxToRem(8))},linkButtonContainer:{marginBottom:5,display:"flex",justifyContent:"center"},linkButton:{fontSize:10,backgroundColor:"transparent","&:focus":{outline:"none",fontWeight:500}}}))(e=>{const{templates:t,currentTemplateId:a,currentListIsModified:n,onSelectTemplate:o,classes:s}=e,l=r.useRef(null),[c,d]=r.useState(!1),p=r.useMemo(()=>t.filter(e=>!e.isDefault).sort(({order:e,name:t},{order:a,name:r})=>{let n;return n=e&&a?e-a:e?1:a?-1:t.localeCompare(r),n}),[t]),u=r.useCallback(()=>r.createElement(Hd,{className:s.linkButton,onClick:()=>{d(!c)}},c?i.a.t("Show Less"):i.a.t("Show All")),[c,s.linkButton]);if(p.length<=0)return null;const m=p.map(e=>{const{id:t}=e;return r.createElement("div",{"data-test":"workinglist-template-selector-chip-container",className:s.chipContainer,key:t},r.createElement(bC,{template:e,currentTemplateId:a,onSelectTemplate:o,currentListIsModified:n}))});return r.createElement("div",{className:s.container},r.createElement(EC,{captureEl:l,extraTriggers:[t]},e=>r.createElement(r.Fragment,null,r.createElement("div",{"data-test":"workinglists-template-selector-chips-container",ref:l,className:c?s.configsContainerExpanded:s.configsContainer},m),r.createElement("div",{className:s.linkButtonContainer},e>110?u():null))))});const SC=e=>{const t=Object(vl.lighten)(Object(vl.fade)(e.palette.divider,1),.88);return"".concat(e.typography.pxToRem(1)," solid ").concat(t)},CC=e=>({container:{border:SC(e)}}),IC=(e=>Object(ge.withStyles)(CC)(class extends r.Component{render(){const t=this.props,{classes:a}=t,n=Object(_e.a)(t,["classes"]);return r.createElement("div",{className:a.container,"data-test":"workinglists-border"},r.createElement(e,n))}}))(e=>{const{templates:t}=e,a=Object(_e.a)(e,["templates"]),{currentTemplate:o,onSelectTemplate:i}=Object(r.useContext)(Db)||{};if(!t||!o)throw U.a.error(Object(B.c)("Templates and currentTemplate needs to be set during templates loading")({templates:t,currentTemplate:o})),Error("Templates and currentTemplate needs to be set during templates loading. See console for details");const s=n.a.useCallback(e=>{if(e.id!==o.id)i(e.id);else{const e=t.find(e=>e.isDefault);i(e.id)}},[i,o.id,t]);return n.a.createElement(yC,Object.assign({},a,{currentTemplate:o}),e=>n.a.createElement(OC,{templates:t,currentTemplateId:o.id,currentListIsModified:e,onSelectTemplate:s}))}),wC=Cp()(ac()(IC)),TC=Object(r.memo)(e=>{const{loadTemplatesError:t,onLoadTemplates:a,onCancelLoadTemplates:o,programId:i,loadedProgramIdForTemplates:s,dirtyTemplates:l,templatesLoading:c}=e,d=Object(_e.a)(e,["loadTemplatesError","onLoadTemplates","onCancelLoadTemplates","programId","loadedProgramIdForTemplates","dirtyTemplates","templatesLoading"]),p=(({programId:e,loadedProgramIdForTemplates:t,dirtyTemplates:a,onLoadTemplates:n,onCancelLoadTemplates:o})=>{const i=Object(r.useRef)(!0),s=Object(r.useRef)(!0);let l=!1;(e!==t||a&&i.current)&&(l=!0),s.current=l;const c=Object(r.useCallback)(()=>{s.current&&o&&o()},[o]);return Object(r.useEffect)(()=>(i.current=!1,l&&n(e),()=>c()),[l,n,e,c]),Object(r.useEffect)(()=>()=>o&&o(),[o]),l})({programId:i,loadedProgramIdForTemplates:s,dirtyTemplates:l,onLoadTemplates:a,onCancelLoadTemplates:o});return n.a.createElement(wC,Object.assign({},d,{ready:!p&&!c,error:t,programId:i}))}),NC=e=>{const{templates:t,currentTemplate:a,onSelectTemplate:o,onLoadView:i,loadViewError:s,onUpdateList:l,onCancelLoadView:c,onCancelUpdateList:d,columns:p,loading:u,updating:m,updatingWithDialog:h,onAddTemplate:g,onUpdateTemplate:y,onDeleteTemplate:v,onUnloadingContext:b,orgUnitId:E,categories:f,loadedContext:O,dataSource:S,onSelectListRow:C,sortById:I,sortByDirection:w,onSortList:T,customRowMenuContents:N,onSetListColumnOrder:_,filters:A,onUpdateFilter:R,onClearFilter:k,onSelectRestMenuItem:j,onChangePage:P,onChangeRowsPerPage:D,stickyFilters:F,rowsPerPage:x,currentPage:L,currentViewHasTemplateChanges:U,viewPreloaded:M,customUpdateTrigger:V,forceUpdateOnMount:B}=e,G=Object(_e.a)(e,["templates","currentTemplate","onSelectTemplate","onLoadView","loadViewError","onUpdateList","onCancelLoadView","onCancelUpdateList","columns","loading","updating","updatingWithDialog","onAddTemplate","onUpdateTemplate","onDeleteTemplate","onUnloadingContext","orgUnitId","categories","loadedContext","dataSource","onSelectListRow","sortById","sortByDirection","onSortList","customRowMenuContents","onSetListColumnOrder","filters","onUpdateFilter","onClearFilter","onSelectRestMenuItem","onChangePage","onChangeRowsPerPage","stickyFilters","rowsPerPage","currentPage","currentViewHasTemplateChanges","viewPreloaded","customUpdateTrigger","forceUpdateOnMount"]),H=Object(r.useMemo)(()=>!!t&&t.some(e=>e.updating||e.notPreserved||e.deleted),[t]),W=Object(r.useRef)(H),Y=Object(r.useRef)(u),z=Object(r.useRef)(m||h),q=Object(r.useMemo)(()=>O||{},[O]),K=Object(r.useMemo)(()=>q.programIdTemplates,[q.programIdTemplates]),X=Object(r.useMemo)(()=>({programId:q.programIdView,orgUnitId:q.orgUnitId,categories:q.categories}),[q.programIdView,q.orgUnitId,q.categories]),J=Object(r.useMemo)(()=>t&&t.filter(e=>!e.deleted),[t]);return Object(r.useEffect)(()=>()=>b&&b(),[b]),n.a.createElement(Mb,{currentTemplate:a,onSelectTemplate:o},n.a.createElement(Vb,{currentViewHasTemplateChanges:U,onAddTemplate:g,onUpdateTemplate:y,onDeleteTemplate:v},n.a.createElement(Bb,{sortById:I,sortByDirection:w,filters:A,columns:p,loading:u,onLoadView:i,loadViewError:s,onUpdateList:l,onCancelLoadView:c,orgUnitId:E,categories:f,dirtyView:W.current||Y.current,loadedViewContext:X,viewPreloaded:M},n.a.createElement(Gb,{rowsPerPage:x,currentPage:L,onCancelUpdateList:d,customUpdateTrigger:V,forceUpdateOnMount:B,dirtyList:z.current},n.a.createElement(Hb,{updating:m,updatingWithDialog:h,dataSource:S,onSelectListRow:C,onSortList:T,onSetListColumnOrder:_,customRowMenuContents:N,onUpdateFilter:R,onClearFilter:k,onSelectRestMenuItem:j,onChangePage:P,onChangeRowsPerPage:D,stickyFilters:F},n.a.createElement(TC,Object.assign({},G,{templates:J,dirtyTemplates:!!W.current,loadedProgramIdForTemplates:K})))))))},_C=Object(r.memo)(e=>n.a.createElement(NC,e)),AC=({initialViewConfig:e,defaultColumns:t,filters:a,columns:n,sortById:o,sortByDirection:i})=>{const s=Object(r.useMemo)(()=>{if(!e)return e;const a=e.customVisibleColumnIds||t.filter(e=>e.visible).map(e=>e.id);return Object(G.a)({},e,{customVisibleColumnIds:void 0,visibleColumnIds:a})},[e,t]);return Object(r.useMemo)(()=>{if(s)return(({filters:e,columns:t,sortById:a,sortByDirection:r},{filters:n,visibleColumnIds:o,sortById:i,sortByDirection:s})=>{if(a!==i||r!==s)return!0;const l=t.filter(e=>e.visible).map(e=>e.id);return l.length!==o.length||(!!l.some((e,t)=>e!==o[t])||!KS(n,e))})({filters:a,columns:n,sortById:o,sortByDirection:i},s)},[a,n,o,i,s])};var RC=a(445);const kC={},jC={["TODAY"]:()=>{const e=Object(Jt.a)(),t=e;return["ge:".concat(Object(RC.a)(e)),"le:".concat(Object(RC.a)(t))]},["THIS_WEEK"]:()=>{const e=Object(Jt.a)().startOf("week"),t=Object(Jt.a)().endOf("week");return["ge:".concat(Object(RC.a)(e)),"le:".concat(Object(RC.a)(t))]},["THIS_MONTH"]:()=>{const e=Object(Jt.a)().startOf("month"),t=Object(Jt.a)().endOf("month");return["ge:".concat(Object(RC.a)(e)),"le:".concat(Object(RC.a)(t))]},["THIS_YEAR"]:()=>{const e=Object(Jt.a)().startOf("year"),t=Object(Jt.a)().endOf("year");return["ge:".concat(Object(RC.a)(e)),"le:".concat(Object(RC.a)(t))]},["LAST_WEEK"]:()=>{const e=Object(Jt.a)().subtract(1,"weeks").startOf("week"),t=Object(Jt.a)().subtract(1,"weeks").endOf("week");return["ge:".concat(Object(RC.a)(e)),"le:".concat(Object(RC.a)(t))]},["LAST_MONTH"]:()=>{const e=Object(Jt.a)().subtract(1,"months").startOf("month"),t=Object(Jt.a)().subtract(1,"months").endOf("month");return["ge:".concat(Object(RC.a)(e)),"le:".concat(Object(RC.a)(t))]},["LAST_3_MONTHS"]:()=>{const e=Object(Jt.a)().subtract(3,"months").startOf("month"),t=Object(Jt.a)().subtract(1,"months").endOf("month");return["ge:".concat(Object(RC.a)(e)),"le:".concat(Object(RC.a)(t))]}};function PC(e,t,a,r){return function(e,t,a){kC[t]&&!a||(kC[t]={});const r=kC[t];return r[e]||(r[e]=Object(Qd.createSelector)(e=>e,e=>jC[e.period]())),r[e]}(t,a,r)(e)}const DC=e=>e.toString();const FC={[Yt.v.NUMBER]:DC,[Yt.v.INTEGER]:DC,[Yt.v.INTEGER_POSITIVE]:DC,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:DC,[Yt.v.INTEGER_NEGATIVE]:DC,[Yt.v.DATE]:function(e){const t=Object(Jt.a)(e);return t.locale("en"),t.format("YYYY-MM-DD")},[Yt.v.TRUE_ONLY]:()=>"true",[Yt.v.BOOLEAN]:e=>e?"true":"false",[Yt.v.FILE_RESOURCE]:e=>e.value,[Yt.v.IMAGE]:e=>e.value,[Yt.v.COORDINATE]:e=>"[".concat(e.longitude,",").concat(e.latitude,"]"),[Yt.v.PERCENTAGE]:e=>e.replace("%",""),[Yt.v.ORGANISATION_UNIT]:e=>e.id};function xC(e,t){return Object(B.e)(e=>e.map(e=>function(e,t){return FC[t]?FC[t](e):e}(e,t)),e=>e.join(";"),e=>"in:".concat(e))(e.values)}function LC(e){const t=[];return(e.ge||0===e.ge)&&t.push("ge:".concat(e.ge)),(e.le||0===e.le)&&t.push("le:".concat(e.le)),t.join(":")}const UC={[aE.TEXT]:function(e){return"like:".concat(e.value)},[aE.NUMBER]:LC,[aE.INTEGER]:LC,[aE.INTEGER_POSITIVE]:LC,[aE.INTEGER_NEGATIVE]:LC,[aE.INTEGER_ZERO_OR_POSITIVE]:LC,[aE.DATE]:function(e,t,a,r){return"ABSOLUTE"===e.type?function(e){const t=[];if(e.ge){const a=Object(RC.a)(Object(Jt.a)(e.ge));t.push("ge:".concat(a))}if(e.le){const a=Object(RC.a)(Object(Jt.a)(e.le));t.push("le:".concat(a))}return t}(e):PC(e,t,a,r)},[aE.ASSIGNEE]:function(e){return{assignedUserMode:e.assignedUserMode,assignedUser:e.assignedUser&&e.assignedUser.id}},[aE.BOOLEAN]:function(e){return Object(B.e)(e=>e.map(e=>e?"true":"false"),e=>e.length>1?{valueString:e.join(";"),single:!1}:{valueString:e[0],single:!0},({valueString:e,single:t})=>t?"eq:".concat(e):"in:".concat(e))(e.values)},[aE.TRUE_ONLY]:function(e){return"eq:".concat(e.value)}};const MC=(e,{columns:t,filtersOnly:a,storeId:r,isInit:n=!1})=>Object.keys(e).filter(t=>e[t]).reduce((o,i)=>{const{type:s}=t.get(i)||a&&a.get(i)||{};if(s){const t=function(e,t,a){return e&&e.usingOptionSet?xC(e,t):UC[t]?UC[t](e,a.key,a.storeId,a.isInit):e}(e[i],s,{key:i,storeId:r,isInit:n});o[i]=t}else U.a.error(Object(B.c)("Could not get type for key")({key:i,storeId:r}));return o},{}),VC="newRecentlyAddedEvent",BC="ListItemPrepend",GC="ListItemRemove",HC="ListReset",WC=Object(Ur.b)({[rb]:(e,t)=>{const{storeId:a}=t.payload;return Object(G.a)({},e,{[a]:void 0})},[nb]:(e,t)=>{const a=Object(G.a)({},e),{storeId:r,config:n,pagingData:o}=t.payload,{filters:i,rowsPerPage:s,currentPage:l,sortById:c,sortByDirection:d,customColumnOrder:p}=n,u={filters:i,sortById:c,sortByDirection:d,customVisibleColumnIds:p&&p.map(e=>e.visible?e.id:null).filter(e=>e)},m=Object(G.a)({filters:i,rowsPerPage:s,currentPage:l,sortById:c,sortByDirection:d},o,{initial:u,next:{}});return a[r]=m,a},[lb]:(e,t)=>{const a=Object(G.a)({},e),{storeId:r,pagingData:n}=t.payload,o=a[r].next;return a[r]=Object(G.a)({},a[r],{},o,{},n,{filters:Object(G.a)({},a[r].filters,{},a[r].next.filters),next:{}}),a},[cb]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.storeId;return a[r]=Object(G.a)({},a[r],{next:{}}),a},[eb]:(e,t)=>{const{visibleColumnIds:a,filters:r,sortById:n,sortByDirection:o,storeId:i}=t.payload,s={filters:r,sortById:n,sortByDirection:o,customVisibleColumnIds:a};return Object(G.a)({},e,{[i]:Object(G.a)({},e[i],{nextInitial:s})})},[tb]:(e,t)=>{const{isActiveTemplate:a,storeId:r}=t.payload;return a?Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{initial:e[r].nextInitial,nextInitial:void 0})}):e},[ab]:(e,t)=>{const{isActiveTemplate:a,storeId:r}=t.payload;return a?Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{nextInitial:void 0})}):e},[Kv]:(e,t)=>{const{visibleColumnIds:a,filters:r,sortById:n,sortByDirection:o,storeId:i}=t.payload,s={filters:r,sortById:n,sortByDirection:o,customVisibleColumnIds:a};return Object(G.a)({},e,{[i]:Object(G.a)({},e[i],{nextInitial:s,viewPreloaded:!0})})},[Xv]:(e,t)=>{const{isActiveTemplate:a,storeId:r}=t.payload;return a?Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{initial:e[r].nextInitial,nextInitial:void 0})}):e},[Jv]:(e,t)=>{const{isActiveTemplate:a,storeId:r}=t.payload;return a?Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{nextInitial:void 0})}):e},[qv]:(e,t)=>{const{storeId:a}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{viewPreloaded:!1})})},[bb]:(e,t)=>{const a=Object(G.a)({},e),{pageNumber:r,storeId:n}=t.payload;return a[n]=Object(G.a)({},a[n],{next:Object(G.a)({},a[n].next,{currentPage:r})}),a},[ub]:(e,t)=>{const a=Object(G.a)({},e),{storeId:r,id:n,direction:o}=t.payload;return a[r]=Object(G.a)({},a[r],{next:Object(G.a)({},a[r].next,{sortById:n,sortByDirection:o,currentPage:1})}),a},[Eb]:(e,t)=>{const a=Object(G.a)({},e),{rowsPerPage:r,storeId:n}=t.payload;return a[n]=Object(G.a)({},a[n],{next:Object(G.a)({},a[n].next,{rowsPerPage:r,currentPage:1})}),a},[hb]:(e,t)=>{const{filter:a,storeId:r,itemId:n}=t.payload;return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{next:Object(G.a)({},e[r].next,{filters:Object(G.a)({},e[r].next&&e[r].next.filters,{[n]:a}),currentPage:1})})})},[gb]:(e,t)=>{const{itemId:a,storeId:r}=t.payload;return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{next:Object(G.a)({},e[r].next,{filters:Object(G.a)({},e[r].next&&e[r].next.filters,{[a]:null}),currentPage:1})})})},[HC]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.listId]=t.payload.meta,a}},"workingListsMeta"),YC="EventWorkingListsEventListEventDeleteSuccess",zC="EventWorkingListsEventListEventDeleteError",qC="ViewEventPageOpen",KC="EventWorkingListsEventDelete";var XC=a(1045);const JC=(e,t)=>{if(e&&e.length>0)return((e,t)=>{const a=new Map([...t.entries()].map(([,e])=>[e.apiName,e])),r=new Map(e.map(e=>{if(t.has(e))return e;const r=a.get(e);return r?r.id:(U.a.error(Object(B.c)("id specified in column order not valid")({id:e})),null)}).filter(e=>e).map(e=>[e,{id:e,visible:!0}])),n=[...t.values()].filter(({id:e})=>!r.has(e)).map(({id:e})=>({id:e,visible:!1}));return[...r.values(),...n]})(e,t)},ZC={[Yt.v.NUMBER]:Zt.b,[Yt.v.INTEGER]:Zt.b,[Yt.v.INTEGER_POSITIVE]:Zt.b,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:Zt.b,[Yt.v.INTEGER_NEGATIVE]:Zt.b,[Yt.v.DATE]:e=>Object(Jt.a)(e,"YYYY-MM-DD").toISOString(),[Yt.v.BOOLEAN]:e=>"true"===e,[Yt.v.TRUE_ONLY]:e=>"true"===e||null},QC=(e,t)=>({usingOptionSet:!0,values:e.in.map(e=>ZC[t]?ZC[t](e):e)}),$C=Object.freeze({PROVIDED:"PROVIDED",CURRENT:"CURRENT",ANY:"ANY",NONE:"NONE"}),eI=Object.freeze({ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE"}),tI=e=>({ge:e.ge?Number(e.ge):void 0,le:e.le?Number(e.le):void 0}),aI=({dateFilter:e})=>e.type===eI.RELATIVE?{type:e.type,period:e.period}:{type:e.type,ge:e.startDate?Object(Jt.a)(e.startDate,"YYYY-MM-DD").toISOString():void 0,le:e.endDate?Object(Jt.a)(e.endDate,"YYYY-MM-DD").toISOString():void 0},rI=async(e,t)=>{if(e===$C.PROVIDED){const r=t&&t.length>0&&t[0];if(!r)return;const n=await(a=r,te().get("userLookup/".concat(a)).then(({id:e,displayName:t,username:a})=>({id:e,name:t,username:a})).catch(e=>(U.a.error(Object(B.c)("An error occured retrieving assignee user")({error:e,userId:a})),null)));if(!n)return;return{assignedUserMode:e,assignedUser:n}}var a;return{assignedUserMode:e}},nI={[aE.TEXT]:e=>({value:e.like}),[aE.NUMBER]:tI,[aE.INTEGER]:tI,[aE.INTEGER_POSITIVE]:tI,[aE.INTEGER_NEGATIVE]:tI,[aE.INTEGER_ZERO_OR_POSITIVE]:tI,[aE.DATE]:aI,[aE.BOOLEAN]:e=>({values:e.in.map(e=>"true"===e)}),[aE.TRUE_ONLY]:()=>({value:!0})},oI=(e,t)=>e?e.map(e=>{const a=t.get(e.dataItem);return a&&nI[a.type]?((e,t)=>{if([aE.BOOLEAN].includes(e)){const e=["true","false"];return t.in.some(t=>!e.includes[t])}return t.in})(a.type,e)?Object(G.a)({},QC(e,a.type),{id:e.dataItem}):Object(G.a)({id:e.dataItem},nI[a.type]?nI[a.type](e,a):null):null}).filter(e=>e):[],iI=async(e,t)=>{if(!e)return[];const{eventDate:a,status:r,assignedUserMode:n,assignedUsers:o}=e,i=[];return r&&i.push(Object(G.a)({},QC({in:[r]},t.get("status").type),{id:"status"})),a&&i.push(Object(G.a)({},aI({dateFilter:a}),{id:"eventDate"})),n&&i.push(Object(G.a)({},await rI(n,o),{id:"assignee"})),i},sI={currentPage:1,rowsPerPage:15};const lI=e=>e.toString(),cI={[Yt.v.NUMBER]:lI,[Yt.v.INTEGER]:lI,[Yt.v.INTEGER_POSITIVE]:lI,[Yt.v.INTEGER_ZERO_OR_POSITIVE]:lI,[Yt.v.INTEGER_NEGATIVE]:lI,[Yt.v.DATE]:e=>{const t=Object(Jt.a)(e);return t.locale("en"),t.format("YYYY-MM-DD")},[Yt.v.BOOLEAN]:e=>e?"true":"false",[Yt.v.TRUE_ONLY]:()=>"true"},dI=e=>({ge:e.ge?e.ge.toString():void 0,le:e.le?e.le.toString():void 0}),pI=e=>{const t=Object(Jt.a)(e);return t.locale("en"),t.format("YYYY-MM-DD")},uI={[aE.TEXT]:e=>({like:e.value}),[aE.NUMBER]:dI,[aE.INTEGER]:dI,[aE.INTEGER_POSITIVE]:dI,[aE.INTEGER_NEGATIVE]:dI,[aE.INTEGER_ZERO_OR_POSITIVE]:dI,[aE.DATE]:e=>({dateFilter:e.type===Rf.RELATIVE?{type:e.type,period:e.period}:{type:e.type,startDate:e.ge?pI(e.ge):void 0,endDate:e.le?pI(e.le):void 0}}),[aE.BOOLEAN]:e=>({in:e.values.map(e=>e?"true":"false")}),[aE.TRUE_ONLY]:()=>({eq:"true"}),[aE.ASSIGNEE]:e=>({assignedUserMode:e.assignedUserMode,assignedUsers:e.assignedUser?[e.assignedUser.id]:void 0})},mI=(e,t)=>Object.keys(e).map(a=>{const r=e[a];if(null==r)return null;const n=t.get(a);return n&&uI[n.type]?r.usingOptionSet?Object(G.a)({},((e,t)=>({in:e.values.map(e=>cI[t]?cI[t](e):e.toString())}))(r,n.type),{dataItem:a}):Object(G.a)({},uI[n.type](r),{dataItem:a}):(U.a.error(Object(B.c)("tried to convert a filter to api value, but there was no filter converter or specification found")({filter:r,element:n})),null)}).filter(e=>null!=e),hI=(e,t)=>e.reduce((e,a)=>{if(t.get(a.dataItem).isMainProperty){const t=(e=>{let t;const{dataItem:a}=e,r=Object(_e.a)(e,["dataItem"]);switch(a){case"status":t={status:r.in[0]};break;case"eventDate":t={eventDate:r.dateFilter};break;case"assignee":t=r;break;default:t=null}return t})(a);return Object(G.a)({},e,{},t)}return e.dataFilters.push(a),e},{dataFilters:[]}),gI=({filters:e,sortById:t,sortByDirection:a,columns:r})=>{const n=((e,t)=>"".concat(e,":").concat(t))(t,a),o=Object(B.e)(()=>mI(e,r),e=>hI(e,r))(),i=(e=>e.filter(e=>e.visible).map(e=>e.apiName||e.id))([...r.values()]);return Object(G.a)({},o,{order:n,displayColumnOrder:i})};var yI=a(758),vI=a.n(yI);const bI=e=>{let{lastTransaction:t,lastIdDeleted:a,listDataRefreshTimestamp:o,lastTransactionOnListDataRefresh:i,onLoadView:s,onUpdateList:l}=e,c=Object(_e.a)(e,["lastTransaction","lastIdDeleted","listDataRefreshTimestamp","lastTransactionOnListDataRefresh","onLoadView","onUpdateList"]);const d=De()().diff(De()(o||0),"minutes")>5||t!==i,p=[t,a].join("##"),u=Object(r.useCallback)((e,a,r)=>s(e,Object(G.a)({},a,{lastTransaction:t}),r),[s,t]),m=Object(r.useCallback)(e=>l(e,t),[l,t]);return n.a.createElement(_C,Object.assign({},c,{customUpdateTrigger:p,forceUpdateOnMount:d,onLoadView:u,onUpdateList:m}))},EI=Object(ge.withStyles)(e=>({deleteIcon:{fill:e.palette.error.main},deleteContainer:{display:"flex"}}))(e=>{let{onDeleteEvent:t,classes:a}=e,o=Object(_e.a)(e,["onDeleteEvent","classes"]);const s=Object(r.useMemo)(()=>[{key:"deleteEventItem",clickHandler:({id:e})=>t(e),element:n.a.createElement("span",{"data-test":"dhis2-capture-delete-event-button",className:a.deleteContainer},n.a.createElement(vI.a,{className:a.deleteIcon}),i.a.t("Delete event"))}],[t,a.deleteIcon,a.deleteContainer]);return n.a.createElement(bI,Object.assign({},o,{customRowMenuContents:s}))});class fI extends r.PureComponent{static getUrlEncodedParamsString(e){const{filter:t}=e,a=Object(_e.a)(e,["filter"]),r=new URLSearchParams(a);return t&&t.forEach(e=>{r.append("filter",e)}),r.toString()}static getUrl(){const e=te().baseUrl;return"".concat(e,"/events/query")}renderButtons(){const{request:e={},programStageId:t,classes:a}=this.props,r=fI.getUrl(),o=e.queryParams||{},{pageSize:s,page:l}=o,c=Object(_e.a)(o,["pageSize","page"]),d=Object(G.a)({},c,{programStage:t,skipPaging:"true"}),p=fI.getUrlEncodedParamsString(d);return n.a.createElement("div",{className:a.downloadContainer},n.a.createElement("div",{className:a.downloadLinkContainer},n.a.createElement("a",{download:"events.json",href:"".concat(r,".json?").concat(p),className:a.downloadLink},n.a.createElement(bl.a,null,i.a.t("Download as JSON")))),n.a.createElement("div",{className:a.downloadLinkContainer},n.a.createElement("a",{download:"events.xml",href:"".concat(r,".xml?").concat(p),className:a.downloadLink},n.a.createElement(bl.a,null,i.a.t("Download as XML")))),n.a.createElement("div",null,n.a.createElement("a",{download:"events.csv",href:"".concat(r,".csv?").concat(p),className:a.downloadLink},n.a.createElement(bl.a,null,i.a.t("Download as CSV")))))}render(){const{open:e,onClose:t}=this.props;return n.a.createElement("span",null,n.a.createElement(Ql.c,{open:!!e,onClose:t,fullWidth:!0},n.a.createElement(Ql.g,null,i.a.t("Download with current filters")),n.a.createElement(Ql.e,null,this.renderButtons()),n.a.createElement(Ql.d,null,n.a.createElement(bl.a,{onClick:t,color:"primary"},i.a.t("Close")))))}}const OI=Object(ge.withStyles)(()=>({downloadLink:{textDecoration:"none",outline:"none"},downloadLinkContainer:{paddingRight:5,paddingBottom:5},downloadContainer:{display:"flex",flexWrap:"wrap"}}))(fI),SI=e=>{let{downloadRequest:t,program:a}=e,o=Object(_e.a)(e,["downloadRequest","program"]);const[s,l]=Object(r.useState)(!1),c=Object(r.useMemo)(()=>[{key:"downloadData",clickHandler:()=>l(!0),element:i.a.t("Download data...")}],[l]),d=Object(r.useCallback)(()=>{l(!1)},[l]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(EI,Object.assign({},o,{programId:a.id,customListViewMenuContents:c})),n.a.createElement(OI,{open:s,onClose:d,request:t,programStageId:a.stage.id}))},CI=e=>Object(r.useMemo)(()=>(e||[]).map(e=>Object(G.a)({},e,{updating:!!e.nextCriteria})),[e]),II=e=>{let{filters:t,columns:a,sortById:r,sortByDirection:o,program:i,onAddTemplate:s,onUpdateTemplate:l,onDeleteTemplate:c,templates:d}=e,p=Object(_e.a)(e,["filters","columns","sortById","sortByDirection","program","onAddTemplate","onUpdateTemplate","onDeleteTemplate","templates"]);const u=n.a.useCallback(e=>{const n=gI({filters:t,columns:new Map(a.map(e=>[e.id,e])),sortById:r,sortByDirection:o});l(e,n,{filters:t,visibleColumnIds:a&&a.filter(({visible:e})=>e).map(({id:e})=>e),sortById:r,sortByDirection:o,programId:i.id})},[l,t,a,r,o,i.id]),m=n.a.useCallback(e=>{const n=gI({filters:t,columns:new Map(a.map(e=>[e.id,e])),sortById:r,sortByDirection:o});s(e,n,{filters:t,visibleColumnIds:a&&a.filter(({visible:e})=>e).map(({id:e})=>e),sortById:r,sortByDirection:o,clientId:nn()(),programId:i.id})},[s,t,a,r,o,i.id]),h=n.a.useCallback(e=>c(e,i.id),[c,i.id]);return n.a.createElement(SI,Object.assign({},p,{filters:t,columns:a,sortById:r,sortByDirection:o,program:i,onAddTemplate:m,onUpdateTemplate:u,onDeleteTemplate:h,templates:CI(d)}))},wI=e=>{let{records:t,columns:a,recordsOrder:r}=e,o=Object(_e.a)(e,["records","columns","recordsOrder"]);return n.a.createElement(II,Object.assign({},o,{dataSource:Pb(t,r,a),columns:a,rowIdKey:"id"}))},TI=e=>{let{filters:t,columns:a,sortById:r,sortByDirection:o,defaultColumns:i,initialViewConfig:s}=e,l=Object(_e.a)(e,["filters","columns","sortById","sortByDirection","defaultColumns","initialViewConfig"]);const c=AC({initialViewConfig:s,defaultColumns:i,filters:t,columns:a,sortById:r,sortByDirection:o});return n.a.createElement(wI,Object.assign({},l,{filters:t,columns:a,sortById:r,sortByDirection:o,currentViewHasTemplateChanges:c}))},NI=e=>{let{program:t,customColumnOrder:a,onLoadView:o,onUpdateList:i}=e,s=Object(_e.a)(e,["program","customColumnOrder","onLoadView","onUpdateList"]);const l=Object(XC.useDefaultColumnConfig)(t),c=((e,t)=>Object(r.useCallback)((a,r,n)=>{const o=new Map(e.map(({id:e,type:t,apiName:a,isMainProperty:r})=>[e,{id:e,type:t,apiName:a,isMainProperty:r}]));t(a,r,Object(G.a)({},n,{columnsMetaForDataFetching:o}))},[t,e]))(l,o),d=((e,t)=>Object(r.useCallback)((a,r)=>{const n=new Map(e.map(({id:e,type:t,apiName:a,isMainProperty:r})=>[e,{id:e,type:t,apiName:a,isMainProperty:r}]));t(a,{columnsMetaForDataFetching:n,lastTransaction:r})},[t,e]))(l,i),p=jb(a,l);return n.a.createElement(TI,Object.assign({},s,{program:t,columns:p,defaultColumns:l,onLoadView:c,onUpdateList:d}))},_I=({storeId:e})=>{const t=Object(an.e)(),a=Object(an.f)(({currentSelections:e})=>e.programId),o=Object(r.useMemo)(()=>Object(Yt.y)(a),[a]),i=Rb(e,"SINGLE_EVENT",o),{currentTemplateId:s,templates:l}=i,c=Object(_e.a)(i,["currentTemplateId","templates"]),d=s&&l&&l.find(e=>e.id===s),p=Object(an.f)(({workingListsUI:t})=>t[e]&&t[e].lastEventIdDeleted),u=Object(an.f)(({workingLists:t})=>t[e]&&t[e].currentRequest),m=Object(r.useCallback)(({id:e})=>{var a;window.scrollTo(0,0),t((a=e,H(qC)({eventId:a})))},[t]),h=Object(r.useCallback)(a=>{t(((e,t)=>H(KC)({eventId:e,storeId:t}))(a,e))},[t,e]);return n.a.createElement(NI,Object.assign({},c,{program:o,currentTemplate:d,templates:l,lastIdDeleted:p,onSelectListRow:m,onDeleteEvent:h,downloadRequest:u}))};a(1049);const AI={[Yt.v.FILE_RESOURCE]:(e,t,a)=>{const r=je.config.baseUrl;return te().get("fileResources/".concat(e)).then(e=>({name:e.name,value:e.id,url:"".concat(r,"/events/files?dataElementUid=").concat(a,"&eventUid=").concat(t)})).catch(r=>(U.a.warn(Object(B.c)("Could not get subvalue")({value:e,eventId:t,metaElementId:a,error:r})),null))},[Yt.v.IMAGE]:(e,t,a)=>{const r=je.config.baseUrl;return te().get("fileResources/".concat(e)).then(e=>({name:e.name,value:e.id,url:"".concat(r,"/events/files?dataElementUid=").concat(a,"&eventUid=").concat(t)})).catch(r=>(U.a.warn(Object(B.c)("Could not get subvalue")({value:e,eventId:t,metaElementId:a,error:r})),null))},[Yt.v.ORGANISATION_UNIT]:(e,t,a)=>{const r=e.split("/"),n=r[r.length-1];return re().models.organisationUnits.get(n).then(e=>({id:e.id,code:e.code,name:e.displayName,path:e.path})).catch(r=>(U.a.warn(Object(B.c)("Could not get subvalue")({value:e,eventId:t,metaElementId:a,error:r})),null))}};const RI="Program not found",kI="Stage not found";const jI={event:"eventId",program:"programId",programStage:"programStageId",orgUnit:"orgUnitId",trackedEntityInstance:"trackedEntityInstanceId",enrollment:"enrollmentId"};function PI(e){const t=["dataValues","assignedUserUsername","assignedUser","assignedUserDisplayName"];return Object.keys(e).reduce((a,r)=>{if("assignedUser"===r){const t=function(e){if(e.assignedUserUsername&&e.assignedUser)return{id:e.assignedUser,username:e.assignedUserUsername,name:e.assignedUserDisplayName}}(e);t&&(a.assignee=t)}else if(!t.includes(r)){const t=function(e,t){let a;return a="eventDate"===t||"dueDate"===t||"completedDate"===t?ta(e,Yt.v.DATE):e,a}(e[r],r);a[jI[r]||r]=t}return a},{})}async function DI(e){const t=Wm.a.get(e.program);if(!t)return U.a.error(Object(B.c)(RI)({fn:"convertToClientEvent",event:e})),null;const a=t.getStage(e.programStage);if(!a)return U.a.error(Object(B.c)(kI)({fn:"convertToClientEvent",event:e})),null;const r=a.stageForm,n=(o=e.dataValues)?o.reduce((e,t)=>(e[t.dataElement]=t.value,e),{}):o;var o;const i=r.convertValues(n,ta);await async function(e,t,a){if(!a)return null;const r=t.getElementsById();return Object.keys(a).reduce(async(t,n)=>{const o=await t,i=a[n],s=r[n];if(Me()(i)&&null!==i&&s){const t=AI[s.type];if(t){const a=await t(i,e,n);o[n]=a}}return o},Promise.resolve(a))}(e.event,r,i);const s=PI(e);return{id:s.eventId,event:s,values:i||{}}}async function FI(e){const t=te(),a=await t.get("events/".concat(e));return await DI(a)}const xI={programId:"program",orgUnitId:"orgUnit",rowsPerPage:"pageSize",currentPage:"page"},LI=(e,t)=>e?Object.keys(e).filter(a=>t[a]&&null!=e[a]).reduce((t,a)=>{const r=e[a];let n={};return"eventDate"===a?n=(e=>{let t={};return Array.isArray(e)?t=e.reduce((e,t)=>(t.startsWith("ge")?e.startDate=t.replace("ge:",""):e.endDate=t.replace("le:",""),e),{}):e.startsWith("ge")?t.startDate=e.replace("ge:",""):t.endDate=e.replace("le:",""),t})(r):"status"===a?n=(e=>({status:e.replace("in:","")}))(r):"assignee"===a&&(n=r),Object(G.a)({},t,{},n)},{}):null,UI=(e,t,a)=>{const r=((e,t)=>{if(t[e]){const a=t[e];if(a.apiName)return a.apiName}return e})(e,a);return"".concat(r,":").concat(t)},MI=(e,t,a)=>{let r=Object(G.a)({},e,{order:UI(e.sortById,e.sortByDirection,t)},((e,t)=>{const a=e?Object.keys(e).filter(a=>null!=e[a]&&!t[a]).reduce((t,a)=>{const r=e[a];if(Array.isArray(r)){const e=r.map(e=>"".concat(a,":").concat(e));t=[...t,...e]}else t.push("".concat(a,":").concat(r));return t},[]):null;return a&&a.length>0?{filter:a}:null})(e.filters,t),{},LI(e.filters,t),{},((e,t)=>e&&t?{attributeCc:t,attributeCos:Object.keys(e).map(t=>e[t]).join(";")}:null)(e.categories,a));return r.hasOwnProperty("categories")&&delete r.categories,r.hasOwnProperty("sortById")&&delete r.sortById,r.hasOwnProperty("sortByDirection")&&delete r.sortByDirection,r.hasOwnProperty("filters")&&delete r.filters,r=Object.keys(r).reduce((e,t)=>{const a=r[t];return void 0!==a&&(e[t]=a),e},{}),Object.keys(r).reduce((e,t)=>(xI[t]?e[xI[t]]=r[t]:e[t]=r[t],e),{})},VI=async(e,t,a)=>{const r=(e=>[...e.values()].reduce((e,t)=>(t.isMainProperty&&(e[t.id]=t),e),{}))(t),{eventContainers:n,pagingData:o,request:i}=await async function(e){const t=te(),a={url:"events",queryParams:e},r=await t.get(a.url,Object(G.a)({},a.queryParams));return{eventContainers:r&&r.events?await r.events.reduce(async(e,t)=>{const a=await e,r=await DI(t);return r&&a.push(r),a},Promise.resolve([])):[],pagingData:{rowsPerPage:e.pageSize,currentPage:e.page},request:a}}(MI(e,r,a)),s=[...t.keys()];return{eventContainers:n.map(({id:e,event:t,values:a})=>({id:e,record:Object(G.a)({},t,{},a)})).map(({id:e,record:t})=>({id:e,record:s.reduce((e,a)=>(e[a]=t[a],e),{})})),pagingData:o,request:i}},BI="Working list could not be loaded",GI=async(e,t)=>{const{commonQueryData:a,columnsMetaForDataFetching:r,categoryCombinationId:n,storeId:o,lastTransaction:s}=t,l=await async function(e,t){const{sortById:a,sortByDirection:r}=(e=>{const t=e&&e.split(":");return t&&2===t.length?{sortById:t[0],sortByDirection:t[1]}:{sortById:"eventDate",sortByDirection:"desc"}})(e&&e.order),n=[...oI(e&&e.dataFilters,t),...await iI(e,t)].reduce((e,t)=>{const{id:a}=t,r=Object(_e.a)(t,["id"]);return e[a]=r,e},{}),o=JC(e&&e.displayColumnOrder,t);return Object(G.a)({filters:n,customColumnOrder:o,sortById:a,sortByDirection:r},sI)}(e,r),{currentPage:c,rowsPerPage:d,sortById:p,sortByDirection:u,filters:m}=l,h=Object(G.a)({currentPage:c,rowsPerPage:d,sortById:p,sortByDirection:u,filters:MC(m,{columns:r,storeId:o,isInit:!0})},a);return VI(h,r,n).then(({eventContainers:e,pagingData:t,request:r})=>Cb(o,{recordContainers:e,pagingData:t,request:r,config:Object(G.a)({},l,{selections:Object(G.a)({},a,{lastTransaction:s})})})).catch(e=>(U.a.error(Object(B.c)(BI)({error:e})),Ib(o,i.a.t("Working list could not be loaded"))))},HI="Working list could not be updated",WI=Object(Ur.b)({[nb]:(e,{payload:{storeId:t,recordContainers:a}})=>Object(G.a)({},e,{[t]:a.reduce((e,{record:t,id:a})=>(e[a]=t,e),{})}),[lb]:(e,{payload:{storeId:t,recordContainers:a}})=>Object(G.a)({},e,{[t]:a.reduce((e,{record:t,id:a})=>(e[a]=t,e),{})})},"workingListsListRecords"),YI=Object(Ur.b)({[Hv]:(e,t)=>{const{storeId:a}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{loading:!0})})},[Wv]:(e,t)=>{const{templates:a,storeId:r,defaultTemplateId:n}=t.payload;return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{templates:a,selectedTemplateId:n,loading:!1})})},[Yv]:(e,t)=>{const{storeId:a,error:r}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{loadError:r,loading:!1})})},[qv]:(e,t)=>{const{storeId:a,templateId:r}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{selectedTemplateId:r,currentListId:a})})},[eb]:(e,t)=>{const{criteria:a,template:r,storeId:n}=t.payload,o=e[n].templates.filter(e=>e.id!==r.id),i=Object(G.a)({},r,{nextCriteria:a});return Object(G.a)({},e,{[n]:Object(G.a)({},e[n],{templates:[...o,i]})})},[tb]:(e,t)=>{const{criteria:a,templateId:r,storeId:n}=t.payload,o=e[n].templates,i=o.find(e=>e.id===r);if(i){const t=o.filter(e=>e.id!==r),s=Object(G.a)({},i,{criteria:a,nextCriteria:void 0});return Object(G.a)({},e,{[n]:Object(G.a)({},e[n],{templates:[...t,s]})})}return e},[ab]:(e,t)=>{const{templateId:a,storeId:r}=t.payload,n=e[r].templates,o=n.find(e=>e.id===a);if(o){const t=n.filter(e=>e.id!==a),i=Object(G.a)({},o,{nextCriteria:void 0});return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{templates:[...t,i]})})}return e},[Kv]:(e,{payload:{name:t,criteria:a,clientId:r,storeId:n}})=>{const o={id:r,name:t,criteria:a,notPreserved:!0,access:{update:!0,delete:!0,write:!0,manage:!0}},i=e[n].templates;return Object(G.a)({},e,{[n]:Object(G.a)({},e[n],{selectedTemplateId:r,templates:[...i,o]})})},[Xv]:(e,t)=>{const{templateId:a,clientId:r,storeId:n}=t.payload,o=e[n].templates,i=o.find(e=>e.id===r),s=o.filter(e=>e.id!==r),l=e[n].selectedTemplateId;let c=l;l===r&&(c=a);const d=Object(G.a)({},i,{id:a,notPreserved:void 0});return Object(G.a)({},e,{[n]:Object(G.a)({},e[n],{selectedTemplateId:c,templates:[...s,d]})})},[Jv]:(e,t)=>{const{clientId:a,storeId:r}=t.payload,n=e[r].templates.filter(e=>e.id!==a),o=e[r].selectedTemplateId,i=o===a?n.find(e=>e.isDefault).id:o;return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{selectedTemplateId:i,templates:n})})},[Zv]:(e,t)=>{const{template:a,storeId:r}=t.payload,n=e[r].templates.filter(e=>e.id!==a.id),o=Object(G.a)({},a,{deleted:!0});return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{selectedTemplateId:n.find(e=>e.isDefault).id,templates:[...n,o]})})},[Qv]:(e,t)=>{const{template:a,storeId:r}=t.payload,n=e[r].templates.filter(e=>e.id!==a.id);return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{templates:[...n]})})},[$v]:(e,t)=>{const{template:a,storeId:r}=t.payload,n=e[r].templates.filter(e=>e.id!==a.id),o=Object(G.a)({},a,{deleted:void 0});return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{templates:[...n,o]})})},[fb]:(e,{payload:{sharingSettings:t,templateId:a,storeId:r}})=>{const n=e[r].templates,o=n.findIndex(e=>e.id===a),i=Object(G.a)({},n[o],{},t),s=[...n];return s[o]=i,Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{templates:s})})}},"workingListsTemplates"),zI=Object(Ur.b)({[rb]:(e,t)=>{const{storeId:a}=t.payload;return Object(G.a)({},e,{[a]:void 0})},[nb]:(e,t)=>{const a=Object(G.a)({},e),{storeId:r,recordContainers:n,request:o}=t.payload;return a[r]={order:n.map(({id:e})=>e),currentRequest:o},a},[lb]:(e,t)=>{const a=Object(G.a)({},e),{storeId:r,recordContainers:n,request:o}=t.payload;return a[r]={order:n.map(({id:e})=>e),currentRequest:o},a},[BC]:(e,t)=>{const a=Object(G.a)({},e),{listId:r,itemId:n}=t.payload;return a[r]={order:[n,...e[r]?e[r].order:[]]},a},[GC]:(e,t)=>{const a=Object(G.a)({},e),{listId:r,itemId:n}=t.payload;return a[r]={order:e[r]?e[r].order.filter(e=>e!==n):[]},a},[HC]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.listId]={order:[]},a}},"workingLists"),qI=(e,t)=>Object(G.a)({},e,{},t,{isLoading:!1,isUpdating:!1,isUpdatingWithDialog:!1}),KI=Object(Ur.b)({[rb]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.storeId;return a[r]=Object(G.a)({},a[r],{isLoading:!0}),a},[nb]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.storeId;return a[r]=qI(a[r],{hasBeenLoaded:!0,dataLoadingError:null}),a},[ob]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.storeId]=qI({},{dataLoadingError:r.errorMessage}),a},[sb]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.storeId;return a[r]=Object(G.a)({},a[r],{isUpdating:!0}),a},[lb]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.storeId;return a[r]=qI(a[r],{dataLoadingError:null}),a},[cb]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.storeId]=qI({},{dataLoadingError:null}),a},[KC]:(e,t)=>{const a=t.payload.storeId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{isUpdatingWithDialog:!0})})},[YC]:(e,t)=>{const{storeId:a,eventId:r}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{lastEventIdDeleted:r,isUpdatingWithDialog:!1})})},[zC]:(e,t)=>{const{storeId:a}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{isUpdatingWithDialog:!1})})}},"workingListsUI"),XI=Object(Ur.b)({[rb]:(e,t)=>{const{storeId:a}=t.payload;return Object(G.a)({},e,{[a]:void 0})},[nb]:(e,t)=>{const{storeId:a,config:{customColumnOrder:r}}=t.payload;return Object(G.a)({},e,{[a]:r})},[mb]:(e,t)=>{const{columns:a,storeId:r}=t.payload;return Object(G.a)({},e,{[r]:a.map(({id:e,visible:t})=>({id:e,visible:t}))})},[HC]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.listId]=[...t.payload.columnOrder],a}},"workingListsColumnsOrder"),JI=Object(Ur.b)({[Hv]:(e,t)=>{const{programId:a,storeId:r}=t.payload;return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{programIdTemplates:a})})},[rb]:(e,t)=>{const a=t.payload,{storeId:r,context:{programId:n,lastTransaction:o}}=a,i=Object(_e.a)(a.context,["programId","lastTransaction"]);return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{},i,{programIdView:n,listDataRefreshTimestamp:Object(Jt.a)().toISOString(),lastTransactionOnListDataRefresh:o})})},[sb]:(e,t)=>{const{storeId:a,lastTransaction:r}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{listDataRefreshTimestamp:Object(Jt.a)().toISOString(),lastTransactionOnListDataRefresh:r})})},[HC]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.listId]=t.payload.selections,a}},"workingListsContext"),ZI=Object(Ur.b)({[rb]:(e,t)=>{const{storeId:a}=t.payload;return Object(G.a)({},e,{[a]:void 0})},[nb]:(e,t)=>{const{storeId:a,config:r}=t.payload,n=r.filters,o=n?Object.keys(n).reduce((e,t)=>Object(G.a)({},e,{[t]:!0}),{}):void 0;return Object(G.a)({},e,{[a]:{filtersWithValueOnInit:o,userSelectedFilters:void 0}})},[yb]:(e,t)=>{const{id:a,storeId:r}=t.payload,n=Object(G.a)({},e[r],{userSelectedFilters:Object(G.a)({},e[r].userSelectedFilters,{[a]:!0})});return Object(G.a)({},e,{[r]:n})},[vb]:(e,t)=>{const{storeId:a,includeFilters:r}=t.payload;return Object(G.a)({},e,{[a]:{filtersWithValueOnInit:r,userSelectedFilters:void 0}})}},"workingListsStickyFilters"),QI=Object(Ur.b)({[rg]:e=>Object(G.a)({},e,{selectionsError:null})},"mainPage"),$I="UpdateDataEntryFieldForNewSingleEventActionsBatch",ew="UpdateFieldForNewSingleEventActionsBatch",tw="OpenNewEventInDataEntryActionsBatch",aw="ResetDataEntryForNewEventActionsBatch",rw="RulesEffectsForNewSingleEventActionsBatch",nw="SaveNewEventAddAnotherBatch",ow="OpenNewEventInDataEntry",iw="StartRunRulesOnUpdateForNewSingleEvent",sw="RequestSaveReturnToMainPageForNewSingleEvent",lw="StartSaveAfterReturnedToMainPage",cw="StartCancelSaveReturnToMainPageForNewSingleEvent",dw="CancelSaveNoWorkingListUpdateNeededForSingleEvent",pw="CancelSaveUpdateWorkingListForSingleNewEvent",uw="SingleNewEventSavedAfterReturnedToMainPage",mw="SaveFailedForNewSingleEventAfterReturnedToMainPage",hw="NewEventInDataEntryOpeningCancel",gw="RequestSaveNewEventAddAnother",yw="startSaveNewEventAddAnother",vw="NewEventSavedAddAnother",bw="SaveFailedForNewEventAddAnother",Ew="SetNewEventSaveTypes",fw="ResetDataEntryForNewEvent",Ow="AddNewEventNote",Sw="NewEventOpenNewRelationship",Cw="SaveNewEventRelationshipsIfExists",Iw="StartSaveNewEventRelationships",ww="NewEventRelationshipsSaved",Tw="SaveFailedForNewEventRelationships",Nw="CancelSaveInitializeWorkingListsForSingleNewEvent",_w="StartSaveTeiForNewEventRelationships",Aw="TeiForNewEventRelationshipSaved",Rw="SaveFailedForNewEventRelationshipTei",kw="NewEventScrolledToRelationships",jw=e=>H(iw)(e),Pw=e=>H(uw)(null,{selections:e}),Dw=()=>H(cw)(),Fw=()=>H(dw)(),xw=()=>H(Nw)(),Lw=()=>H(hw)(),Uw=(e,t,a,r)=>{const n=yw;return H(yw)({selections:a},{offline:{effect:{url:"events",method:Gr,data:e,clientId:r},commit:{type:Cw,meta:{selections:a,relationshipData:t,triggerAction:n}},rollback:{type:bw,meta:{selections:a,clientId:r}}}})},Mw=e=>H(vw)(null,{selections:e}),Vw="SetNewEventFormLayoutDirection",Bw="NewEventCancelNewRelationship",Gw="AddNewEventRelationship",Hw="RecentlyAddedRelationship",Ww="AddNewEventRelationshipBatch";var Yw=a(257);const zw=e=>!e||Kc(e);var qw=()=>[{validator:Pn,message:i.a.t("A value is required")},{validator:zw,message:i.a.t("Please provide a valid date")}];const Kw="StartRunRulesOnUpdateForNewEnrollment",Xw=(e,t,a,r,n)=>H(Kw)({innerPayload:e,searchActions:t,uid:a,programId:r,orgUnit:n},{skipLogging:["searchActions"]}),Jw="RulesExecutedPostUpdateFieldForEnrollment",Zw="UpdateFieldNewEnrollmentActionBatch",Qw="UpdateDataEntryFieldNewEnrollmentActionBatch",$w=(e,t,a,r,n,o,i,s,l=[],c)=>{let d=[];return e&&t&&(d=Hm(e,t,a,o,i,s)),Object(J.a)([...d,zh(r,n,c),...l],Jw)};var eT=a(274),tT=a(7088),aT=a.n(tT);var rT=e=>[{validator:Pn,message:i.a.t("A value is required")},{validator:t=>((e,t)=>{const a=Object(ua.c)(e);if(!a.isValid)return!1;if(t)return!0;const r=a.momentDate,n=Object(eT.a)();return{valid:r.isSameOrBefore(n),message:i.a.t("A future date is not allowed")}})(t,e),message:i.a.t("Please provide a valid date")}];var nT=e=>[{validator:Pn,message:i.a.t("A value is required")},{validator:t=>((e,t)=>{const a=Object(ua.c)(e);if(!a.isValid)return!1;if(t)return!0;const r=a.momentDate,n=Object(eT.a)();return{valid:r.isSameOrBefore(n),message:i.a.t("A future date is not allowed")}})(t,e),message:i.a.t("Please provide a valid date")}],oT="enrollment";const iT={errorMessage:"validationError"},sT={labelContainerStyle:{flexBasis:200},inputContainerStyle:{flexBasis:150}},lT={labelContainerStyle:{width:150},inputContainerStyle:{width:150}};function cT(e){const{formHorizontal:t,fieldOptions:a,validationError:r,modified:n}=e;return Object(_e.a)(e,["formHorizontal","fieldOptions","validationError","modified"])}const dT=(e,t)=>Object(G.a)({},(e=>({fieldOptions:e.fieldOptions,formHorizontal:e.formHorizontal,styles:e.formHorizontal?lT:sT}))(e),{},t),pT=e=>e?"center":"left",uT=Ic(iT)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions&&e.fieldOptions.fieldLabelMediaBasedClass," ").concat(aT.a.coordinateLabel)})(kc()(Uo()(Uc(cT)(Zl)))))))),mT=Ic(iT)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions&&e.fieldOptions.fieldLabelMediaBasedClass," ").concat(aT.a.polygonLabel)})(kc()(Uo()(Uc(cT)(ec)))))))),hT=e=>e?Lo.VERTICAL:Lo.HORIZONTAL;class gT extends n.a.Component{componentWillUnmount(){Gd.clear()}render(){const e=this.props,{enrollmentMetadata:t,programId:a}=e,r=Object(_e.a)(e,["enrollmentMetadata","programId"]);return n.a.createElement(Wg,Object.assign({},r,{dataEntrySections:gT.dataEntrySectionDefinitions,formFoundation:t.enrollmentForm}))}}gT.dataEntrySectionDefinitions={[oT]:{placement:Lg,name:i.a.t("Enrollment")}};const yT=hv(e=>e.enrollmentMetadata.inputSearchGroups,e=>Object(G.a)({},e.onGetValidationContext(),{trackedEntityType:e.enrollmentMetadata.trackedEntityType.id,program:e.programId}))(gT),vT=$g({isApplicable:e=>{const t=e.enrollmentMetadata.enrollmentForm.featureType;return["Polygon","Point"].includes(t)},getComponent:e=>"Polygon"===e.enrollmentMetadata.enrollmentForm.featureType?mT:uT,getComponentProps:e=>{const t=e.enrollmentMetadata.enrollmentForm.featureType;return dT(e,"Polygon"===t?{width:e&&e.formHorizontal?150:350,label:i.a.t("Area"),dialogLabel:i.a.t("Area"),required:!1,orientation:hT(e.formHorizontal)}:{width:e&&e.formHorizontal?150:350,label:i.a.t("Coordinate"),dialogLabel:i.a.t("Coordinate"),required:!1,orientation:hT(e.formHorizontal),shrinkDisabled:e.formHorizontal})},getPropName:()=>"geometry",getValidatorContainers:()=>[],getMeta:()=>({placement:Lg,section:oT})})(yT),bT=$g((()=>{const e=Ic(iT)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions&&e.fieldOptions.fieldLabelMediaBasedClass," ").concat(aT.a.dateLabel)})(kc()(Uo()(Uc(cT)(Hl))))))));return{isApplicable:e=>e.enrollmentMetadata.showIncidentDate,getComponent:()=>e,getComponentProps:e=>dT(e,{width:e&&e.formHorizontal?150:"100%",label:e.enrollmentMetadata.incidentDateLabel,required:!0,calendarWidth:e.formHorizontal?250:350,popupAnchorPosition:pT(e.formHorizontal),calendarMaxMoment:e.enrollmentMetadata.allowFutureIncidentDate?void 0:Object(eT.a)()}),getPropName:()=>"incidentDate",getValidatorContainers:e=>nT(e.enrollmentMetadata.allowFutureIncidentDate),getMeta:()=>({placement:Lg,section:oT})}})())(vT),ET=Zg((()=>{const e=Ic(iT)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions&&e.fieldOptions.fieldLabelMediaBasedClass," ").concat(aT.a.dateLabel)})(kc()(Uo()(Uc(cT)(Hl))))))));return{getComponent:()=>e,getComponentProps:e=>dT(e,{width:e&&e.formHorizontal?150:"100%",label:e.enrollmentMetadata.enrollmentDateLabel,required:!0,calendarWidth:e.formHorizontal?250:350,popupAnchorPosition:pT(e.formHorizontal),calendarMaxMoment:e.enrollmentMetadata.allowFutureEnrollmentDate?void 0:Object(eT.a)()}),getPropName:()=>"enrollmentDate",getValidatorContainers:e=>rT(e.enrollmentMetadata.allowFutureEnrollmentDate),getMeta:()=>({placement:Lg,section:oT})}})())(bT),fT=uy()(ET);class OT extends n.a.PureComponent{render(){return n.a.createElement(fT,this.props)}}class ST extends n.a.Component{constructor(...e){super(...e),this.getValidationContext=()=>{const{orgUnit:e,onGetUnsavedAttributeValues:t}=this.props;return{orgUnitId:e.id,onGetUnsavedAttributeValues:t}},this.handleUpdateField=(...e)=>{const{programId:t,orgUnit:a}=this.props;this.props.onUpdateField(...e,t,a)},this.handleUpdateDataEntryField=(...e)=>{const{programId:t,orgUnit:a}=this.props;this.props.onUpdateDataEntryField(...e,t,a)},this.handleStartAsyncUpdateField=(...e)=>{const{programId:t,orgUnit:a}=this.props;this.props.onStartAsyncUpdateField(...e,t,a)}}render(){const e=this.props,{orgUnit:t,onUpdateField:a,onUpdateDataEntryField:r,onStartAsyncUpdateField:o,onGetUnsavedAttributeValues:i}=e,s=Object(_e.a)(e,["orgUnit","onUpdateField","onUpdateDataEntryField","onStartAsyncUpdateField","onGetUnsavedAttributeValues"]);return n.a.createElement(OT,Object.assign({onGetValidationContext:this.getValidationContext,onUpdateFormField:this.handleUpdateField,onUpdateDataEntryField:this.handleUpdateDataEntryField,onUpdateFormFieldAsync:this.handleStartAsyncUpdateField},s))}}const CT=Object(an.c)(()=>({}),e=>({onUpdateDataEntryField:(t,a,r,n)=>{e(((e,t,a)=>{const{dataEntryId:r,itemId:n}=e.payload,o=nn()();return Object(J.a)([e,Yh(r,n,o),Xw(e.payload,null,o,t,a)],Qw)})(t,r,n))},onUpdateField:(t,a,r,n)=>{e(((e,t,a,r)=>{const{filterActions:n,filterActionsToBeExecuted:o}=t,{dataEntryId:i,itemId:s}=e.payload,l=nn()();return Object(J.a)([e,...o,Yh(i,s,l),Xw(e.payload,n,l,a,r)],Zw)})(t,a,r,n))},onStartAsyncUpdateField:(t,a,r,n,o,i)=>{e(((e,t,a)=>W(e)({onSuccess:t,onError:a}))(t,e=>((e,t,a,r,n,o)=>{const{filterActions:i,filterActionsToBeExecuted:s}=t,l=nn()();return Object(J.a)([e,...s,Yh(a,r,l),Xw(Object(G.a)({},e.payload,{dataEntryId:a,itemId:r}),i,l,n,o)],Zw)})(e,a,r,n,o,i),e=>e))}}))(ST),IT="OpenDataEntryForNewEnrollment",wT=(e,t)=>H(IT)({dataEntryId:e,generatedUniqueValues:t});function TT(e,t){if(!e||!["Polygon","Point"].includes(t.featureType))return null;let a=e;return"Point"===t.featureType&&(a=[e.longitude,e.latitude]),{type:t.featureType,coordinates:a}}function NT(e){return t=>t&&e&&t.type===e.featureType?"Point"===e.featureType?{latitude:t.coordinates[1],longitude:t.coordinates[0]}:t.coordinates:null}function _T(e){return"COMPLETED"===e?"true":null}function AT(e){return"true"===e?"COMPLETED":"ACTIVE"}function RT(e,t){return Object(B.e)(ta,ga)(e,t)}function kT(e,t,a){if(!e)return Promise.resolve([]);const r=e.getElements().filter(e=>e.unique&&e.unique.generatable).map(async e=>{const r=e.id,n=function(e,t){const a=t[e];if(!a)return null;const r=Object(eT.a)().add(1,"days").unix();return a.expires>r?a:null}(r,t);return n?{id:r,item:n}:async function(e,t){const a=te(),r=await a.get("trackedEntityAttributes/".concat(e,"/requiredValues")).then(e=>e&&e.REQUIRED).catch(t=>(U.a.error(Object(B.c)("Could not retrieve required values")({teaId:e,error:t})),null)),n=r&&r.includes("ORG_UNIT_CODE")?{ORG_UNIT_CODE:t.orgUnitCode}:null,o=Object(G.a)({},n,{expiration:"3"});return await a.get("trackedEntityAttributes/".concat(e,"/generate"),o).then(e=>e&&e.value).catch(t=>(U.a.error(Object(B.c)("Could not generate unique id")({teaId:e,error:t})),null))}(r,a).then(t=>({id:r,item:{value:RT(t,e.type),expires:Object(eT.a)().add(3,"days").unix()}}))});return Promise.all(r)}const jT=[{id:"enrollmentDate",type:"DATE",validatorContainers:rT()},{id:"incidentDate",type:"DATE",validatorContainers:nT()},{clientId:"geometry",dataEntryId:"geometry",onConvertOut:TT}],PT="OpenDataEntryForNewEnrollmentBatch",DT=async(e,t,a,r,n=[],o=[],i={})=>{const s=Mg(r,"newEnrollment"),l=await kT(t,i,{orgUnitCode:a.code}),c=Ev(r,"newEnrollment",[...jT,...o],{enrollmentDate:Object(ua.a)(new Date)},l.reduce((e,t)=>(e[t.id]=t.item.value,e),{}));let d;return d=e&&t?Hm(e,t,s,a,{},{}):[],Object(J.a)([wT(r,l.reduce((e,t)=>(e[t.id]=t.item,e),{})),...c,...d,...n],PT)};const FT="Program not found",xT="Program is not a tracker program",LT=(e,t,a,r=[])=>{const n=e.value,{programId:o,dataEntryId:i,itemId:s,orgUnit:l,uid:c}=t,d=Mg(i,s);let p;try{const e=Object(Yt.A)(o);e instanceof Yt.t?p=e:U.a.error(Object(B.c)(xT)({method:"openNewEnrollmentInDataEntryEpic",program:e}))}catch(g){U.a.error(Object(B.c)(FT)({method:"openNewEnrollmentInDataEntryEpic",error:g,programId:o}))}const u=p&&p.enrollment.enrollmentForm;if(!p||!u)return $w(p,u,d,i,s,l,null,null,r,c);const m=qm(n,u,d,a),h=Km(n,s,i,u);return $w(p,u,d,i,s,l,h,m,r,c)},UT="NewTeiFieldUpdateBatch";class MT extends n.a.Component{componentWillUnmount(){Gd.clear()}render(){const e=this.props,{teiRegistrationMetadata:t}=e,a=Object(_e.a)(e,["teiRegistrationMetadata"]);return n.a.createElement(Wg,Object.assign({},a,{formFoundation:t.form}))}}const VT=hv(e=>e.teiRegistrationMetadata.inputSearchGroups,e=>Object(G.a)({},e.onGetValidationContext(),{trackedEntityType:e.teiRegistrationMetadata.form.id}))(MT),BT=uy()(VT);class GT extends n.a.PureComponent{render(){return n.a.createElement(BT,this.props)}}class HT extends n.a.Component{constructor(...e){super(...e),this.getValidationContext=()=>{const{orgUnit:e,onGetUnsavedAttributeValues:t}=this.props;return{orgUnitId:e.id,onGetUnsavedAttributeValues:t}}}render(){const e=this.props,{orgUnit:t,onUpdateField:a,onStartAsyncUpdateField:r,teiRegistrationMetadata:o,onGetUnsavedAttributeValues:s}=e,l=Object(_e.a)(e,["orgUnit","onUpdateField","onStartAsyncUpdateField","teiRegistrationMetadata","onGetUnsavedAttributeValues"]);return o?n.a.createElement(GT,Object.assign({onGetValidationContext:this.getValidationContext,onUpdateFormField:a,onUpdateFormFieldAsync:r,teiRegistrationMetadata:o},l)):n.a.createElement("div",null,i.a.t("An error has occurred. See log for details"))}}var WT=HT;const YT=Object(an.c)(()=>({}),e=>({onUpdateField:(t,a)=>{e(((e,t)=>{const{filterActions:a,filterActionsToBeExecuted:r}=t;return Object(J.a)([e,...r,...a],UT)})(t,a))},onStartAsyncUpdateField:(t,a)=>{e(((e,t,a)=>W(e)({onSuccess:t,onError:a}))(t,e=>((e,t)=>{const{filterActions:a,filterActionsToBeExecuted:r}=t;return Object(J.a)([e,...r,...a],UT)})(e,a),e=>e))}}))(WT),zT="OpenDataEntryForNewTEI",qT=(e,t)=>H(zT)({dataEntryId:e,generatedUniqueValues:t}),KT="NewTeiDataEntryOpenBatch",XT=async(e,t,a,r=[],n={})=>{const o=await kT(e,n,{orgUnitCode:t.code}),i=Ev(a,"newTei",null,null,o.reduce((e,t)=>(e[t.id]=t.item.value,e),{}));return Object(J.a)([qT(a,o.reduce((e,t)=>(e[t.id]=t.item,e),{})),...i,...r],KT)};var JT=a(657);function ZT(e){const t=Object(r.useMemo)(()=>Object(Yt.B)(e),[e]);return Object(JT.a)(t)}const QT=()=>({id:Object(an.f)(({currentSelections:{orgUnitId:e}})=>e),name:Object(an.f)(({organisationUnits:e,currentSelections:{orgUnitId:t}})=>e[t]&&e[t].name)}),$T=()=>Object(r.useMemo)(()=>[...or.a.values()].filter(e=>e instanceof Yt.t).reduce((e,{id:t,name:a,trackedEntityType:{id:r,access:n,name:o,searchGroups:i,teiRegistration:{form:s,inputSearchGroups:l}},searchGroups:c,enrollment:d})=>{const p=e[r]?e[r].programs:[];return Object(G.a)({},e,{[r]:{trackedEntityTypeId:r,trackedEntityTypeAccess:n,trackedEntityTypeName:o,trackedEntityTypeSearchGroups:i,trackedEntityTypeTeiRegistration:{form:s,inputSearchGroups:l},programs:[...p,{programId:t,programName:a,searchGroups:c,enrollment:d}]}})},{}),[]),eN=e=>{const t=(()=>{const e=$T();return Object(r.useMemo)(()=>Object.values(e).reduce((e,{trackedEntityTypeId:t,trackedEntityTypeName:a,trackedEntityTypeTeiRegistration:r,programs:n})=>Object(G.a)({},e,{[t]:{formFoundation:r.form,registrationMetaData:r,name:a,formId:"registrationPageForm-".concat(t)}},n.reduce((e,{programId:t,programName:a,enrollment:r})=>Object(G.a)({},e,{[t]:{name:a,formFoundation:r.enrollmentForm,registrationMetaData:r,formId:"registrationPageForm-".concat(t)}}),{})),{}),[e])})(),{scopeType:a}=ZT(e);if(a===Yt.I.TRACKED_ENTITY_TYPE||a===Yt.I.TRACKER_PROGRAM){const{formFoundation:a,formId:r,registrationMetaData:n}=t[e];return{formFoundation:a,formId:r,registrationMetaData:n}}return{formFoundation:[],formId:null,registrationMetaData:null}};var tN=a(759),aN=a.n(tN),rN=a(477),nN=a.n(rN);const oN=ql()({root:{fontSize:14,color:bl.r.grey800,transformBox:"view-box",position:"relative",top:"2px"}})(aN.a),iN=ql()(()=>({container:{marginTop:12,marginBottom:12},text:{fontSize:14,fontWeight:"normal",marginLeft:8,color:bl.r.grey800}}))(({classes:e,children:t})=>n.a.createElement(nN.a,{container:!0,direction:"row",alignItems:"center",className:e.container},n.a.createElement(nN.a,{item:!0},n.a.createElement(oN,null)),n.a.createElement(nN.a,{item:!0,className:e.text},t)));class sN extends n.a.Component{constructor(...e){super(...e),this.handleShowExisting=()=>{this.props.onShowExisting()}}static renderPrerequisitesError(){return n.a.createElement("div",null,i.a.t("A duplicate exists (but there were some errors, see log for details"))}static renderNoAccess(e){const t=e.toLowerCase();return n.a.createElement("div",null,i.a.t("An item with this {{attributeName}} is already registered, but you don't have access to it",{attributeName:t}))}static renderAttributeValueExistsUnsaved(e){const t=e.toLowerCase();return n.a.createElement("div",null,i.a.t("You have already registered this {{attributeName}}",{attributeName:t}))}static renderTypeDifference(e,t){const a=t.toLowerCase(),r=e.toLowerCase();return n.a.createElement("div",null,i.a.t("A {{trackedEntityTypeName}} with this {{attributeName}} is already registered",{trackedEntityTypeName:a,attributeName:r}))}renderDefault(e,t,a){const r=t.toLowerCase(),o=e.toLowerCase();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,i.a.t("A {{trackedEntityTypeName}} with this {{attributeName}} is already registered",{trackedEntityTypeName:r,attributeName:o})),n.a.createElement("div",null,n.a.createElement(Hd,{onClick:this.handleShowExisting,className:a},i.a.t("Show registered {{trackedEntityTypeName}}",{trackedEntityTypeName:r}))))}renderContents(){const{trackedEntityType:e,attributeName:t,errorData:a,classes:r}=this.props;return e&&t?a?a.attributeValueExistsUnsaved?sN.renderAttributeValueExistsUnsaved(t):a.tetId!==e.id?sN.renderTypeDifference(t,e.name):this.renderDefault(t,e.name,r.linkButton):sN.renderNoAccess(t):sN.renderPrerequisitesError()}render(){const{classes:e}=this.props;return n.a.createElement("div",{className:e.container},this.renderContents())}}var lN=Object(ge.withStyles)(()=>({linkButton:{fontSize:"inherit",paddingLeft:0,paddingRight:3,backgroundColor:"inherit",textDecoration:"underline",cursor:"pointer",outline:"none"},container:{padding:2}}))(sN);const cN=e=>e.newRelationship.selectedRelationshipType.to.trackedEntityTypeId,dN=e=>e.newRelationshipRegisterTei.programId,pN=(e,t)=>t.id;var uN=Object(an.c)(()=>{const e=Object(Qd.createSelector)(cN,e=>{let t;try{t=Object(Yt.E)(e)}catch(a){return null}return t}),t=Object(Qd.createSelector)(dN,pN,(e,t,a)=>a,(e,t,a)=>{if(!e)return a?function(e,t){const a=t.teiRegistration.form.getElement(e);return a?a.name:null}(t,a):null;let r;try{r=Object(Yt.F)(e)}catch(n){return null}return function(e,t){const a=t.enrollment.enrollmentForm.getElement(e);return a?a.name:null}(t,r)});return(a,r)=>{const n=e(a,r);return{trackedEntityType:n,attributeName:t(a,r,n)}}},()=>({}))(lN),mN=a(564),hN=a.n(mN);const gN={ACTIVE:"ACTIVE",COMPLETED:"COMPLETED",CANCELLED:"CANCELLED",DONT_SHOW_TAG:"DONT_SHOW_TAG"},yN="SHOW_VIEW_ACTIVE_ENROLLMENT_BUTTON",vN="SHOW_RE_ENROLLMENT_BUTTON",bN="DONT_SHOW_BUTTON",EN=Object(ge.withStyles)(e=>({elementName:{fontSize:e.typography.pxToRem(13),color:bl.r.grey700},elementValue:{fontSize:e.typography.pxToRem(14),color:bl.r.grey900,fontWeight:500},entry:{paddingBottom:e.typography.pxToRem(4)}}))(({name:e,value:t,classes:a,type:r=Yt.v.TEXT})=>n.a.createElement("div",{className:a.entry},n.a.createElement("span",{className:a.elementName},e,":\xa0"),n.a.createElement("span",{className:a.elementValue},wa(t,r)))),fN=Object(ge.withStyles)(e=>({itemContainer:{maxWidth:e.typography.pxToRem(600),display:"flex",flexDirection:"column",margin:e.typography.pxToRem(8),padding:e.typography.pxToRem(8),borderRadius:e.typography.pxToRem(5),border:"1px solid ".concat(bl.r.grey400),backgroundColor:bl.r.grey050},itemDataContainer:{display:"flex"},smallerLetters:{fontSize:e.typography.pxToRem(12),color:bl.r.grey700,paddingBottom:e.typography.pxToRem(8)},enrolled:{display:"flex",justifyContent:"flex-end",color:bl.r.grey700},itemValuesContainer:{display:"flex",flexWrap:"wrap",flexGrow:1},image:{width:e.typography.pxToRem(44),height:e.typography.pxToRem(44),marginRight:e.typography.pxToRem(8)},buttonMargin:{marginTop:e.typography.pxToRem(8)}}))(({item:e,classes:t,profileImageDataElement:a,renderCustomCardActions:r,dataElements:o,currentProgramId:s,currentSearchScopeName:l})=>{const c=e.tei?e.tei.enrollments:[],d=((e,t)=>{if(!t)return gN.DONT_SHOW_TAG;const a=e.filter(({program:e})=>e===t).map(({status:e,lastUpdated:t})=>({status:e,lastUpdated:t})),{ACTIVE:r,CANCELLED:n,COMPLETED:o}=gN;return a.find(({status:e})=>e===r)?r:a.find(({status:e})=>e===o)?o:a.find(({status:e})=>e===n)?n:gN.DONT_SHOW_TAG})(c,s),{orgUnitName:p,enrollmentDate:u}=((e,t,a)=>{if(!a)return{};const{orgUnitName:r,enrollmentDate:n}=e.filter(({program:e})=>e===a).filter(({status:e})=>e===t).sort((e,t)=>De.a.utc(e.lastUpdated).diff(De.a.utc(t.lastUpdated)))[0]||{};return{orgUnitName:r,enrollmentDate:n}})(c,d,s);return n.a.createElement("div",{"data-test":"dhis2-capture-card-list-item",className:t.itemContainer},n.a.createElement("div",{className:t.itemDataContainer},n.a.createElement("div",{className:t.itemValuesContainer},n.a.createElement(Ql.i,{container:!0},a&&n.a.createElement(Ql.i,{item:!0},(a=>{const r=e.values[a.id];return n.a.createElement("div",null,r&&n.a.createElement(Ql.a,{src:r.url,alt:r.name,className:t.image}))})(a)),n.a.createElement(Ql.i,{item:!0,sm:!0,container:!0},n.a.createElement(Ql.i,{item:!0,xs:!0,container:!0,direction:"column"},o.map(({id:t,name:a,type:r})=>n.a.createElement(EN,{key:t,name:a,value:e.values[t],type:r})),p&&n.a.createElement(EN,{name:i.a.t("Organisation unit"),value:p}),u&&n.a.createElement(EN,{name:i.a.t("Date of enrollment"),value:u,type:Yt.v.DATE})),n.a.createElement(Ql.i,{item:!0},e.tei&&e.tei.lastUpdated&&n.a.createElement("div",{className:t.smallerLetters},i.a.t("Last updated")," ",e.tei&&De()(e.tei.lastUpdated).fromNow()),n.a.createElement("div",{className:t.enrolled},d===gN.ACTIVE&&n.a.createElement(bl.q,{dataTest:"dhis2-uicore-tag",positive:!0,icon:n.a.createElement(hN.a,{style:{transformBox:"view-box",fontSize:14,position:"relative",top:"-1px"}})},i.a.t("Enrolled")),(d===gN.CANCELLED||d===gN.COMPLETED)&&n.a.createElement(bl.q,{dataTest:"dhis2-uicore-tag",neutral:!0,icon:n.a.createElement(hN.a,{style:{transformBox:"view-box",fontSize:14,position:"relative",top:"-1px"}})},i.a.t("Previously enrolled")))))))),r&&n.a.createElement("div",{className:t.buttonMargin},r({item:e,programName:l,enrollmentType:d})))}),ON=e=>e,SN=Object(ge.withStyles)(e=>({noItemsContainer:{fontStyle:"italic",padding:e.typography.pxToRem(10)}}))(({classes:e,items:t,renderCustomCardActions:a,dataElements:r,noItemsText:o,currentProgramId:i,currentSearchScopeName:s})=>{const{profileImageDataElement:l,dataElementsExceptProfileImage:c}=Object(Qd.createSelector)(ON,e=>{const t=e.find(e=>e.type===Yt.v.IMAGE),a=[...e];return t&&a.splice(a.indexOf(t),1),{dataElementsExceptProfileImage:a,profileImageDataElement:t}})(r);return n.a.createElement("div",{"data-test":"dhis2-capture-search-results-list"},t&&0!==t.length?t.map(e=>n.a.createElement(fN,{key:e.id,item:e,currentSearchScopeName:s,currentProgramId:i,renderCustomCardActions:a,profileImageDataElement:l,dataElements:c})):n.a.createElement("div",{className:e.noItemsContainer},o))});class CN extends n.a.Component{constructor(...e){super(...e),this.handleLink=()=>{this.props.onLink(this.props.attributeValues)}}render(){const{attributeValues:e,dataElements:t,onCancel:a,programId:r}=this.props,o=[{id:"foundTEI",values:e}];return n.a.createElement(n.a.Fragment,null,n.a.createElement(we.a,null,n.a.createElement(Xl.a,null,i.a.t("Registered person")),n.a.createElement(SN,{currentProgramId:r,items:o,dataElements:t})),n.a.createElement(ay.a,null,n.a.createElement(Bd,{onClick:a,secondary:!0},i.a.t("Cancel")),n.a.createElement(Bd,{onClick:this.handleLink,primary:!0},i.a.t("Link"))))}}var IN=CN;const wN=e=>e.programId,TN=e=>e.tetAttributesOnly,NN=e=>e.errorData.tetId;var _N=Object(an.c)(()=>{const e=Object(Qd.createSelector)(wN,TN,NN,(e,t,a)=>{if(t){let e;try{e=Object(Yt.E)(a)}catch(n){return[]}return e.attributes.filter(e=>e.displayInReports)}let r;try{r=Object(Yt.F)(e)}catch(n){return[]}return r.attributes.filter(e=>e.displayInReports)}),t=Object(Qd.createSelector)((e,t)=>t,e=>e.attributeValues,(e,t)=>e.reduce((e,a)=>{const r=t[a.id];return(r||0===r||!1===r)&&(e[a.id]=a.convertValue(r,ta)),e},{}));return(a,r)=>{const n=e(r),o=t(r,n);return{programId:a.newRelationshipRegisterTei.programId,dataElements:n,attributeValues:o}}},()=>({}),(e,t,a)=>{const{programId:r,tetAttributesOnly:n,errorData:o}=a,i=Object(_e.a)(a,["programId","tetAttributesOnly","errorData"]);return Object.assign({},i,e,t)})(IN);const AN=ac()(_N);class RN extends n.a.Component{constructor(e){super(e),this.state={ready:!1,tetAttributesOnly:!1,attributeValues:null},this.requestTei()}componentWillUnmount(){this.cancelablePromise&&this.cancelablePromise.cancel()}requestTeiWithoutProgram(){const{errorData:e}=this.props,{id:t}=e,a=Object(B.d)(te().get("trackedEntityInstances/".concat(t),{}));a.promise.then(e=>{const t=e&&e.attributes||[];this.setState({ready:!0,tetAttributesOnly:!0,attributeValues:t.reduce((e,t)=>(e[t.attribute]=t.value,e),{})})}).catch(e=>{e&&e.isCanceled||this.setState({ready:!0,tetAttributesOnly:!0,attributeValues:{}})}),this.cancelablePromise=a}requestTeiInProgramContext(){const{errorData:e,programId:t}=this.props,{id:a}=e,r=Object(B.d)(te().get("trackedEntityInstances/".concat(a),{program:t,fields:"*"}));r.promise.then(e=>{e&&e.attributes?this.setState({ready:!0,attributeValues:e.attributes.reduce((e,t)=>(e[t.attribute]=t.value,e),{})}):this.requestTeiWithoutProgram()}).catch(e=>{e&&e.isCanceled||this.requestTeiWithoutProgram()}),this.cancelablePromise=r}requestTei(){this.props.programId?this.requestTeiInProgramContext():this.requestTeiWithoutProgram()}render(){const e=Object.assign({},this.props);return n.a.createElement(AN,Object.assign({},this.state,e))}}var kN=RN;var jN=Object(an.c)(e=>({programId:e.newRelationshipRegisterTei.programId}),()=>({}))(kN);var PN=e=>{const{open:t}=e,a=Object(_e.a)(e,["open"]);return n.a.createElement(Ce.a,{fullWidth:!0,maxWidth:"md",open:t,onClose:e.onCancel},n.a.createElement(jN,a))};class DN extends r.Component{constructor(e){super(e),this.handleShowExisting=()=>{this.setState({existingTeiDialogOpen:!0})},this.handleCancelLink=()=>{this.setState({existingTeiDialogOpen:!1})},this.handleLink=e=>{this.setState({existingTeiDialogOpen:!1});const t=this.props.errorData.id;this.props.onLink&&this.props.onLink(t,e)},this.state={existingTeiDialogOpen:!1}}render(){const e=this.props,{id:t,onLink:a}=e,n=Object(_e.a)(e,["id","onLink"]),{existingTeiDialogOpen:o}=this.state;return r.createElement(r.Fragment,null,r.createElement(uN,Object.assign({onShowExisting:this.handleShowExisting,id:t},n)),r.createElement(PN,Object.assign({open:o,onCancel:this.handleCancelLink,onLink:this.handleLink},n)))}}var FN=DN,xN=()=>e=>class extends r.Component{constructor(e){super(e),this.postProcessErrorMessage=(e,t,a,n,o)=>{if("unique"!==t)return e;const i=this.cache[n]||{};if(e===i.errorMessage&&a===i.errorData)return i.outputElement;const s=r.createElement(FN,{errorData:a,id:o,onLink:this.props.onLink});return this.cache[n]={errorMessage:e,errorData:a,outputElement:s},s},this.cache={}}render(){const t=this.props,{onLink:a}=t,n=Object(_e.a)(t,["onLink"]);return r.createElement(e,Object.assign({onPostProcessErrorMessage:this.postProcessErrorMessage},n))}},LN=a(1050);const UN=Object(Qd.createSelector)(e=>e.currentSelections.programId,e=>e.currentSelections.trackedEntityTypeId,e=>e.currentSelections.orgUnitId,e=>e.editEventPage.eventId,e=>e.viewEventPage.eventId,(e,t,a,r,n)=>({programId:e,trackedEntityTypeId:t,orgUnitId:a,eventId:r,viewEventId:n})),MN="setOrgUnitId",VN="storeOrgUnitObject",BN="setProgramId",GN="resetProgramIdBase",HN=()=>H(GN)(),WN={ORG_UNIT_ID_SET:"LockedSelector.OrgUnitSet",ORG_UNIT_ID_RESET:"LockedSelector.OrgUnitIdReset",PROGRAM_ID_SET:"LockedSelector.ProgramIdSet",PROGRAM_ID_RESET:"LockedSelector.ProgramIdReset",CATEGORY_OPTION_SET:"LockedSelector.CategoryOptionSet",CATEGORY_OPTION_RESET:"LockedSelector.CategoryOptionReset",ALL_CATEGORY_OPTIONS_RESET:"LockedSelector.AllCategoryOptionsReset",TEI_SELECTION_RESET:"LockedSelector.TeiSelectionReset",ENROLLMENT_SELECTION_SET:"LockedSelector.EnrollmentSelectionSet",ENROLLMENT_SELECTION_RESET:"LockedSelector.EnrollmentSelectionReset",LOADING_START:"LockedSelector.Loading",FROM_URL_UPDATE:"LockedSelector.FromUrlUpdate",FROM_URL_UPDATE_COMPLETE:"LockedSelector.FromUrlUpdateComplete",FROM_URL_CURRENT_SELECTIONS_VALID:"LockedSelector.FromUrlQueriesValid",FROM_URL_CURRENT_SELECTIONS_INVALID:"LockedSelector.FromUrlQueriesInvalid",EMPTY_ORG_UNIT_SET:"LockedSelector.EmptyOrgUnitSet",NEW_REGISTRATION_PAGE_OPEN:"LockedSelector.NewRegistrationPageOpen",SEARCH_PAGE_OPEN:"LockedSelector.SearchPageOpen",FETCH_ORG_UNIT:"LockedSelector.FetchOrgUnit",FETCH_ORG_UNIT_SUCCESS:"LockedSelector.FetchOrgUnitSuccess",FETCH_ORG_UNIT_ERROR:"LockedSelector.FetchOrgUnitError",PROGRAM_ID_STORE:"LockedSelector.StoreProgramId"},YN="LockedSelector.BatchAgainStart",zN="LockedSelector.BatchProgramIdReset",qN="LockedSelector.BatchOrgUnitIdReset",KN=e=>H(WN.ORG_UNIT_ID_RESET)({pageToPush:e}),XN=e=>H(WN.PROGRAM_ID_RESET)({pageToPush:e}),JN=()=>H(WN.ALL_CATEGORY_OPTIONS_RESET)(),ZN=()=>H(WN.NEW_REGISTRATION_PAGE_OPEN)(),QN=()=>H(WN.SEARCH_PAGE_OPEN)(),$N=e=>H(WN.FROM_URL_UPDATE)(e),e_=e=>H(WN.FROM_URL_CURRENT_SELECTIONS_INVALID)({error:e}),t_=e=>H(WN.FETCH_ORG_UNIT_SUCCESS)(e),a_=e=>H(WN.FETCH_ORG_UNIT_ERROR)({error:e}),r_=(e,t)=>Object(J.a)([...e,JN(),XN(t)],zN);var n_=a(7422),o_=a(7423);const i_=(e,t)=>{const{payload:a}=Object.values(e).find(({type:e})=>e===t);return a},s_=e=>({resource:"organisationUnits",id:e});var l_=a(565),c_=a.n(l_);var d_=Object(ge.withStyles)(()=>({list:{padding:0},item:{wordBreak:"break-word",hyphens:"auto",backgroundColor:"#ffffff",borderRadius:5,marginBottom:5,padding:5,border:"1px solid lightGrey","&:hover":{backgroundColor:"white",borderColor:"#71a4f8"}},itemContents:{display:"flex",alignItems:"center"}}))(e=>{const{items:t,onSelect:a,classes:n}=e;return r.createElement(Dy.a,{className:n.list},t.map(e=>r.createElement(xy.a,{className:n.item,button:!0,onClick:()=>a(e.value),key:e.value},r.createElement(c_.a,{primary:r.createElement("div",{className:n.itemContents},e.iconLeft,e.label)}))))});const p_=e=>e.options,u_=e=>e.onSelect,m_=ac(()=>({marginTop:5,paddingTop:3,height:0}),()=>({size:22}),e=>e.options)(jl);class h_ extends r.Component{static getOptionsAsync(e,t,a){return ar(e,{predicate:e=>{if(!t)return!0;const a=e.organisationUnits;return!a||!!a[t]},project:e=>({label:e.displayName,value:e.id,writeAccess:e.access.data.write}),onIsAborted:a})}static getDerivedStateFromProps(e,t){return e.selectedOrgUnitId!==t.prevOrgUnitId?{prevOrgUnitId:e.selectedOrgUnitId,options:null}:null}constructor(e){super(e),this.state={options:null,prevOrgUnitId:null},this.onSelectSelector=Object(Qd.createSelector)(p_,u_,(e,t)=>a=>{const r=e.find(e=>e.value===a);t({name:r.label,id:r.value,writeAccess:r.writeAccess})}),this.loadCagoryOptions(this.props)}componentDidUpdate(e){this.state.options||e.selectedOrgUnitId===this.props.selectedOrgUnitId||this.loadCagoryOptions(this.props)}componentWillUnmount(){this.cancelablePromise&&this.cancelablePromise.cancel(),this.cancelablePromise=null}loadCagoryOptions(e){const{category:t,selectedOrgUnitId:a}=e;let r;this.setState({options:null}),this.cancelablePromise&&this.cancelablePromise.cancel();r=Object(B.d)(h_.getOptionsAsync(t.id,a,()=>r&&this.cancelablePromise!==r)),r.promise.then(e=>{e.sort((e,t)=>e.label===t.label?0:e.label<t.label?-1:1),this.setState({options:e}),this.cancelablePromise=null}).catch(e=>{e&&(e.aborted||e.isCanceled)||(U.a.error(Object(B.c)("An error occured loading category options")({error:e})),this.setState({options:[]}))}),this.cancelablePromise=r}render(){const e=this.props,{selectedOrgUnitId:t,onSelect:a}=e,n=Object(_e.a)(e,["selectedOrgUnitId","onSelect"]),{options:o}=this.state,s=this.onSelectSelector({options:o,onSelect:a});return r.createElement(m_,Object.assign({options:o,value:"",placeholder:i.a.t("Select")},n,{onSelect:s}))}}var g_=h_;a(7092);const y_=({classes:e,handleResetOrgUnit:t})=>{const{push:a}=Object(ey.e)(),o=Object(an.f)(({router:{location:e}})=>e.pathname),{enrollmentId:s,teiId:l,orgUnitId:c}=Object(an.f)(({router:{location:{query:e}}})=>e);return Object(r.useEffect)(()=>{a("".concat(o,"?").concat(Y_({enrollmentId:s,teiId:l,orgUnitId:c})))},[a,o,s,l,c]),n.a.createElement(TO.a,{square:!0,elevation:0,className:e.paper},n.a.createElement("h4",{className:e.title},i.a.t("Program")),n.a.createElement("div",{className:e.noProgramsContainer},i.a.t("No programs available."),n.a.createElement(Hd,{className:e.programsHiddenTextResetOrgUnit,onClick:t},i.a.t("Show all"))))};class v_ extends r.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleClickCategoryOption=this.handleClickCategoryOption.bind(this),this.buildProgramsArray()}buildProgramsArray(){this.programsArray=Array.from(or.a.values())}getProgramIcon(e){const t=this.props.classes;return e.icon.data?n.a.createElement("div",{className:t.iconContainer},n.a.createElement("img",{style:{backgroundColor:e.icon.color},className:t.icon,src:e.icon.data,alt:e.name})):null}getOptionsFromPrograms(e){return e.map(e=>({label:e.name,value:e.id,iconLeft:this.getProgramIcon(e)}))}handleClick(e){this.props.handleClickProgram(e.value)}handleClickCategoryOption(e,t){this.props.handleSetCatergoryCombo(e,t)}handleResetProgram(){this.props.onResetProgramId(HN())}handleResetCategoryOption(e){this.props.onResetCategoryOption(e)}handleResetOrgUnit(){this.props.onResetOrgUnit()}getOptions(){let e=[];return e=this.props.selectedOrgUnitId?this.getOptionsFromPrograms(this.programsArray.filter(e=>e.organisationUnits[this.props.selectedOrgUnitId]&&e.access.data.read)):this.getOptionsFromPrograms(this.programsArray.filter(e=>e.access.data.read)),e}areAllProgramsAvailable(e){return e.length===this.programsArray.filter(e=>e.access.data.read).length}renderSelectedProgram(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h4",{className:this.props.classes.title},i.a.t("Selected program")),n.a.createElement("div",{className:this.props.classes.selectedText},n.a.createElement("div",{className:this.props.classes.selectedTextAndIconContainer},this.getProgramIcon(e),n.a.createElement("div",{className:this.props.classes.selectedProgramNameContainer},e.name)),n.a.createElement(Cn.a,{"data-test":"reset-selection-button",className:this.props.classes.selectedButton,onClick:()=>this.handleResetProgram()},n.a.createElement(ao.a,{className:this.props.classes.selectedButtonIcon}))))}renderWithSelectedProgram(e){if(e.categoryCombination){const{classes:t,selectedCategories:a,selectedOrgUnitId:r}=this.props;return n.a.createElement(nN.a,{container:!0},n.a.createElement(nN.a,{item:!0,xs:12,sm:6,className:this.props.classes.border},n.a.createElement(TO.a,{square:!0,elevation:0,className:t.selectedPaper},this.renderSelectedProgram(e))),Array.from(e.categoryCombination.categories.values()).map(e=>n.a.createElement(nN.a,{key:e.id,item:!0,xs:12,sm:6},n.a.createElement(TO.a,{square:!0,elevation:0,className:t.selectedPaper},n.a.createElement("h4",{className:t.title},e.name),(()=>a&&a[e.id]?n.a.createElement("div",{className:t.selectedText},n.a.createElement("div",{className:t.selectedCategoryNameContainer},a[e.id].name),n.a.createElement(Cn.a,{"data-test":"reset-selection-button",className:t.selectedButton,onClick:()=>this.handleResetCategoryOption(e.id)},n.a.createElement(ao.a,{className:t.selectedButtonIcon}))):n.a.createElement(g_,{category:e,onSelect:t=>{this.handleClickCategoryOption(t,e.id)},selectedOrgUnitId:r}))()))))}return n.a.createElement(TO.a,{square:!0,elevation:0,className:this.props.classes.selectedPaper},this.renderSelectedProgram(e))}renderWithoutSelectedProgram(e){const{handleClickProgram:t,classes:a}=this.props,r=this.areAllProgramsAvailable(e)?null:n.a.createElement("div",{className:this.props.classes.programsHiddenText},i.a.t("Some programs are being filtered."),n.a.createElement(Hd,{className:this.props.classes.programsHiddenTextResetOrgUnit,onClick:()=>this.handleResetOrgUnit()},i.a.t("Show all")));return n.a.createElement(TO.a,{square:!0,elevation:0,className:a.paper,"data-test":"dhis2-capture-program-selector-container"},n.a.createElement("h4",{className:a.title},i.a.t("Program")),(()=>e.length<=this.props.buttonModeMaxLength?n.a.createElement(d_,{items:e,onSelect:t}):n.a.createElement("div",null,n.a.createElement("div",{id:"program-selector"},n.a.createElement(jl,{options:e,onSelect:t,placeholder:i.a.t("Select program"),value:""}))))(),r)}render(){const e=this.getOptions();if(0===e.length)return n.a.createElement(y_,{classes:this.props.classes,handleResetOrgUnit:this.props.onResetOrgUnit});const t=this.props.selectedProgram?or.a.get(this.props.selectedProgram):null;return t?this.renderWithSelectedProgram(t):this.renderWithoutSelectedProgram(e)}}var b_=Object(ge.withStyles)(e=>({border:{borderRight:"1px solid ".concat(bl.r.grey500)},paper:{padding:8,backgroundColor:e.palette.grey.lighter},title:{margin:0,fontWeight:425,fontSize:15,paddingBottom:5},form:{width:"100%"},selectedText:{marginTop:6,marginBottom:4,padding:5,borderLeft:"2px solid ".concat(bl.r.blue600),display:"flex",alignItems:"center",justifyContent:"space-between"},selectedTextContainer:{display:"flex",alignItems:"center",overflow:"hidden"},selectedTextAndIconContainer:{display:"flex",alignItems:"center",overflow:"hidden"},selectedProgramNameContainer:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},selectedCategoryNameContainer:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},selectedPaper:{backgroundColor:e.palette.grey.lighter,padding:8},selectedButton:{float:"right",width:20,height:20,padding:0},selectedButtonIcon:{width:20,height:20},programsHiddenText:{fontSize:12,color:e.palette.grey.dark,paddingTop:5},programsHiddenTextResetOrgUnit:{cursor:"pointer",color:"inherit",paddingLeft:2},noProgramsContainer:{fontSize:14,textAlign:"center",backgroundColor:"white",padding:10,borderRadius:5,border:"1px solid lightGrey"},iconContainer:{display:"flex",alignItems:"center",paddingRight:5},icon:{width:20,height:20,borderRadius:2}}),{index:1})(v_);const E_="initRegUnitListRoots",f_="initRegUnitListRootsFailed",O_="searchRegisteringUnits",S_="clearOrgUnitSearch",C_="setRegisteringUnitSearchRoots",I_="setSearchRootsFailed",w_="showRegUnitLoadingIndicator";var T_=Object(an.c)(e=>({roots:ie("regUnit")||ie("captureRoots"),searchText:e.registeringUnitList.searchText,ready:!e.registeringUnitList.isLoading,treeKey:e.registeringUnitList.key}),e=>({onSearch:t=>{const a=t?(e=>H(O_)({searchText:e}))(t):H(S_)();e(a)}}))(ic);class N_ extends r.Component{constructor(e){super(e),this.state={open:!1},this.handleShowWarning=this.handleShowWarning.bind(this),this.handleClose=this.handleClose.bind(this),this.handleClick=this.handleClick.bind(this),this.handleReset=this.handleReset.bind(this)}handleShowWarning(){this.props.showWarning?this.setState({open:!0}):this.handleReset()}handleClose(){this.setState({open:!1})}handleClick(e,t){const a={id:t.id,name:t.displayName,code:t.code};this.props.handleClickOrgUnit(t.id,a)}handleReset(){this.props.handleClickOrgUnit(void 0,null)}render(){return this.props.selectedOrgUnitId?n.a.createElement("div",null,n.a.createElement(TO.a,{square:!0,elevation:0,className:this.props.classes.selectedPaper},n.a.createElement("h4",{className:this.props.classes.title},i.a.t("Selected registering unit")),n.a.createElement("div",{className:this.props.classes.selectedItemContainer},n.a.createElement("div",null,this.props.selectedOrgUnit.name),n.a.createElement("div",{className:this.props.classes.selectedItemClear},n.a.createElement(Cn.a,{"data-test":"reset-selection-button",className:this.props.classes.selectedButton,onClick:()=>this.props.onReset()},n.a.createElement(ao.a,{className:this.props.classes.selectedButtonIcon}))))),n.a.createElement(Ce.a,{open:this.state.open,onClose:this.handleClose},n.a.createElement(Xl.a,null,i.a.t("Start Again")),n.a.createElement(we.a,null,n.a.createElement(ny.a,null,i.a.t("Are you sure? All unsaved data will be lost."))),n.a.createElement(ay.a,null,n.a.createElement(Bd,{onClick:this.handleClose,secondary:!0},i.a.t("Cancel")),n.a.createElement(Bd,{onClick:this.handleReset,primary:!0},i.a.t("Accept"))))):n.a.createElement("div",{"data-test":"dhis2-capture-org-unit-selector-container"},n.a.createElement(TO.a,{square:!0,elevation:0,className:this.props.classes.paper},n.a.createElement("h4",{className:this.props.classes.title},i.a.t("Registering Organisation Unit")),n.a.createElement("div",null,n.a.createElement(T_,{"data-test":"dhis2-capture-org-unit-field",onSelectClick:this.handleClick}))))}}var __=Object(ge.withStyles)(e=>({paper:{padding:8,backgroundColor:e.palette.grey.lighter},title:{margin:0,fontWeight:425,fontSize:15,paddingBottom:5},form:{width:"100%"},listItem:{backgroundColor:"#ffffff",borderRadius:5,marginBottom:5,padding:5,border:"1px solid lightGrey"},selectedText:{marginTop:5,marginBottom:5,padding:5,borderLeft:"2px solid #71a4f8"},selectedPaper:{backgroundColor:e.palette.grey.lighter,padding:8},selectedButton:{width:20,height:20,padding:0},selectedButtonIcon:{width:20,height:20},selectedItemContainer:{display:"flex",alignItems:"center",minHeight:28,marginTop:8,marginBottom:4,paddingLeft:5,borderLeft:"2px solid ".concat(e.palette.primary.light)},selectedItemClear:{flexGrow:1,display:"flex",justifyContent:"flex-end"}}))(N_);const A_=Object(ge.withStyles)(({typography:e})=>({container:{marginLeft:e.pxToRem(8),marginBottom:e.pxToRem(8),marginTop:e.pxToRem(8)},marginRight:{marginRight:e.pxToRem(12)},buttonAsLink:{fontSize:e.pxToRem(13),background:"none!important",border:"none",padding:"0!important",color:bl.r.grey700,textDecoration:"underline",cursor:"pointer"}}))(({onStartAgainClick:e,onNewClick:t,onNewClickWithoutProgramId:a,onFindClick:r,onFindClickWithoutProgramId:o,selectedProgramId:s,classes:l,showResetButton:c})=>{const{trackedEntityName:d,scopeType:p,programName:u}=ZT(s);return n.a.createElement("div",{className:l.container},p!==Yt.I.TRACKER_PROGRAM&&p!==Yt.I.EVENT_PROGRAM?n.a.createElement(bl.a,{small:!0,secondary:!0,dataTest:"dhis2-capture-new-event-button",className:l.marginRight,onClick:a},i.a.t("New")):n.a.createElement(bl.d,{small:!0,secondary:!0,dataTest:"dhis2-capture-new-button",className:l.marginRight,component:n.a.createElement(bl.e,{dense:!0,maxWidth:"250px"},n.a.createElement(bl.h,{dataTest:"dhis2-capture-new-menuitem-one",label:"New ".concat(d," in ").concat(u),onClick:t}),n.a.createElement(bl.h,{dataTest:"dhis2-capture-new-menuitem-two",label:"New...",onClick:a}))},i.a.t("New")),p!==Yt.I.TRACKER_PROGRAM?n.a.createElement(bl.a,{small:!0,secondary:!0,dataTest:"dhis2-capture-find-button",className:l.marginRight,onClick:o},i.a.t("Find")):n.a.createElement(bl.d,{small:!0,secondary:!0,dataTest:"dhis2-capture-find-button",className:l.marginRight,component:n.a.createElement(bl.e,{dense:!0,maxWidth:"250px"},n.a.createElement(bl.h,{dataTest:"dhis2-capture-find-menuitem-one",label:"Find a ".concat(d," in ").concat(u),onClick:r}),n.a.createElement(bl.h,{dataTest:"dhis2-capture-find-menuitem-two",label:"Find...",onClick:o}))},i.a.t("Find")),c?n.a.createElement("button",{className:l.buttonAsLink,"data-test":"dhis2-capture-start-again-button",onClick:e},i.a.t("Clear selections")):null)}),R_=Object(jr.compose)(ac(()=>({height:"100%",alignItems:"center",justifyContent:"center"}),()=>({size:15})),Object(ge.withStyles)(e=>({paper:{padding:8,backgroundColor:e.palette.grey.lighter},title:{margin:0,fontWeight:425,fontSize:15,paddingBottom:5},form:{width:"100%"},listItem:{backgroundColor:"#ffffff",borderRadius:5,marginBottom:5,padding:5,border:"1px solid lightGrey"},selectedPaper:{backgroundColor:e.palette.grey.lighter,padding:8},selectedButton:{width:20,height:20,padding:0},selectedButtonIcon:{width:20,height:20},selectedItemContainer:{display:"flex",alignItems:"center",minHeight:28,marginTop:8,marginBottom:4,paddingLeft:5,borderLeft:"2px solid ".concat(e.palette.primary.light)},selectedItemClear:{flexGrow:1,display:"flex",justifyContent:"flex-end"}})))(({onClear:e,onSelect:t,title:a,selectedValue:o,options:s,classes:l})=>{const[c,d]=Object(r.useState)(Boolean(o)),p=Object(r.useCallback)(({value:e})=>{d(!0),t&&t(e)},[t]),{label:u}=s.find(({value:e})=>e===o)||{};return n.a.createElement(n.a.Fragment,null,c&&u?n.a.createElement(TO.a,{square:!0,elevation:0,className:l.selectedPaper},n.a.createElement("h4",{className:l.title},i.a.t("Selected")," ",a.toLowerCase()),n.a.createElement("div",{className:l.selectedItemContainer},n.a.createElement("div",null,u),n.a.createElement("div",{className:l.selectedItemClear},n.a.createElement(Cn.a,{"data-test":"reset-selection-button",className:l.selectedButton,onClick:()=>{d(!1),e&&e()}},n.a.createElement(ao.a,{className:l.selectedButtonIcon}))))):n.a.createElement("div",{"data-test":"dhis2-capture-org-unit-selector-container"},n.a.createElement(TO.a,{square:!0,elevation:0,className:l.paper},n.a.createElement("h4",{className:l.title},a),n.a.createElement(Tl.a,{onChange:p,options:s}))))});class k_ extends r.Component{static getSelectedProgram(e){return Wm.a.get(e)||{}}constructor(e){super(e),this.handleClickProgram=this.handleClickProgram.bind(this),this.handleSetCatergoryCombo=this.handleSetCatergoryCombo.bind(this),this.handleClickOrgUnit=this.handleClickOrgUnit.bind(this)}handleClickProgram(e){this.props.onSetProgramId(e)}handleSetCatergoryCombo(e,t){this.props.onSetCategoryOption(t,e)}handleClickOrgUnit(e,t){this.props.onSetOrgUnit(e,t)}calculateColumnWidths(){const e=this.props.selectedProgramId,t=k_.getSelectedProgram(e);return{programSelectorWidth:t&&t.categoryCombination?4:2,width:2}}render(){const{width:e,programSelectorWidth:t}=this.calculateColumnWidths(),{currentPage:a,selectedTeiName:r,selectedTetName:o,enrollmentsAsOptions:s,selectedEnrollmentId:l,onTeiSelectionReset:c,onEnrollmentSelectionSet:d,onEnrollmentSelectionReset:p,enrollmentLockedSelectReady:u}=this.props;return n.a.createElement(TO.a,{className:this.props.classes.paper},n.a.createElement(nN.a,{container:!0,spacing:0},n.a.createElement(nN.a,{item:!0,xs:12,sm:3*t,md:2*t,lg:t,className:this.props.classes.programSelector},n.a.createElement(b_,{selectedProgram:this.props.selectedProgramId,selectedOrgUnitId:this.props.selectedOrgUnitId,selectedCategories:this.props.selectedCategories,handleClickProgram:this.handleClickProgram,handleSetCatergoryCombo:this.handleSetCatergoryCombo,handleResetCategorySelections:this.props.onResetAllCategoryOptions,buttonModeMaxLength:5,onResetProgramId:this.props.onResetProgramId,onResetCategoryOption:this.props.onResetCategoryOption,onResetOrgUnit:this.props.onResetOrgUnitId})),n.a.createElement(nN.a,{item:!0,xs:12,sm:3*e,md:2*e,lg:e,className:this.props.classes.orgUnitSelector},n.a.createElement(__,{selectedOrgUnitId:this.props.selectedOrgUnitId,handleClickOrgUnit:this.handleClickOrgUnit,selectedOrgUnit:this.props.selectedOrgUnit,onReset:this.props.onResetOrgUnitId})),"enrollment"===a&&n.a.createElement(n.a.Fragment,null,n.a.createElement(nN.a,{item:!0,xs:12,sm:3*e,md:2*e,lg:2,className:this.props.classes.orgUnitSelector},n.a.createElement(R_,{ready:u,onClear:c,options:[{label:r,value:"alwaysPreselected"}],selectedValue:"alwaysPreselected",title:o})),s&&n.a.createElement(nN.a,{item:!0,xs:12,sm:3*e,md:2*e,lg:2,className:this.props.classes.orgUnitSelector},n.a.createElement(R_,{onClear:p,ready:u,onSelect:d,options:s,selectedValue:l,title:i.a.t("Enrollment")}))),n.a.createElement(nN.a,{item:!0,xs:12,sm:3*e,md:2*e,lg:2},n.a.createElement(A_,{selectedProgramId:this.props.selectedProgramId,onStartAgainClick:this.props.onStartAgain,onFindClick:this.props.onFindClick,onFindClickWithoutProgramId:this.props.onFindClickWithoutProgramId,onNewClick:this.props.onNewClick,onNewClickWithoutProgramId:this.props.onNewClickWithoutProgramId,showResetButton:!(!this.props.selectedProgramId&&!this.props.selectedOrgUnitId)}))))}}var j_=Object(ge.withStyles)(({palette:e})=>({paper:{flexGrow:1},programSelector:{backgroundColor:e.grey.lighter,margin:"0 0 0 -1px"},orgUnitSelector:{backgroundColor:e.grey.lighter,margin:"0 0 0 -1px",borderRight:"1px solid ".concat(bl.r.grey500),borderLeft:"1px solid ".concat(bl.r.grey500)}}))(k_);var P_=Object(an.c)(e=>{const{orgUnitId:t,programId:a}=z_(e),{router:{location:{pathname:r,query:{enrollmentId:n}}},currentSelections:{categoriesMeta:o},organisationUnits:i,enrollmentPage:{enrollments:s,teiDisplayName:l,tetId:c}}=e,d=((e=[],t)=>e.filter(({program:e})=>e===t).map(({created:e,enrollment:t})=>({label:wa(e,Va.d.DATETIME),value:t})))(s,a),{trackedEntityName:p}=Object(Yt.C)(c),u=Array.isArray(s);return{selectedProgramId:a,selectedOrgUnitId:t,selectedCategories:o,selectedOrgUnit:t?i[t]:null,currentPage:r.substring(1),selectedTeiName:l,selectedTetName:p,selectedEnrollmentId:n,enrollmentsAsOptions:d,enrollmentLockedSelectReady:u}},e=>({onTeiSelectionReset:()=>{e(H(WN.TEI_SELECTION_RESET)())},onEnrollmentSelectionSet:t=>{e((({enrollmentId:e})=>H(WN.ENROLLMENT_SELECTION_SET)({enrollmentId:e}))({enrollmentId:t}))},onEnrollmentSelectionReset:()=>{e(H(WN.ENROLLMENT_SELECTION_RESET)())}}))(j_);const D_={header:i.a.t("Unsaved changes"),text:i.a.t("Leaving this page will discard the changes you made to this event."),confirmText:i.a.t("Yes, discard"),cancelText:i.a.t("No, stay here")};class F_ extends r.Component{constructor(e){super(e),this.dontShowWarning=()=>!this.props.isUserInteractionInProgress,this.handleOpenStartAgainWarning=()=>{this.dontShowWarning()?this.props.onStartAgain():this.setState({openStartAgainWarning:!0})},this.handleOpenOrgUnitWarning=()=>{this.dontShowWarning()?this.props.onResetOrgUnitId():this.setState({openOrgUnitWarning:!0})},this.handleOpenProgramWarning=e=>{this.dontShowWarning()?this.props.onResetProgramId(e):this.setState({openProgramWarning:e})},this.handleOpenCatComboWarning=e=>{this.dontShowWarning()?this.props.onResetCategoryOption(e):this.setState({openCatComboWarning:!0,categoryIdToReset:e})},this.handleClose=()=>{this.setState({openStartAgainWarning:!1,openOrgUnitWarning:!1,openProgramWarning:null,openCatComboWarning:!1,openNewEventWarning:!1})},this.handleAcceptStartAgain=()=>{this.props.onStartAgain(),this.handleClose()},this.handleAcceptOrgUnit=()=>{this.props.onResetOrgUnitId(),this.handleClose()},this.handleAcceptProgram=()=>{this.state.openProgramWarning&&this.props.onResetProgramId(this.state.openProgramWarning),this.handleClose()},this.handleAcceptCatCombo=()=>{this.props.onResetCategoryOption(this.state.categoryIdToReset),this.handleClose()},this.openNewRegistrationPage=()=>{this.props.isUserInteractionInProgress?this.setState({openNewEventWarning:!0}):this.props.onOpenNewEventPage()},this.handleOpenNewRegistrationPageWithoutProgramId=()=>{this.props.onOpenNewRegistrationPageWithoutProgramId()},this.handleAcceptNew=()=>{this.props.onOpenNewEventPage(),this.handleClose()},this.handleOpenSearchPage=()=>{this.props.onOpenSearchPage()},this.handleOpenSearchPageWithoutProgramId=()=>{this.props.onOpenSearchPageWithoutProgramId()},this.state={openStartAgainWarning:!1,openOrgUnitWarning:!1,openProgramWarning:null,openCatComboWarning:!1,categoryIdToReset:"",openNewEventWarning:!1}}render(){const{onSetOrgUnit:e,onSetProgramId:t,onSetCategoryOption:a,onResetAllCategoryOptions:r}=this.props;return n.a.createElement("div",{"data-test":"dhis2-capture-locked-selector"},n.a.createElement(P_,{onSetOrgUnit:e,onSetProgramId:t,onSetCategoryOption:a,onResetAllCategoryOptions:r,onResetOrgUnitId:this.handleOpenOrgUnitWarning,onResetProgramId:this.handleOpenProgramWarning,onResetCategoryOption:this.handleOpenCatComboWarning,onStartAgain:this.handleOpenStartAgainWarning,onNewClick:this.openNewRegistrationPage,onNewClickWithoutProgramId:this.handleOpenNewRegistrationPageWithoutProgramId,onFindClick:this.handleOpenSearchPage,onFindClickWithoutProgramId:this.handleOpenSearchPageWithoutProgramId}),n.a.createElement(sy,Object.assign({onConfirm:this.handleAcceptStartAgain,open:this.state.openStartAgainWarning,onCancel:this.handleClose},D_)),n.a.createElement(sy,Object.assign({onConfirm:this.handleAcceptOrgUnit,open:this.state.openOrgUnitWarning,onCancel:this.handleClose},D_)),n.a.createElement(sy,Object.assign({onConfirm:this.handleAcceptProgram,open:!!this.state.openProgramWarning,onCancel:this.handleClose},D_)),n.a.createElement(sy,Object.assign({onConfirm:this.handleAcceptCatCombo,open:this.state.openCatComboWarning,onCancel:this.handleClose},D_)),n.a.createElement(sy,Object.assign({onConfirm:this.handleAcceptNew,open:this.state.openNewEventWarning,onCancel:this.handleClose},D_)))}}const x_=Object(jr.compose)(ac(()=>({height:"100px"})))(F_),L_=()=>Object(an.f)(({currentSelections:{programId:e,orgUnitId:t},router:{location:{query:{programId:a,orgUnitId:r},pathname:n}}})=>({selectedProgramId:a||e,selectedOrgUnitId:r||t,pathname:n})),U_=()=>{const e=Object(an.e)(),{selectedOrgUnitId:t}=L_(),{pathname:a}=Object(ey.f)(),n=!q_(a.substring(1));Object(r.useEffect)(()=>{var a;n&&t&&e((a=t,H(WN.FETCH_ORG_UNIT)({orgUnitId:a})))},[e,t,n])},M_=({customActionsOnProgramIdReset:e=[],customActionsOnOrgUnitIdReset:t=[],pageToPush:a=""})=>{const o=Object(an.e)(),i=Object(r.useCallback)((e,t)=>{o(((e,t,a)=>H(WN.ORG_UNIT_ID_SET)({orgUnitId:e,orgUnit:t,pageToPush:a}))(e,t,a))},[a,o]),s=Object(r.useCallback)(e=>{o(((e,t)=>H(WN.PROGRAM_ID_SET)({programId:e,pageToPush:t}))(e,a))},[a,o]),l=Object(r.useCallback)((e,t)=>{o(((e,t)=>H(WN.CATEGORY_OPTION_SET)({categoryId:e,categoryOption:t}))(e,t))},[o]),c=Object(r.useCallback)(e=>{o((e=>H(WN.CATEGORY_OPTION_RESET)({categoryId:e}))(e))},[o]),d=Object(r.useCallback)(()=>{o(JN())},[o]),p=Object(r.useCallback)(()=>{o(ZN())},[o]),u=Object(r.useCallback)(()=>{const e=[HN(),ZN()];o(r_(e,"new"))},[o]),m=Object(r.useCallback)(()=>{o(QN())},[o]),h=Object(r.useCallback)(()=>{const t=[HN(),QN(),...e];o(r_(t,"search"))},[e,o]),g=Object(r.useCallback)(()=>{o(Object(J.a)([XN(""),KN(""),JN(),HN()],YN))},[o]),y=Object(r.useCallback)(()=>{o(((e,t)=>Object(J.a)([KN(t),...e],qN))(t,a))},[a,t,o]),v=Object(r.useCallback)(t=>{const r=[t,...e];o(r_(r,a))},[a,e,o]),{selectedOrgUnitId:b,selectedProgramId:E}=L_(),f=((e,t,a)=>{if(t){const r=a[t];return Boolean(r&&r.id&&!e)}return!e})(Object(an.f)(({activePage:e})=>e.lockedSelectorLoads),b,Object(an.f)(({organisationUnits:e})=>e));return U_(),n.a.createElement(x_,{onStartAgain:g,onOpenSearchPageWithoutProgramId:h,onOpenSearchPage:m,onOpenNewRegistrationPageWithoutProgramId:u,onOpenNewEventPage:p,onResetProgramId:v,onResetOrgUnitId:y,onResetAllCategoryOptions:d,onResetCategoryOption:c,onSetCategoryOption:l,onSetProgramId:s,onSetOrgUnit:i,selectedOrgUnitId:b,selectedProgramId:E,ready:f})},V_={MAIN:"",VIEW_EVENT:"viewEvent",SEARCH:"search",NEW:"new"},B_={urlParameterName:"programId"},G_={urlParameterName:"orgUnitId"},H_={[V_.MAIN]:[B_,G_],[V_.VIEW_EVENT]:[{urlParameterName:"viewEventId"}],[V_.SEARCH]:[B_,G_],[V_.NEW]:[B_,G_,{urlParameterName:"trackedEntityTypeId"}]},W_={[V_.MAIN]:$N,[V_.SEARCH]:$N,[V_.NEW]:$N,[V_.VIEW_EVENT]:e=>H(hg)({eventId:e.nextProps.viewEventId,page:e.nextPage})},Y_=({programId:e,orgUnitId:t,trackedEntityTypeId:a,teiId:r,enrollmentId:n})=>{const o=[];return e?o.push("programId=".concat(e)):a&&o.push("trackedEntityTypeId=".concat(a)),t&&o.push("orgUnitId=".concat(t)),r&&o.push("teiId=".concat(r)),n&&o.push("enrollmentId=".concat(n)),o.join("&")},z_=e=>{const{currentSelections:{programId:t,orgUnitId:a,trackedEntityTypeId:r},router:{location:{query:{programId:n,orgUnitId:o,trackedEntityTypeId:i,teiId:s,enrollmentId:l}}}}=e;return{programId:n||t,orgUnitId:o||a,trackedEntityTypeId:i||r,teiId:s,enrollmentId:l}},q_=(e,t=V_)=>Object.values(t).includes(e),K_=Object(jr.compose)(xN(),ac(()=>({height:"350px"})),Ry({onGetFormFoundation:({enrollmentMetadata:e})=>e&&e.enrollmentForm}),Object(ge.withStyles)(({typography:e})=>({marginTop:{marginTop:e.pxToRem(2)},marginLeft:{marginLeft:e.pxToRem(16)}})))(e=>{let{id:t,selectedScopeId:a,enrollmentMetadata:r,saveButtonText:o,classes:s,onSave:l,onPostProcessErrorMessage:c}=e,d=Object(_e.a)(e,["id","selectedScopeId","enrollmentMetadata","saveButtonText","classes","onSave","onPostProcessErrorMessage"]);const{push:p}=Object(ey.e)(),{scopeType:u,trackedEntityName:m,programName:h}=ZT(a),{formId:g,formFoundation:y}=eN(a),v=QT();return n.a.createElement(n.a.Fragment,null,u===Yt.I.TRACKER_PROGRAM&&g&&n.a.createElement(n.a.Fragment,null,n.a.createElement(CT,Object.assign({orgUnit:v,programId:a,formFoundation:y,enrollmentMetadata:r,id:t,onPostProcessErrorMessage:c,onGetUnsavedAttributeValues:()=>console.log("onGetUnsavedAttributeValues will be here in the future"),onUpdateField:()=>console.log("onUpdateField will be here in the future"),onStartAsyncUpdateField:()=>console.log("onStartAsyncUpdateField will be here in the future")},d)),n.a.createElement("div",{className:s.marginTop},l&&n.a.createElement(bl.a,{dataTest:"dhis2-capture-create-and-link-button",primary:!0,onClick:l},o),n.a.createElement(bl.a,{dataTest:"dhis2-capture-cancel-button",secondary:!0,onClick:()=>{const e=u===Yt.I.TRACKER_PROGRAM?Y_({programId:a,orgUnitId:v.id}):Y_({orgUnitId:v.id});return p("/?".concat(e))},className:s.marginLeft},i.a.t("Cancel"))),n.a.createElement(iN,null,((e,t,a)=>n.a.createElement(n.a.Fragment,null,i.a.t("Saving a {{trackedEntityName}} in",{trackedEntityName:e})," ",n.a.createElement("b",null,t),a&&n.a.createElement(n.a.Fragment,null," ",i.a.t("in")," ",n.a.createElement("b",null,a)),"."))(m.toLowerCase(),h,v.name))))}),X_="StartInitForEnrollmentRegistrationForm",J_=(e,t)=>{const a=Object(an.e)(),{scopeType:n}=ZT(e),{id:o}=QT(),{formId:i,formFoundation:s}=eN(e),l=!!i;Object(r.useEffect)(()=>{l&&n===Yt.I.TRACKER_PROGRAM&&a((({selectedOrgUnitId:e,selectedScopeId:t,dataEntryId:a,formFoundation:r})=>H(X_)({selectedOrgUnitId:e,selectedScopeId:t,dataEntryId:a,formFoundation:r}))({selectedOrgUnitId:o,selectedScopeId:e,dataEntryId:t,formFoundation:s}))},[n,t,e,o,l,s,a])},Z_=e=>{let{selectedScopeId:t,id:a}=e,r=Object(_e.a)(e,["selectedScopeId","id"]);J_(t,a);const o=Object(an.f)(({dataEntries:e})=>!!e[a]);return n.a.createElement(K_,Object.assign({selectedScopeId:t,id:a,ready:o},r))},Q_="StartInitForTrackedEntityTypeRegistrationForm",$_=Object(jr.compose)(xN(),Ry({onGetFormFoundation:({teiRegistrationMetadata:e})=>e&&e.form}),Object(ge.withStyles)(({typography:e})=>({marginTop:{marginTop:e.pxToRem(2)},marginLeft:{marginLeft:e.pxToRem(16)}})))(e=>{let{id:t,selectedScopeId:a,onSave:r,saveButtonText:o,teiRegistrationMetadata:s,fieldOptions:l,classes:c,onPostProcessErrorMessage:d}=e,p=Object(_e.a)(e,["id","selectedScopeId","onSave","saveButtonText","teiRegistrationMetadata","fieldOptions","classes","onPostProcessErrorMessage"]);const{push:u}=Object(ey.e)(),{scopeType:m,trackedEntityName:h}=ZT(a),{formId:g,formFoundation:y}=eN(a),v=QT();return n.a.createElement(n.a.Fragment,null,m===Yt.I.TRACKED_ENTITY_TYPE&&g&&n.a.createElement(n.a.Fragment,null,n.a.createElement(YT,Object.assign({orgUnit:v,formFoundation:y,programId:a,teiRegistrationMetadata:s,id:t,fieldOptions:l,onPostProcessErrorMessage:d,onGetUnsavedAttributeValues:()=>console.log("similar to the withErrorMessagePostProcessor this will come in the future")},p)),n.a.createElement("div",{className:c.marginTop},r&&n.a.createElement(bl.a,{dataTest:"dhis2-capture-create-and-link-button",primary:!0,onClick:r},o),n.a.createElement(bl.a,{dataTest:"dhis2-capture-cancel-button",secondary:!0,onClick:()=>{const e=m===Yt.I.TRACKER_PROGRAM?Y_({programId:a,orgUnitId:v.id}):Y_({orgUnitId:v.id});return u("/?".concat(e))},className:c.marginLeft},i.a.t("Cancel"))),n.a.createElement(iN,null,((e,t)=>n.a.createElement(n.a.Fragment,null,i.a.t("Saving a {{trackedEntityName}}",{trackedEntityName:e})," ",n.a.createElement("b",null,i.a.t("without"))," ",i.a.t("enrollment"),t&&n.a.createElement(n.a.Fragment,null," ",i.a.t("in")," ",n.a.createElement("b",null,t)),"."," ",i.a.t("Enroll in a program by selecting a program from the top bar.")))(h.toLowerCase(),v.name))))}),eA=(e,t)=>{const a=Object(an.e)(),{scopeType:n}=ZT(e),{id:o}=QT(),{formId:i,formFoundation:s}=eN(e),l=!!i;Object(r.useEffect)(()=>{l&&n===Yt.I.TRACKED_ENTITY_TYPE&&a((({selectedOrgUnitId:e,selectedScopeId:t,dataEntryId:a,formFoundation:r})=>H(Q_)({selectedOrgUnitId:e,selectedScopeId:t,dataEntryId:a,formFoundation:r}))({selectedOrgUnitId:o,selectedScopeId:e,dataEntryId:t,formFoundation:s}))},[n,t,e,o,l,s,a])},tA=e=>{let{selectedScopeId:t,id:a}=e,r=Object(_e.a)(e,["selectedScopeId","id"]);eA(t,a);const o=Object(an.f)(({dataEntries:e})=>!!e[a]);return n.a.createElement($_,Object.assign({selectedScopeId:t,id:a,ready:o},r))},aA=e=>class extends r.Component{constructor(...e){super(...e),this.handleAddNote=e=>{this.props.onAddNote(this.props.itemId,this.props.dataEntryId,e)}}render(){const t=this.props,{onAddNote:a,itemId:n,dataEntryId:o}=t,i=Object(_e.a)(t,["onAddNote","itemId","dataEntryId"]);return r.createElement(e,Object.assign({},i,{onAddNote:this.handleAddNote}))}},rA=(e,t)=>{const a=e.dataEntries&&e.dataEntries[t.dataEntryId]&&e.dataEntries[t.dataEntryId].itemId,r=Mg(t.dataEntryId,a);return{itemId:a,notes:e.dataEntriesNotes[r]||[]}};var nA=a(7093);const oA=ho()(yl);class iA extends r.Component{constructor(e){super(e),this.toggleIsOpen=()=>{this.setState(e=>({addIsOpen:!e.addIsOpen}))},this.onCancel=()=>{this.props.onBlur(null,{touched:!1}),this.toggleIsOpen()},this.onNewNoteEditorBlur=e=>{this.props.onBlur(e,{touched:!1})},this.handleAddNote=()=>{this.props.value&&this.props.onAddNote(this.props.value),this.toggleIsOpen(),this.props.onBlur(null,{touched:!1})},this.handleChange=e=>{this.setState({value:e})},this.renderInput=()=>{const{classes:e}=this.props;return r.createElement("div",{className:e.newNoteFormContainer},r.createElement(nA.Editor,{onEdit:this.handleChange},r.createElement(oA,{onBlur:this.onNewNoteEditorBlur,onChange:this.handleChange,value:this.state.value,multiLine:!0,"data-test":"dhis2-capture-comment-textfield"})),r.createElement("div",{className:e.newCommentButtonContainer,"data-test":"dhis2-capture-comment-buttons-container"},r.createElement(Bd,{onClick:this.handleAddNote,className:e.addCommentContainer,primary:!0},i.a.t("Add comment")),r.createElement(Bd,{onClick:this.onCancel},i.a.t("Cancel"))))},this.renderButton=e=>{const{smallMainButton:t,classes:a}=this.props;return r.createElement(Ql.p,{title:e?"":i.a.t("You dont have access to write comments")},r.createElement("div",{className:a.newNoteButtonContainer,"data-test":"dhis2-capture-new-comment-button"},r.createElement(Bd,{onClick:this.toggleIsOpen,disabled:!e,small:t},i.a.t("Write comment"))))},this.render=()=>{const{notes:e,classes:t,entityAccess:a}=this.props;return r.createElement("div",{className:t.notesContainer},r.createElement(Ql.k,{dense:!0,className:t.notesList,"data-test":"dhis2-capture-comments-list"},e.map(e=>r.createElement(Ql.l,{className:t.noteItem,key:e.clientId,"data-test":"dhis2-capture-comment"},r.createElement("div",{className:t.noteItemHeader},r.createElement("div",{className:t.noteItemUser,"data-test":"dhis2-capture-comment-user"},e.storedBy),r.createElement("div",{className:t.noteItemDate,"data-test":"dhis2-capture-comment-date"},e.storedDate)),r.createElement("div",{"data-test":"dhis2-capture-comment-text"},r.createElement(nA.Parser,null,e.value))))),r.createElement("div",{className:t.newNoteContainer,"data-test":"dhis2-capture-new-comment-container"},this.state.addIsOpen?this.renderInput():this.renderButton(a.write)))},this.state={addIsOpen:!!this.props.value,value:this.props.value||null}}UNSAFE_componentWillReceiveProps(e){e.value===this.props.value&&this.props.value===this.state.value||this.setState({value:e.value})}}iA.defaultProps={entityAccess:{read:!0,write:!0}};var sA=Object(ge.withStyles)(e=>({noteItem:{display:"flex",flexDirection:"column",alignItems:"normal",background:e.palette.grey.lighter,marginBottom:e.typography.pxToRem(3),fontSize:e.typography.pxToRem(14)},commandButton:{width:e.typography.pxToRem(30),height:e.typography.pxToRem(30)},borderBoxContent:{margin:e.typography.pxToRem(10)},newCommentButtonContainer:{marginTop:e.typography.pxToRem(10)},newNoteContainer:{},newNoteFormContainer:{background:e.palette.grey.lighter,padding:e.typography.pxToRem(10)},notesContainer:{},noteItemHeader:{display:"flex"},noteItemUser:{flexGrow:1,fontWeight:"bold"},noteItemDate:{color:e.palette.grey[600]},notesList:{padding:0},newNoteButtonContainer:{display:"inline-block"},addCommentContainer:{marginRight:5,marginLeft:2}}))(iA);const lA=e=>class extends r.Component{constructor(...e){super(...e),this.handleOpenAddRelationship=()=>{this.props.onOpenAddRelationship(this.props.itemId,this.props.dataEntryId)},this.handleRemoveRelationship=e=>{this.props.onRemoveRelationship(this.props.itemId,this.props.dataEntryId,e)}}render(){const t=this.props,{onOpenAddRelationship:a,onRemoveRelationship:n,itemId:o,dataEntryId:i}=t,s=Object(_e.a)(t,["onOpenAddRelationship","onRemoveRelationship","itemId","dataEntryId"]);return r.createElement(e,Object.assign({},s,{onOpenAddRelationship:this.handleOpenAddRelationship,onRemoveRelationship:this.handleRemoveRelationship}))}},cA=(e,t)=>{const a=e.dataEntries&&e.dataEntries[t.dataEntryId]&&e.dataEntries[t.dataEntryId].itemId,r=Mg(t.dataEntryId,a);return{relationships:e.dataEntriesRelationships[r],itemId:a}},dA=e=>({onRemoveRelationship:(t,a,r)=>{e(((e,t,a)=>H(Vh)({dataEntryId:e,itemId:t,relationshipClientId:a}))(a,t,r))}});const pA={PROGRAM_STAGE_INSTANCE:i.a.t("This event")};class uA extends r.Component{constructor(...e){super(...e),this.renderRelationships=()=>this.props.relationships.map(e=>this.renderRelationship(e)),this.renderRelationship=e=>{const{classes:t,onRemoveRelationship:a}=this.props,n=this.canDelete(e),o=En()(t.relationshipDetails,{[t.relationshipHighlight]:this.shouldHighlightRelationship(e)});return r.createElement("div",{className:t.relationship,key:e.clientId},r.createElement("div",{className:o},r.createElement("div",{className:t.relationshipTypeName},e.relationshipType.name),r.createElement("div",{className:t.relationshipEntities},this.getEntityName(e.from),r.createElement(In.d,{className:t.arrowIcon}),this.getEntityName(e.to))),r.createElement("div",{className:t.relationshipActions},r.createElement(Ql.p,{title:n?"":i.a.t("You dont have access to delete this relationship")},r.createElement("div",null,r.createElement(Ql.j,{onClick:()=>{a(e.clientId)},disabled:!n},r.createElement(In.g,null))))))},this.shouldHighlightRelationship=e=>{const t=this.props.highlightRelationshipId;return t&&t===e.clientId},this.getEntityName=e=>{const{onRenderConnectedEntity:t}=this.props;return e.id===this.props.currentEntityId?pA[e.type]:t?t(e):e.name},this.canDelete=e=>{const{entityAccess:t,writableRelationshipTypes:a}=this.props;return e.from.id===this.props.currentEntityId&&t.write&&a.some(t=>t.id===e.relationshipType.id&&t.access.data.write)}}shouldComponentUpdate(e){const t=Object.keys(e).filter(t=>e[t]!==this.props[t]),a=t.length;return!(1===a&&"highlightRelationshipId"===t[0]&&!e.highlightRelationshipId)&&a>0}render(){const{classes:e,onOpenAddRelationship:t,entityAccess:a,writableRelationshipTypes:n,relationshipsRef:o,smallMainButton:s}=this.props,l=a.write&&n.length>0;return r.createElement("div",{className:e.container,ref:o},r.createElement("div",{className:e.relationshipsContainer},this.renderRelationships()),r.createElement("div",null,r.createElement(Ql.p,{title:l?"":i.a.t("You dont have access to create any relationships")},r.createElement("div",{className:e.addButtonContainer},r.createElement(Bd,{onClick:t,disabled:!l,small:s,dataTest:"dhis2-capture-add-relationship-button"},i.a.t("Add relationship"))))))}}uA.defaultProps={entityAccess:{read:!0,write:!0}};var mA=Object(ge.withStyles)(e=>({relationship:{display:"flex",alignItems:"center",padding:5},relationshipDetails:{backgroundColor:e.palette.grey.lighter,padding:7,flexGrow:1},relationshipTypeName:{fontSize:14,fontWeight:600,color:"rgba(0,0,0,0.7)"},relationshipsContainer:{},container:{display:"flex",flexDirection:"column"},relationshipEntities:{marginTop:7,fontSize:15,display:"flex",alignItems:"center"},arrowIcon:{marginLeft:10,marginRight:10,fontSize:15},relationshipActions:{padding:7},addButtonContainer:{display:"inline-block"},"@keyframes background-fade":{"0%":{backgroundColor:e.palette.secondary.lightest},"70%":{backgroundColor:e.palette.secondary.lightest},"100%":{backgroundColor:e.palette.grey.lighter}},relationshipHighlight:{animation:"background-fade 2.5s forwards"}}))(uA),hA={SAVEANDADDANOTHER:"SAVEANDADDANOTHER",SAVEANDEXIT:"SAVEANDEXIT",FINISH:"FINISH"},gA=e=>{const t=e.formsValues["singleEvent-newEvent"]||{};if(Object.keys(t).some(e=>t[e]))return!0;const a=e.dataEntriesFieldsValue["singleEvent-newEvent"]||{};return Object.keys(a).some(e=>a[e])};const yA=Object(G.a)({},hA,{FINISH:"FINISH"}),vA={[yA.SAVEANDADDANOTHER]:e=>({key:yA.SAVEANDADDANOTHER,text:i.a.t("Save and add another"),onClick:()=>{e.onSave(hA.SAVEANDADDANOTHER)}}),[yA.SAVEANDEXIT]:e=>({key:yA.SAVEANDEXIT,text:i.a.t("Save and exit"),onClick:()=>{e.onSave(hA.SAVEANDEXIT)}}),[yA.FINISH]:e=>({key:yA.FINISH,text:i.a.t("Finish"),onClick:()=>{e.onCancel()}})},bA=e=>class extends r.Component{constructor(...e){super(...e),this.getButtonDefinition=e=>vA[e](this.props),this.getFormHorizontalButtons=(e,t)=>{const a=[this.getButtonDefinition(yA.SAVEANDADDANOTHER),this.getButtonDefinition(yA.SAVEANDEXIT)];return e||!t?a:[this.getButtonDefinition(yA.FINISH),...a]},this.getFormVerticalButtons=(e,t,a)=>{const r=a?a.map(e=>this.getButtonDefinition(e)):[this.getButtonDefinition(yA.SAVEANDEXIT),this.getButtonDefinition(yA.SAVEANDADDANOTHER)];return e||!t?r:[this.getButtonDefinition(yA.FINISH),...r]},this.renderMultiButton=(e,t)=>{const a=e[0],n=e.slice(1);return r.createElement(_l.a,{title:t?"":i.a.t("No write access")},r.createElement("div",{"data-test":"dhis2-capture-main-button"},r.createElement(oy,{primary:!0,disabled:!t,onClick:a.onClick,dropDownItems:n},a.text)))}}render(){const t=this.props,{saveTypes:a,dataEntryHasChanges:n,hasRecentlyAddedEvents:o,onSave:i,finalInProgress:s}=t,l=Object(_e.a)(t,["saveTypes","dataEntryHasChanges","hasRecentlyAddedEvents","onSave","finalInProgress"]),c=this.props.formFoundation.access.data.write,d=this.props.formHorizontal?this.getFormHorizontalButtons(n,o):this.getFormVerticalButtons(n,o,a),p=this.renderMultiButton(d,c,s);return r.createElement(e,Object.assign({ref:e=>{this.innerInstance=e},mainButton:p},l))}},EA=(e,t)=>{const a=e.dataEntries&&e.dataEntries[t.id]&&e.dataEntries[t.id].itemId,r=Mg(t.id,a),n=gA(e),o=e.recentlyAddedEvents&&Object.keys(e.recentlyAddedEvents).length>0;return{saveTypes:e.newEventPage.saveTypes,finalInProgress:e.dataEntriesUI[r]&&e.dataEntriesUI[r].finalInProgress,dataEntryHasChanges:n,hasRecentlyAddedEvents:o}},fA=()=>({});const OA=e=>!e;var SA=()=>[{validator:OA,message:i.a.t("Please add or cancel comment before saving the event")}];var CA=Object(ge.withStyles)(()=>({container:{display:"flex",alignItems:"center",padding:"8px 8px 8px 12px"},containerVertical:{display:"flex",flexDirection:"column",margin:8},label:{flexBasis:200},field:{flexBasis:150,flexGrow:1}}))(e=>{const{classes:t,orientation:a}=e,n=Object(_e.a)(e,["classes","orientation"]);return r.createElement("div",{className:"horizontal"===a?t.container:t.containerVertical},r.createElement("div",{className:"horizontal"===a&&t.label},i.a.t("Assigned user")),r.createElement("div",{className:"horizontal"===a&&t.field},r.createElement(Xp,Object.assign({inputPlaceholderText:i.a.t("Search for user")},n))))}),IA=a(7150),wA=a.n(IA);const TA=e=>e.currentSelections.programId,NA=e=>e.stage,_A="BASICINFO",AA="STATUS",RA="COMMENTS",kA="RELATIONSHIPS",jA="ASSIGNEE",PA={errorMessage:"validationError"},DA={labelContainerStyle:{flexBasis:200},inputContainerStyle:{flexBasis:150}},FA={labelContainerStyle:{width:150},inputContainerStyle:{width:150}};function xA(e){const{formHorizontal:t,fieldOptions:a,validationError:r,modified:n}=e;return Object(_e.a)(e,["formHorizontal","fieldOptions","validationError","modified"])}const LA=(e,t)=>Object(G.a)({},(e=>({fieldOptions:e.fieldOptions,formHorizontal:e.formHorizontal,styles:e.formHorizontal?FA:DA}))(e),{},t),UA=Ic(PA)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions.fieldLabelMediaBasedClass," ").concat(wA.a.coordinateLabel)})(kc()(Uo()(Uc(xA)(Zl)))))))),MA=Ic(PA)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions.fieldLabelMediaBasedClass," ").concat(wA.a.polygonLabel)})(kc()(Uo()(Uc(xA)(ec)))))))),VA=e=>e?Lo.VERTICAL:Lo.HORIZONTAL,BA={onIsCompleting:e=>e.completeDataEntryFieldValue,onFilterProps:e=>{const{completeDataEntryFieldValue:t}=e;return Object(_e.a)(e,["completeDataEntryFieldValue"])}},GA=gv()(Uc(e=>{const{stage:t,onScrollToRelationships:a,recentlyAddedRelationshipId:r,relationshipsRef:n}=e;return Object(_e.a)(e,["stage","onScrollToRelationships","recentlyAddedRelationshipId","relationshipsRef"])})(Wg)),HA=$g((()=>{const e=Op(["onBlur","onSet"])(ho()(Uc(e=>{const t=xA(e),{validationAttempted:a,touched:r}=t;return Object(_e.a)(t,["validationAttempted","touched"])})(CA)));return{isApplicable:e=>!!(e.stage&&e.stage.enableUserAssignment),getComponent:()=>e,getComponentProps:e=>LA({},{orientation:VA(e.formHorizontal)}),getPropName:()=>"assignee",getValidatorContainers:()=>[],getMeta:()=>({section:jA})}})())(GA),WA=$g((()=>{const e=Object(Qd.createSelector)(NA,e=>e?e.relationshipTypesWhereStageIsFrom.filter(e=>e.access.data.write):[]),t=Dc()(Lc()(Uc(xA)((e=>Object(an.c)(cA,dA)(lA(e)))(mA))));return{isApplicable:e=>e.stage&&e.stage.relationshipTypesWhereStageIsFrom.length>0,getComponent:()=>t,getComponentProps:t=>LA(t,{id:"relationship",dataEntryId:t.id,highlightRelationshipId:t.recentlyAddedRelationshipId,relationshipsRef:t.relationshipsRef,onOpenAddRelationship:t.onOpenAddRelationship,writableRelationshipTypes:e(t),fromEntity:"PROGRAM_STAGE_INSTANCE",currentEntityId:"newEvent"}),getValidatorContainers:()=>[],getPropName:()=>"relationship",getMeta:()=>({placement:Ug,section:kA})}})())(HA),YA=Zg((()=>{const e=Ic(PA)(Dc()(Lc()(kc()(Uo()(Uc(xA)((e=>Object(an.c)(rA,()=>({}))(aA(e)))(sA)))))));return{getComponent:()=>e,getComponentProps:e=>LA(e,{label:"Comments",onAddNote:e.onAddNote,id:"comments",dataEntryId:e.id}),getPropName:()=>"note",getValidatorContainers:()=>SA(),getMeta:()=>({placement:Ug,section:RA})}})())(WA),zA=$g({isApplicable:e=>{const t=e.formFoundation.featureType;return["Polygon","Point"].includes(t)},getComponent:e=>"Polygon"===e.formFoundation.featureType?MA:UA,getComponentProps:e=>{const t=e.formFoundation.featureType;return LA(e,"Polygon"===t?{width:e&&e.formHorizontal?150:350,label:i.a.t("Area"),dialogLabel:i.a.t("Area"),required:!1,orientation:VA(e.formHorizontal)}:{width:e&&e.formHorizontal?150:350,label:"Coordinate",dialogLabel:"Coordinate",required:!1,orientation:VA(e.formHorizontal),shrinkDisabled:e.formHorizontal})},getPropName:()=>"geometry",getValidatorContainers:()=>[],getMeta:()=>({placement:Lg,section:_A})})(YA),qA=(e=>Vy()(e,Object(ge.withStyles)($y)(Object(an.c)(tv,av)(ev()))))((e=>Vy()(e,Object(ge.withStyles)(qy)(Object(an.c)(Xy,Jy)(Ky()))))((e=>Vy()(e,Object(ge.withStyles)(rv)(Object(an.c)(ov,iv)(nv()))))((e=>Vy()(e,Object(ge.withStyles)(By)(Object(an.c)(Hy,Wy)(Gy()))))(Zg((()=>{const e=Ic(PA)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions.fieldLabelMediaBasedClass," ").concat(wA.a.dateLabel)})(kc()(Uo()(Uc(xA)(Hl))))))));return{getComponent:()=>e,getComponentProps:e=>{return LA(e,{width:e&&e.formHorizontal?150:"100%",label:e.formFoundation.getLabel("eventDate"),required:!0,calendarWidth:e.formHorizontal?250:350,popupAnchorPosition:(t=e.formHorizontal,t?"center":"left")});var t},getPropName:()=>"eventDate",getValidatorContainers:()=>qw(),getMeta:()=>({placement:Lg,section:_A})}})())(zA))))),KA=yy(()=>({color:"primary"}))(qA),XA=Ry(BA)((e=>Object(an.c)(EA,fA)(bA(e)))(KA)),JA=Zg((()=>{const e=Ic(PA)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions.fieldLabelMediaBasedClass," ").concat(wA.a.trueOnlyLabel)})(kc()(Uo()(Uc(xA)(Il))))))));return{getComponent:()=>e,getComponentProps:e=>LA(e,{label:"Complete event",id:"complete"}),getPropName:()=>"complete",getValidatorContainers:()=>[],getMeta:()=>({placement:Ug,section:AA}),getPassOnFieldData:()=>!0}})())(XA),ZA={[_A]:{placement:Lg,name:i.a.t("Basic info")},[AA]:{placement:Ug,name:i.a.t("Status")},[RA]:{placement:Ug,name:i.a.t("Comments")},[kA]:{placement:Ug,name:i.a.t("Relationships")},[jA]:{placement:Ug,name:i.a.t("Assignee")}};class QA extends r.Component{constructor(e){super(e),this.setRelationshipsInstance=e=>{this.relationshipsInstance=e},this.handleSave=(e,t,a,r)=>{r===hA.SAVEANDADDANOTHER?(this.props.formHorizontal||this.props.onSetSaveTypes([hA.SAVEANDADDANOTHER,hA.SAVEANDEXIT]),this.props.onSaveAndAddAnother(e,t,a)):r===hA.SAVEANDEXIT&&this.props.onSave(e,t,a)},this.renderHorizontal=()=>{const e=this.props.classes;return n.a.createElement("div",{className:e.horizontal},this.renderContent())},this.renderVertical=()=>n.a.createElement("div",null,this.renderContent()),this.renderContent=()=>{const e=this.props,{onUpdateField:t,onStartAsyncUpdateField:a,programName:r,orgUnitName:o,classes:i,onSave:s,onSetSaveTypes:l,onSaveAndAddAnother:c,theme:d}=e,p=Object(_e.a)(e,["onUpdateField","onStartAsyncUpdateField","programName","orgUnitName","classes","onSave","onSetSaveTypes","onSaveAndAddAnother","theme"]);return n.a.createElement("div",null,n.a.createElement("div",{"data-test":"dhis2-capture-data-entry-container"},n.a.createElement(JA,Object.assign({id:"singleEvent",onUpdateFormField:t,onUpdateFormFieldAsync:a,onSave:this.handleSave,fieldOptions:this.fieldOptions,dataEntrySections:this.dataEntrySections,relationshipsRef:this.setRelationshipsInstance},p))),n.a.createElement(iN,null,this.getSavingText()))},this.fieldOptions={theme:e.theme,fieldLabelMediaBasedClass:e.classes.fieldLabelMediaBased},this.dataEntrySections=ZA}UNSAFE_componentWillMount(){this.props.onSetSaveTypes(null)}componentDidMount(){this.relationshipsInstance&&this.props.recentlyAddedRelationshipId&&(this.relationshipsInstance.scrollIntoView(),this.props.onScrollToRelationships())}componentWillUnmount(){Gd.clear()}getSavingText(){const{classes:e,orgUnitName:t,programName:a}=this.props,r="".concat(i.a.t("Saving to")," "),o=" ".concat(i.a.t("in")," ");return n.a.createElement("span",null,r,n.a.createElement("span",{className:e.savingContextNames},a),o,n.a.createElement("span",{className:e.savingContextNames},t))}render(){return n.a.createElement("div",null,this.props.formHorizontal?this.renderHorizontal():this.renderVertical())}}var $A=Object(ge.withStyles)(e=>({savingContextContainer:{paddingTop:e.typography.pxToRem(10),display:"flex",alignItems:"center",color:e.palette.grey.dark,fontSize:e.typography.pxToRem(13)},savingContextText:{paddingLeft:e.typography.pxToRem(10)},savingContextNames:{fontWeight:"bold"},topButtonsContainer:{display:"flex",flexFlow:"row-reverse"},horizontal:{padding:e.typography.pxToRem(10),paddingTop:e.typography.pxToRem(20),paddingBottom:e.typography.pxToRem(15)},fieldLabelMediaBased:{[e.breakpoints.down(523)]:{paddingTop:"0px !important"}}}))(Object(ge.withTheme)()(QA));var eR=Object(an.c)(()=>{const e=Object(Qd.createSelector)(TA,e=>{const t=Wm.a.get(e);return t&&t.name||""});return(t,a)=>({recentlyAddedRelationshipId:t.newEventPage.recentlyAddedRelationshipId,ready:!t.activePage.isDataEntryLoading,error:a.formFoundation?null:i.a.t("This is not an event program or the metadata is corrupt. See log for details."),programName:e(t),orgUnitName:t.organisationUnits[t.currentSelections.orgUnitId]&&t.organisationUnits[t.currentSelections.orgUnitId].name})},e=>({onUpdateDataEntryField:t=>{const{dataEntryId:a,itemId:r}=t.payload,n=nn()();e(Object(J.a)([t,Yh(a,r,n),jw(Object(G.a)({},t.payload,{uid:n}))],$I))},onUpdateField:t=>{const{dataEntryId:a,itemId:r}=t.payload,n=nn()();e(Object(J.a)([t,Yh(a,r,n),jw(Object(G.a)({},t.payload,{uid:n}))],ew))},onStartAsyncUpdateField:(t,a,r)=>{e(((e,t,a)=>W(e)({onSuccess:t,onError:a}))(t,e=>{const t=nn()();return Object(J.a)([e,Yh(a,r,t),jw(Object(G.a)({},e.payload,{dataEntryId:a,itemId:r,uid:t}))],ew)},e=>e))},onSave:(t,a,r)=>{window.scrollTo(0,0),e(((e,t,a)=>H(sw)({eventId:e,dataEntryId:t,formFoundation:a},{skipLogging:["formFoundation"]}))(t,a,r))},onAddNote:(t,a,r)=>{e(((e,t,a)=>H(Ow)({itemId:e,dataEntryId:t,note:a}))(t,a,r))},onSetSaveTypes:t=>{e((e=>H(Ew)({saveTypes:e}))(t))},onSaveAndAddAnother:(t,a,r)=>{e(((e,t,a)=>H(gw)({eventId:e,dataEntryId:t,formFoundation:a},{skipLogging:["formFoundation"]}))(t,a,r))},onCancel:()=>{window.scrollTo(0,0),e(Dw())},onOpenAddRelationship:(t,a)=>{e(((e,t)=>H(Sw)({eventId:e,dataEntryId:t}))(t,a))},onScrollToRelationships:()=>{e(H(kw)())}}))(ac()(Cp()($A))),tR=a(656);const aR=(e,t)=>e.workingListsContext[t.listId].programId,rR=(e,t)=>e.workingListsColumnsOrder[t.listId],nR=e=>{const t=new Yt.d(t=>{t.id=e.id,t.type=e.type}),a=e.options.map(e=>new Yt.k(t=>{t.text=e.text,t.value=e.value})),r=new Yt.l(e.id,a,null,t);return t.optionSet=r,r},oR=(e,t)=>t.events,iR=(e,t)=>t.eventsValues,sR=(e,t)=>e.workingLists[t.listId].order,lR=(e,t,a)=>a.map(a=>({event:e[a],eventValues:t[a]})),cR=Object(Qd.createSelectorCreator)(Qd.defaultMemoize,({eventContainers:e},{eventContainers:t})=>t.every((t,a)=>t.event===(e[a]&&e[a].event)&&t.eventValues===(e[a]&&e[a].eventValues))&&e.every((e,a)=>e.event===(t[a]&&t[a].event)&&e.eventValues===(t[a]&&t[a].eventValues))),dR=()=>cR((e,t)=>({eventContainers:e,columns:t}),({eventContainers:e,columns:t})=>((e,t)=>{if(0===e.length)return[];const{stage:a,error:r}=Object(tR.a)(e[0].event);return r||!a?null:e.map(e=>{const r=a.stageForm.convertValues(e.eventValues,Oa),n=t.filter(e=>e.isMainProperty).reduce((t,a)=>{const r=e.event[a.id];if(r)if(a.options){const e=a.options.find(e=>e.value===r);e?t[a.id]=e.text:U.a.error(Object(B.c)("Missing value in options for main values")({sourceValue:r,mainColumn:a}))}else t[a.id]=Oa(r,a.type);return t},{});return Object(G.a)({},n,{},r,{eventId:e.event.eventId})})})(e,t));var pR=Object(an.c)(()=>{const e=Object(Qd.createSelector)(aR,rR,(e,t)=>{const a=Object(Yt.D)(e);if(a.error)return t;const r=a.stage.stageForm;return t.map(e=>{if(e.isMainProperty)return Object(G.a)({},e,{header:e.header||r.getLabel(e.id),optionSet:e.options&&nR(e)});const t=r.getElement(e.id);return Object(G.a)({},e,{header:t.formName,type:t.type,optionSet:t.optionSet})})}),t=Object(Qd.createSelector)(oR,iR,sR,lR),a=dR();return(r,n)=>{const o=e(r,n),i=t(r,n),s=r.workingListsMeta[n.listId].sortById,l=r.workingListsMeta[n.listId].sortByDirection;return{columns:o,rowIdKey:"eventId",dataSource:a(i,o),sortById:s,sortByDirection:l}}},{});var uR=Object(an.c)((e,t)=>{const a=e.workingListsContext[t.listId];return{hasData:!(!a||!ZS(a,e.currentSelections))}},{})(US(pR));class mR extends n.a.Component{render(){const e=this.props,{listId:t,noItemsText:a,emptyListText:r}=e,o=Object(_e.a)(e,["listId","noItemsText","emptyListText"]);return n.a.createElement(uR,Object.assign({listId:t,noItemsText:a||i.a.t("No events to display"),emptyListText:r||i.a.t("Data for offline list not present")},o))}}var hR=mR;var gR=Object(ge.withStyles)(e=>({container:{padding:e.typography.pxToRem(20)},header:{paddingBottom:e.typography.pxToRem(10)}}))(e=>{const{classes:t}=e,a=Object(_e.a)(e,["classes"]),n=e.events?Object.keys(e.events).length:0;return 0===n?null:r.createElement(TO.a,{className:t.container},r.createElement("div",{className:t.header},"".concat(n," ").concat(i.a.t("events added"))),r.createElement(hR,Object.assign({listId:"recentlyAddedEvents",noItemsText:i.a.t("No events added"),emptyListText:i.a.t("No events added")},a)))});var yR=Object(an.c)(e=>({events:e.recentlyAddedEvents,eventsValues:e.recentlyAddedEventsValues}),()=>({onRowClick:()=>{}}))(gR);const vR=e=>{const{trackedEntityName:t,programName:a,scopeType:r}=ZT(e),n={[Yt.I.EVENT_PROGRAM]:"".concat(a),[Yt.I.TRACKER_PROGRAM]:"".concat(t," in program: ").concat(a),[Yt.I.TRACKED_ENTITY_TYPE]:"".concat(t)};return r?n[r]:""},bR=()=>({id:Object(an.f)(({currentSelections:e})=>e.programId)}),ER=ql()(({typography:e})=>({flexContainer:{display:"flex",alignItems:"center",justifyContent:"center"},flexEnd:{justifyContent:"flex-end",marginLeft:"auto"},paper:{marginBottom:e.pxToRem(10),padding:e.pxToRem(10)},title:{padding:"8px 0 0px 8px",fontWeight:500},marginLeft:{marginLeft:8}}))(({classes:e,formFoundation:t,formHorizontal:a,stage:n,onFormLayoutDirectionChange:o})=>{const{id:s}=bR(),l=vR(s);return r.createElement(Ql.o,{className:e.paper},r.createElement("div",{className:e.title},"New ",l),r.createElement("div",{className:e.flexContainer},r.createElement("div",{className:e.flexEnd},!t||t.customForm?null:r.createElement(bl.a,{onClick:()=>o(!a),small:!0},a?i.a.t("Switch to form view"):i.a.t("Switch to row view")))),r.createElement("div",{className:e.marginLeft},r.createElement(eR,{stage:n,formFoundation:t,formHorizontal:a}),r.createElement(yR,null)))}),fR=e=>e.currentSelections.programId,OR=Object(an.c)(()=>{const e=Object(Qd.createSelector)(fR,e=>{const t=Wm.a.get(e);if(!t)return U.a.error(Object(B.c)("programId not found")({method:"getFormFoundation"})),null;const a=t.stage;return a||(U.a.error(Object(B.c)("stage not found for program")({method:"getFormFoundation"})),null)});return t=>{const a=e(t),r=a&&a.stageForm?a.stageForm:null;return{stage:a,formFoundation:r,dataEntryHasChanges:gA(t),formHorizontal:(!r||!r.customForm)&&!!t.newEventPage.formHorizontal}}},e=>({onFormLayoutDirectionChange:t=>{e((e=>H(Vw)({formHorizontal:e}))(t))}}))(ER);class SR extends r.Component{constructor(...e){super(...e),this.onSelectRelationshipType=e=>{this.props.onSelectRelationshipType({id:e.id,name:e.name,from:Object(G.a)({},e.from),to:Object(G.a)({},e.to)})},this.renderRelationshipTypes=()=>{const{classes:e,relationshipTypes:t}=this.props;return t?t.map(t=>r.createElement("div",{key:t.id,"data-test":"dhis2-capture-relationship-type-selector-button-".concat(t.id),className:En()(e.relationshipType,e.relationshipTypeSelectable),role:"button",tabIndex:"0",onClick:()=>this.onSelectRelationshipType(t)},t.name)):[]},this.renderSelectedRelationshipType=e=>{const{classes:t,onDeselectRelationshipType:a}=this.props;return r.createElement("div",{className:En()(t.relationshipType,t.relationshipTypeSelected)},r.createElement("div",{className:t.relationshipTypeSelectedText},r.createElement("div",null,e.name),r.createElement(ao.a,{fontSize:"small",onClick:a})))}}render(){const{selectedRelationshipType:e,classes:t}=this.props;return r.createElement("div",{className:t.container},e?this.renderSelectedRelationshipType(e):this.renderRelationshipTypes())}}var CR=ql()(e=>({relationshipType:{display:"flex",padding:e.typography.pxToRem(10),border:"1px solid ".concat(e.palette.grey.light),borderRadius:e.typography.pxToRem(4),margin:e.typography.pxToRem(10)},relationshipTypeSelectable:{cursor:"pointer"},relationshipTypeSelected:{backgroundColor:"#f0f9f8"},relationshipTypeSelectedText:{paddingLeft:e.typography.pxToRem(5),display:"flex",alignItems:"center",borderLeft:"2px solid #4ca899"},container:{display:"flex"}}))(SR),IR=a(764),wR=a.n(IR),TR=a(765),NR=a.n(TR);const _R=e=>e.newRelationshipRegisterTei.programId;var AR=a(7151),RR=a.n(AR);const kR=e=>Object(an.f)(({dataEntriesSearchGroupsResults:t,dataEntries:a})=>{const r=Mg("relationship",a.relationship.itemId),n=Boolean(t[r]&&t[r].main&&t[r].main.count),o=e.toLocaleLowerCase();return n?i.a.t("Review Duplicates"):i.a.t("Save new {{trackedEntityTypeName}} and link",{trackedEntityTypeName:o})});var jR=Object(ge.withTheme)()(({theme:e,onSave:t,enrollmentMetadata:a,programId:r})=>{const o={theme:e,fieldLabelMediaBasedClass:RR.a.fieldLabelMediaBased},{trackedEntityType:i}=a||{},s=kR(i.name);return n.a.createElement(Z_,{id:"relationship",enrollmentMetadata:a,selectedScopeId:r,saveButtonText:s,fieldOptions:o,onSave:t})});const PR=Object(an.c)(()=>{const e=Object(Qd.createSelector)(_R,e=>{let t;try{t=Object(Yt.A)(e)}catch(a){return null}return t.enrollment});return t=>({enrollmentMetadata:e(t),programId:t.newRelationshipRegisterTei.programId})},()=>({}))(jR),DR=e=>e.newRelationship.selectedRelationshipType.to.trackedEntityTypeId;var FR=a(7152),xR=a.n(FR);var LR=Object(ge.withTheme)()(({theme:e,onSave:t,teiRegistrationMetadata:a={}})=>{const r={theme:e,fieldLabelMediaBasedClass:xR.a.fieldLabelMediaBased},{trackedEntityType:o}=a||{},i=kR(o.name);return n.a.createElement(tA,{id:"relationship",teiRegistrationMetadata:a,selectedScopeId:a.form.id,saveButtonText:i,fieldOptions:r,onSave:t})});const UR=Object(an.c)(()=>{const e=Object(Qd.createSelector)(DR,e=>{let t;try{t=Object(Yt.E)(e)}catch(a){return U.a.error(Object(B.c)("Could not get TrackedEntityType for id")({TETypeId:e})),null}return t.teiRegistration});return t=>({teiRegistrationMetadata:e(t)})},()=>({}))(LR);class MR extends r.Component{render(){const e=this.props,{showDataEntry:t,programId:a}=e,n=Object(_e.a)(e,["showDataEntry","programId"]);return t?a?r.createElement(PR,n):r.createElement(UR,n):null}}var VR=MR;const BR=Object(jr.compose)(Object(an.c)(e=>({showDataEntry:e.newRelationshipRegisterTei.orgUnit,error:e.newRelationshipRegisterTei.dataEntryError,programId:e.newRelationshipRegisterTei.programId}),()=>({})),Cp())(VR);class GR extends r.Component{static isBeingFiltered(e,t){return e.length!==t.length}constructor(e){super(e),this.filterPrograms=e=>{const{orgUnitIds:t}=this.props;return e.filter(e=>!t||t.some(t=>e.organisationUnits[t]))},this.programs=Array.from(or.a.values())}getBaselinePrograms(e){const{baselineFilter:t}=this.props;return e.filter(e=>t(e))}getPrograms(e){return Object(B.e)(this.filterPrograms)(e)}render(){const e=this.props,{orgUnitIds:t,baselineFilter:a,children:r}=e,n=Object(_e.a)(e,["orgUnitIds","baselineFilter","children"]),o=this.getBaselinePrograms(this.programs),i=this.getPrograms(o);return r(i,GR.isBeingFiltered(o,i),n)}}var HR=GR;class WR extends r.Component{constructor(...e){super(...e),this.baseLineFilter=e=>{const{trackedEntityTypeId:t}=this.props;return e instanceof Yt.t&&e.trackedEntityType.id===t&&e.access.data.write},this.getOptionsFromPrograms=e=>e.map(e=>({label:e.name,value:e.id,iconLeft:this.getProgramIcon(e)}))}getProgramIcon(e){const t=this.props.classes;return e.icon.data?r.createElement("div",{className:t.iconContainer},r.createElement("img",{style:{backgroundColor:e.icon.color},className:t.icon,src:e.icon.data,alt:e.name})):null}renderIsFilteredText(){const{classes:e,onClearFilter:t}=this.props;return r.createElement("div",{className:e.isFilteredContainer},i.a.t("Some programs are being filtered."),r.createElement(Hd,{className:e.isFilteredLink,onClick:t},i.a.t("Show all")))}render(){const e=this.props,{classes:t,orgUnitIds:a,onUpdateSelectedProgram:n,onClearFilter:o}=e,i=Object(_e.a)(e,["classes","orgUnitIds","onUpdateSelectedProgram","onClearFilter"]);return r.createElement(HR,{orgUnitIds:a,baselineFilter:this.baseLineFilter},(e,t)=>r.createElement("div",null,r.createElement(Ul,Object.assign({options:this.getOptionsFromPrograms(e),required:!1,onSelect:n},i)),t?this.renderIsFilteredText():null))}}var YR=ho()(Dc()(Hc({onGetCustomFieldLabeClass:e=>e.programLabelClass})(Uc(e=>{const{programLabelClass:t}=e;return Object(_e.a)(e,["programLabelClass"])})(Ml()(Object(ge.withStyles)(e=>({iconContainer:{display:"flex",alignItems:"center",paddingRight:5},icon:{width:22,height:22,borderRadius:2},isFilteredContainer:{fontSize:12,color:e.palette.grey.dark,paddingTop:5},isFilteredLink:{paddingLeft:2,backgroundColor:"inherit"}}))(WR))))));class zR extends r.Component{render(){const e=this.props,{classes:t}=e,a=Object(_e.a)(e,["classes"]);return r.createElement(YR,Object.assign({dataTest:"dhis2-capture-relationship-register-tei-program-selector",styles:zR.baseComponentStyles,programLabelClass:t.programLabel,label:i.a.t("Program")},a))}}zR.baseComponentStyles={labelContainerStyle:{flexBasis:200},inputContainerStyle:{flexBasis:150}};var qR=Object(ge.withStyles)(e=>({programLabel:{paddingTop:"10px",[e.breakpoints.down(523)]:{paddingTop:"0px !important"}}}))(zR);const KR="NewRelationshipSingleEventRegisterTeiProgramChange",XR="NewRelationshipSingleEventRegisterTeiOrgUnitChange",JR="NewRelationshipSingleEventRegisterTeiOrgUnitSearchFailed",ZR="NewRelationshipSingleEventRegisterTeiProgramFilterClear";var QR=Object(an.c)(e=>({orgUnitIds:e.newRelationshipRegisterTei.orgUnit?[e.newRelationshipRegisterTei.orgUnit.id]:null,trackedEntityTypeId:e.newRelationship.selectedRelationshipType.to.trackedEntityTypeId,value:e.newRelationshipRegisterTei.programId}),e=>({onUpdateSelectedProgram:t=>{e((e=>H(KR)({programId:e}))(t))},onClearFilter:()=>{e(H(ZR)())}}))(qR);const $R=(e=>{const t=qc()(e);class a extends r.Component{constructor(e){super(e);const{scope:t}=this.props;this.defaultRoots=ie(a.DEFAULT_ROOTS_DATA[t])||[]}render(){const e=Object.assign({},this.props);return r.createElement(t,Object.assign({defaultRoots:this.defaultRoots},e))}}return a.DEFAULT_ROOTS_DATA={[Yc]:"captureRoots",[zc]:"search"},a})(lc);class ek extends r.Component{render(){const e=this.props,{onUpdateSelectedOrgUnit:t}=e,a=Object(_e.a)(e,["onUpdateSelectedOrgUnit"]);return r.createElement($R,Object.assign({onSelect:t,scope:Yc,maxTreeHeight:200},a))}}var tk=Lc()(Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>e.labelClass})(Uc(e=>{const{labelClass:t}=e;return Object(_e.a)(e,["labelClass"])})(Uo()(ek)))));class ak extends r.Component{constructor(...e){super(...e),this.handleUpdateSelectedOrgUnit=e=>{const{programId:t,onUpdateSelectedOrgUnit:a}=this.props;if(!t||!e)return void a(e,!1);let r;try{r=Object(Yt.A)(t)}catch(n){return void a(e,!0)}a(e,!!r.organisationUnits&&!r.organisationUnits[e.id])}}render(){const e=this.props,{classes:t,onUpdateSelectedOrgUnit:a,programId:n}=e,o=Object(_e.a)(e,["classes","onUpdateSelectedOrgUnit","programId"]);return r.createElement(tk,Object.assign({labelClass:t.label,label:i.a.t("Organisation Unit"),styles:ak.baseComponentStyles,onUpdateSelectedOrgUnit:this.handleUpdateSelectedOrgUnit},o))}}ak.baseComponentStyles={labelContainerStyle:{flexBasis:200},inputContainerStyle:{flexBasis:150}};var rk=Object(ge.withStyles)(e=>({label:{paddingTop:"10px",[e.breakpoints.down(523)]:{paddingTop:"0px !important"}}}))(ak);var nk=Object(an.c)(e=>({value:e.newRelationshipRegisterTei.orgUnit,programId:e.newRelationshipRegisterTei.programId}),e=>({onUpdateSelectedOrgUnit:(t,a)=>{e(((e,t)=>H(XR)({orgUnit:e,resetProgramSelection:t}))(t,a))},onSearchError:()=>{e(H(JR)())}}))(rk);var ok=()=>r.createElement(r.Fragment,null,r.createElement(nk,null),r.createElement(QR,null));const ik=()=>{const e=i.a.t("Registration");return r.createElement(Tn,{title:e})};var sk=Object(ge.withStyles)(e=>({section:{backgroundColor:"white",maxWidth:e.typography.pxToRem(892)}}))(e=>{const{classes:t}=e;return r.createElement(On,{header:ik(),elevation:2,className:t.section},r.createElement(ok,null))});class lk extends r.Component{constructor(e){super(e),this.toggleCollapse=()=>{this.setState({collapsed:!this.state.collapsed})},this.renderCollapsable=()=>{const e=this.props.classes;return r.createElement(Ql.j,{className:e.toggleCollapseButton,onClick:this.toggleCollapse},this.state.collapsed?r.createElement(In.b,null):r.createElement(In.c,null))},this.renderContent=()=>{const{children:e,classes:t}=this.props;return r.createElement("div",{className:t.contentContainer},e)},this.state={collapsed:this.props.collapsed||!1}}UNSAFE_componentWillReceiveProps(e){e.collapsed!==this.props.collapsed&&this.setState({collapsed:e.collapsed})}render(){const{header:e,collapsable:t,classes:a}=this.props;return r.createElement(Ql.o,{className:a.container},r.createElement("div",{className:a.headerContainer},e,t&&this.renderCollapsable()),!this.state.collapsed&&this.renderContent())}}var ck=Object(ge.withStyles)(e=>({container:{margin:e.typography.pxToRem(10)},headerContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.typography.pxToRem(5),minHeight:e.typography.pxToRem(42)},toggleCollapseButton:{padding:4},contentContainer:{padding:e.typography.pxToRem(10),borderTop:"1px solid ".concat(e.palette.grey.blueGrey)}}))(lk);class dk extends r.Component{render(){const{icon:e,text:t,badgeCount:a,classes:n,badgeClass:o}=this.props,i=!!a||0===a;return r.createElement("div",{className:n.headerContainer},r.createElement("div",{className:n.headerItemContainer},r.createElement(e,null)),r.createElement("div",{className:n.headerItemContainer},t),i&&r.createElement("div",{className:n.headerItemContainer},r.createElement(Ql.b,{className:En()(n.badge,o),label:a})))}}var pk=Object(ge.withStyles)(e=>({headerContainer:{display:"flex",alignItems:"center"},headerItemContainer:{display:"inline-flex",paddingRight:e.typography.pxToRem(5),paddingLeft:e.typography.pxToRem(5)},badge:{height:e.typography.pxToRem(20),width:e.typography.pxToRem(20),fontWeight:700}}))(dk);const uk=i.a.t("Errors");class mk extends r.Component{constructor(...e){super(...e),this.renderHeader=()=>{const{classes:e,errors:t}=this.props,a=t?t.length:0;return r.createElement(pk,{icon:In.i,text:uk,badgeClass:e.badge,badgeCount:a})},this.renderItems=e=>e.map(e=>r.createElement("div",{className:this.props.classes.error,key:e.id},e.message))}render(){const{errors:e}=this.props;return e&&e.length>0?r.createElement(ck,{collapsable:!0,header:this.renderHeader()},this.renderItems(e)):null}}var hk=Object(ge.withStyles)(e=>({badge:{backgroundColor:e.palette.error.main,color:"white"},error:{marginTop:e.typography.pxToRem(5),marginBottom:e.typography.pxToRem(5),padding:e.typography.pxToRem(10),borderRadius:e.typography.pxToRem(4),backgroundColor:e.palette.error.lighter}}))(mk);const gk=e=>e.messagesContainer,yk=e=>e.containerPropNameMain,vk=e=>e.containerPropNameOnComplete,bk=e=>e.showOnComplete,Ek=()=>Object(Qd.createSelector)(gk,bk,yk,vk,(e,t,a,r)=>{if(e=e||{},!t)return e[a];return[...e[a]||[],...e[r]||[]]});var fk=Object(an.c)(()=>{const e=Ek();return(t,a)=>{const r=a.dataEntryKey,n=t.rulesEffectsGeneralErrors[r],o=t.dataEntriesUI&&t.dataEntriesUI[r]&&t.dataEntriesUI[r].saveAttempted;return{errors:e({messagesContainer:n,containerPropNameMain:"error",containerPropNameOnComplete:"errorOnComplete",showOnComplete:o})}}},()=>({}))(hk);const Ok=i.a.t("Warnings");class Sk extends r.Component{constructor(...e){super(...e),this.renderHeader=()=>{const{classes:e,warnings:t}=this.props,a=t?t.length:0;return r.createElement(pk,{icon:In.p,text:Ok,badgeClass:e.badge,badgeCount:a})},this.renderItems=e=>e.map(e=>r.createElement("div",{className:this.props.classes.warning,key:e.id},e.message))}render(){const{warnings:e}=this.props;return e&&e.length>0?r.createElement(ck,{collapsable:!0,header:this.renderHeader()},this.renderItems(e)):null}}var Ck=Object(ge.withStyles)(e=>({badge:{backgroundColor:e.palette.warning.light},warning:{marginTop:e.typography.pxToRem(5),marginBottom:e.typography.pxToRem(5),padding:e.typography.pxToRem(10),borderRadius:e.typography.pxToRem(4),backgroundColor:e.palette.warning.lighter}}))(Sk);const Ik="PossibleDuplicatesReview",wk="PossibleDuplicatesReviewRetrievalSuccess",Tk="PossibleDuplicatesReviewRetrievalFailed",Nk="PossibleDuplicatesChangePage",_k=()=>H(Tk)(),Ak=Object(r.createContext)({resultsPageSize:5}),Rk=(e,t)=>{const{resultsPageSize:a}=Object(r.useContext)(Ak),n=Object(an.e)(),{scopeType:o}=ZT(t),{id:i}=QT();return{onReviewDuplicates:Object(r.useCallback)(()=>{n((({pageSize:e,orgUnitId:t,selectedScopeId:a,scopeType:r,dataEntryId:n})=>H(Ik)({pageSize:e,page:1,orgUnitId:t,selectedScopeId:a,scopeType:r,dataEntryId:n}))({pageSize:a,orgUnitId:i,selectedScopeId:t,scopeType:o,dataEntryId:e}))},[n,i,t,o,e,a]),changePageOnReviewDuplicates:Object(r.useCallback)(r=>{n((({pageSize:e,page:t,orgUnitId:a,selectedScopeId:r,scopeType:n,dataEntryId:o})=>H(Nk)({page:t,pageSize:e,orgUnitId:a,selectedScopeId:r,scopeType:n,dataEntryId:o}))({page:r,pageSize:a,orgUnitId:i,selectedScopeId:t,scopeType:o,dataEntryId:e}))},[n,i,t,o,e,a])}},kk=Object(ge.withStyles)(()=>({linkButton:{fontSize:"inherit",paddingLeft:0,paddingRight:3,backgroundColor:"inherit",textDecoration:"underline",cursor:"pointer",outline:"none"}}))(({classes:e,onOpenReviewDialog:t,dataEntryId:a,selectedScopeId:r})=>{const{onReviewDuplicates:o}=Rk(a,r);return n.a.createElement(Hd,{"data-test":"dhis2-capture-possible-duplicates-found-button",onClick:()=>{t(),o()},className:e.linkButton},i.a.t("Possible duplicates found"))}),jk=HO()($s),Pk=Object(ge.withStyles)(e=>({container:{display:"flex",justifyContent:"flex-end",marginLeft:e.typography.pxToRem(8),maxWidth:e.typography.pxToRem(600)}}))(({currentPage:e,nextPageButtonDisabled:t,selectedScopeId:a,dataEntryId:r,classes:o})=>{const{changePageOnReviewDuplicates:i}=Rk(r,a);return n.a.createElement("div",{className:o.container},n.a.createElement(jk,{currentPage:e,onChangePage:i,nextPageButtonDisabled:t}))}),Dk=Object(an.c)(e=>({currentPage:e.possibleDuplicates.currentPage}),()=>({}))(Pk),Fk=Object(ge.withStyles)(e=>({linkButtonContainer:{paddingTop:e.typography.pxToRem(10)},title:{margin:0,paddingLeft:e.typography.pxToRem(10)}}))(({classes:e,dataElements:t,teis:a,selectedScopeId:o,dataEntryId:s,renderCardActions:l})=>{const{resultsPageSize:c}=Object(r.useContext)(Ak);return n.a.createElement(n.a.Fragment,null,n.a.createElement(we.a,{"data-test":"dhis2-capture-duplicates-modal"},n.a.createElement(Xl.a,{className:e.title},i.a.t("Possible duplicates found")),n.a.createElement(SN,{noItemsText:i.a.t("No results found"),items:a,dataElements:t,renderCustomCardActions:l}),n.a.createElement(Dk,{dataEntryId:s,selectedScopeId:o,nextPageButtonDisabled:a.length<c})))});var xk=a(228);const Lk=Object(jr.compose)(Object(an.c)(({possibleDuplicates:e},{selectedScopeId:t})=>{return{ready:!e.isLoading,isUpdating:e.isUpdating,error:e.loadError?i.a.t("An error occurred loading possible duplicates"):null,teis:e.teis,dataElements:(a=t,Object(xk.b)(a).filter(({displayInReports:e})=>e).map(({id:e,name:t,type:a})=>({id:e,name:t,type:a})))};var a},()=>({})),ac(()=>({padding:"100px 0"}),null,e=>!e.isUpdating&&e.ready),Cp())(Fk),Uk=Object(ge.withStyles)({root:{margin:24}})(ay.a);class Mk extends r.Component{render(){const{open:e,onCancel:t,extraActions:a,selectedScopeId:n,dataEntryId:o,renderCardActions:i}=this.props;return r.createElement(Ce.a,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,PaperProps:Vk.paperProps},r.createElement(Lk,{dataEntryId:o,selectedScopeId:n,renderCardActions:i}),r.createElement(Uk,null,a))}}Mk.paperProps={style:{maxHeight:"calc(100% - 100px)"}};const Vk=Mk;class Bk extends n.a.Component{constructor(e){super(e),this.handleOpenReviewDialog=()=>{this.setState({duplicatesReviewDialogOpen:!0})},this.handleCloseReviewDialog=()=>{this.setState({duplicatesReviewDialogOpen:!1})},this.state={duplicatesReviewDialogOpen:!1}}getHideButton(){return n.a.createElement(Bd,{onClick:this.handleCloseReviewDialog},i.a.t("Hide"))}render(){const{selectedScopeId:e,dataEntryId:t,renderCardActions:a}=this.props,{duplicatesReviewDialogOpen:r}=this.state;return n.a.createElement(n.a.Fragment,null,n.a.createElement(kk,{dataEntryId:t,selectedScopeId:e,onOpenReviewDialog:this.handleOpenReviewDialog}),n.a.createElement(Vk,{dataEntryId:t,selectedScopeId:e,open:r,onCancel:this.handleCloseReviewDialog,extraActions:this.getHideButton(),renderCardActions:a}))}}const Gk=(e,t)=>e.dataEntriesSearchGroupsResults[t.dataEntryKey]&&e.dataEntriesSearchGroupsResults[t.dataEntryKey].main&&e.dataEntriesSearchGroupsResults[t.dataEntryKey].main.count,Hk=(e,t)=>t.renderCardActions,Wk=(e,t)=>t.selectedScopeId,Yk=(e,t)=>t.dataEntryId,zk=(e,t)=>t;var qk=Object(an.c)(()=>{const e=Object(Qd.createSelector)(Gk,Hk,Wk,Yk,(e,t,a,r)=>e?{id:"duplicateWarning",message:n.a.createElement(Bk,{dataEntryId:r,selectedScopeId:a,renderCardActions:t})}:null),t=Object(Qd.createSelector)(zk,e=>e,(e,t)=>(e=e||[],t?[...e,t]:e)),a=Ek();return(r,n)=>{const o=n.dataEntryKey,i=r.rulesEffectsGeneralWarnings[o],s=r.dataEntriesUI&&r.dataEntriesUI[o]&&r.dataEntriesUI[o].saveAttempted,l=a({messagesContainer:i,containerPropNameMain:"warning",containerPropNameOnComplete:"warningOnComplete",showOnComplete:s}),c=e(r,n);return{warnings:t(c,l)}}},()=>({}))(Ck);const Kk=i.a.t("Feedbacks");class Xk extends r.Component{constructor(...e){super(...e),this.renderHeader=e=>{const t=this.props.classes;return r.createElement(pk,{icon:In.a,text:Kk,badgeClass:t.badge,badgeCount:e})},this.renderTextItems=(e,t)=>e.map(e=>r.createElement("div",{className:En()(t.feedback,t.textFeedback),key:e.id},e.message)),this.renderKeyValueItems=(e,t)=>e.map(e=>r.createElement("div",{className:En()(t.feedback,t.keyValueFeedback),key:e.id},r.createElement("div",{className:t.keyValueFeedbackItem},e.key),r.createElement("div",{className:t.keyValueFeedbackItem},e.value))),this.getFeedbacks=()=>this.props.feedbacks||{}}render(){const e=this.props.classes,t=this.getFeedbacks(),a=t.displayTexts||[],n=t.displayKeyValuePairs||[],o=a.length+n.length;return o>0?r.createElement(ck,{collapsable:!0,header:this.renderHeader(o)},this.renderTextItems(a,e),this.renderKeyValueItems(n,e)):null}}var Jk=Object(ge.withStyles)(e=>({badge:{backgroundColor:e.palette.grey.light},feedback:{marginTop:e.typography.pxToRem(5),marginBottom:e.typography.pxToRem(5),borderRadius:e.typography.pxToRem(4),backgroundColor:e.palette.grey.lighter,display:"flex"},textFeedback:{padding:e.typography.pxToRem(10)},keyValueFeedbackItem:{padding:e.typography.pxToRem(10)},keyValueFeedback:{alignItems:"center",justifyContent:"space-between"}}))(Xk);var Zk=Object(an.c)((e,t)=>({feedbacks:e.rulesEffectsFeedback[t.dataEntryKey]}),()=>({}))(Jk);const Qk=i.a.t("Indicators");class $k extends r.Component{constructor(...e){super(...e),this.renderHeader=e=>{const t=this.props.classes;return r.createElement(pk,{icon:In.j,text:Qk,badgeClass:t.badge,badgeCount:e})},this.renderTextItems=(e,t)=>e.map(e=>r.createElement("div",{className:En()(t.indicator,t.textIndicator),key:e.id},e.message)),this.renderKeyValueItems=(e,t)=>e.map(e=>r.createElement("div",{className:En()(t.indicator,t.keyValueIndicator),key:e.id},r.createElement("div",{className:t.keyValueIndicatorItem},e.key),r.createElement("div",{className:t.keyValueIndicatorItem},e.value))),this.getIndicators=()=>this.props.indicators||{}}render(){const e=this.props.classes,t=this.getIndicators(),a=t.displayTexts||[],n=t.displayKeyValuePairs||[],o=a.length+n.length;return o>0?r.createElement(ck,{collapsable:!0,header:this.renderHeader(o)},this.renderTextItems(a,e),this.renderKeyValueItems(n,e)):null}}var ej=Object(ge.withStyles)(e=>({badge:{backgroundColor:e.palette.grey.light},indicator:{marginTop:e.typography.pxToRem(5),marginBottom:e.typography.pxToRem(5),borderRadius:e.typography.pxToRem(4),backgroundColor:e.palette.grey.lighter,display:"flex"},textIndicator:{padding:e.typography.pxToRem(10)},keyValueIndicatorItem:{padding:e.typography.pxToRem(10)},keyValueIndicator:{alignItems:"center",justifyContent:"space-between"}}))($k);var tj=Object(an.c)((e,t)=>({indicators:e.rulesEffectsIndicators[t.dataEntryKey]}),()=>({}))(ej);const aj=[{id:"ErrorsSection",Component:fk},{id:"WarningsSection",Component:qk},{id:"FeedbacksSection",Component:Zk},{id:"IndicatorsSection",Component:tj}];class rj extends r.Component{constructor(...e){super(...e),this.renderComponent=(e,t)=>{const{renderCardActions:a}=t,n=Object(_e.a)(t,["renderCardActions"]),o="WarningsSection"===e.id?t:n;return r.createElement(e.Component,Object.assign({key:e.id},o))}}render(){const e=this.props,{classes:t}=e,a=Object(_e.a)(e,["classes"]);return r.createElement(Bg,{offsetTop:50,containerClass:t.stickyOnScroll},r.createElement("div",null,aj.map(e=>this.renderComponent(e,a))))}}var nj=Object(ge.withStyles)(e=>({stickyOnScroll:{position:"relative",flexGrow:1,width:e.typography.pxToRem(300),margin:e.typography.pxToRem(10),marginTop:0}}))(rj);const oj=Object(an.c)((e,{dataEntryId:t})=>{const a=!e.newRelationshipRegisterTei.loading;return{ready:a,dataEntryKey:a?Mg(t,e.dataEntries[t].itemId):null}},()=>({}))(e=>e.ready?n.a.createElement(nj,e):null),ij=({teiId:e,values:t,handleOnClick:a})=>n.a.createElement(Bd,{small:!0,dataTest:"dhis2-capture-view-dashboard-button",onClick:()=>{a(e,t)}},i.a.t("Link")),sj=Object(jr.compose)(ac(),Cp(),Object(ge.withStyles)(()=>({container:{display:"flex",flexWrap:"wrap"},leftContainer:{flexGrow:10,flexBasis:0,margin:8}})))(({onLink:e,onSave:t,onReviewDuplicates:a,onGetUnsavedAttributeValues:o,dataEntryId:s,possibleDuplicatesExist:l,trackedEntityName:c,newRelationshipProgramId:d,classes:p})=>{const{resultsPageSize:u}=Object(r.useContext)(Ak),[m,h]=Object(r.useState)(!1),[g,y]=Object(r.useState)([]);const v=()=>{t(...g)},b=()=>{h(!1)};return n.a.createElement("div",{className:p.container},n.a.createElement("div",{className:p.leftContainer},n.a.createElement(sk,null),n.a.createElement(BR,{onLink:e,onSave:function(...e){l?(y(e),a(u),h(!0)):t(...e)},onGetUnsavedAttributeValues:o})),n.a.createElement(oj,{dataEntryId:s,selectedScopeId:d,renderCardActions:({item:t})=>n.a.createElement(ij,{teiId:t.id,values:t.values,handleOnClick:e})}),n.a.createElement(Vk,{dataEntryId:s,selectedScopeId:d,open:m,onCancel:b,extraActions:n.a.createElement(n.a.Fragment,null,n.a.createElement(Bd,{onClick:b,secondary:!0},i.a.t("Cancel")),n.a.createElement("div",{style:{marginLeft:16}},n.a.createElement(Bd,{dataTest:"dhis2-capture-create-as-new-person",onClick:v,primary:!0},i.a.t("Save as new {{trackedEntityName}}",{trackedEntityName:c})))),renderCardActions:({item:t})=>n.a.createElement(ij,{teiId:t.id,values:t.values,handleOnClick:e})}))}),lj=e=>{const{itemId:t}=Object(an.f)(({dataEntries:t})=>t[e]?t[e]:{}),a=Mg(e,t);return Object(an.f)(({dataEntriesSearchGroupsResults:e})=>Boolean(e[a]&&e[a].main&&e[a].main.count))},cj=({onLink:e,onSave:t,onGetUnsavedAttributeValues:a})=>{const r=Object(an.f)(({newRelationshipRegisterTei:e})=>!e.loading),o=Object(an.f)(({newRelationshipRegisterTei:e})=>e.error),i=Object(an.f)(({newRelationshipRegisterTei:{programId:e},newRelationship:{selectedRelationshipType:{to:{trackedEntityTypeId:t}}}})=>e||t),{trackedEntityName:s}=ZT(i),{onReviewDuplicates:l}=Rk("relationship",i);return n.a.createElement(sj,{dataEntryId:"relationship",onLink:e,onSave:t,onGetUnsavedAttributeValues:a,onReviewDuplicates:l,trackedEntityName:s,newRelationshipProgramId:i,ready:r,error:o,possibleDuplicatesExist:lj("relationship")})},dj="InitializeNewRelationship",pj="SelectRelationshipType",uj="DeselectRelationshipType",mj="SelectFindMode",hj="SetSearching",gj="UnsetSearching",yj=()=>H(dj)({}),vj="InitializeRegisterTei",bj="InitializeRegisterTeiFailed",Ej=(e,t)=>H(vj)({programId:e,orgUnit:t}),fj=e=>H(bj)({errorMessage:e}),Oj="TEI_SEARCH",Sj="TEI_REGISTER",Cj={[Oj]:i.a.t("Search"),[Sj]:i.a.t("Register")};const Ij="NewRelationshipRegisterTeiDataEntryOpen",wj="NewRelationshopRegisterTeiDataEntryOpenCancelled",Tj="NewRelationshopRegisterTeiDataEntryOpenFailed",Nj=e=>H(Tj)({errorMessage:e}),_j={[Yt.v.IMAGE]:(e,t,a)=>{const r=je.config.baseUrl;return te().get("fileResources/".concat(e)).then(e=>({name:e.name,value:e.id,url:"".concat(r,"/trackedEntityInstances/").concat(t,"/").concat(a,"/image")})).catch(r=>(U.a.warn(Object(B.c)("Could not get subvalue")({value:e,teiId:t,attributeId:a,error:r})),null))}};async function Aj(e,t){const a=(r=e.attributes)?r.reduce((e,t)=>(e[t.attribute]=t.value,e),{}):r;var r;const n=Object(Yt.u)(a,t,ta);return await async function(e,t,a){if(!a)return null;const r=t.toHashMap("id");return Object.keys(a).reduce(async(t,n)=>{const o=await t,i=a[n],s=r[n];if(Me()(i)&&s){const t=_j[s.type];if(t){const a=await t(i,e,n);o[n]=a}}return o},Promise.resolve(a))}(e.trackedEntityInstance,t,n),{id:e.trackedEntityInstance,tei:e,values:n}}async function Rj(e,t){const a=te(),r=await a.get("trackedEntityInstances",e);return{trackedEntityInstanceContainers:r&&r.trackedEntityInstances?await r.trackedEntityInstances.reduce(async(e,a)=>{const r=await e,n=await Aj(a,t);return n&&r.push(n),r},Promise.resolve([])):null,pagingData:{rowsPerPage:e.pageSize,currentPage:e.page}}}var kj=a(763);const jj=i.a.t("tracked entity instance");function Pj(e,t,a){const r=Object.keys(e),n=t.filter(e=>r.some(t=>t===e.id)&&e.displayInReports);return 0===n.length?a||jj:n.slice(0,2).map(t=>t.convertValue(e[t.id],wa)).join(" ")}function Dj(e,t){return e?function(e){const t=Object(Yt.F)(e);return{form:t.enrollment.enrollmentForm,attributes:t.trackedEntityType.attributes,tetName:t.trackedEntityType.name}}(e):function(e){const t=Object(Yt.E)(e);return{form:t.teiRegistration.form,attributes:t.attributes,tetName:t.name}}(t)}function Fj(e,t,a){const r=Mg(e,t),n=a.formsValues[r],{programId:o,orgUnit:i}=a.newRelationshipRegisterTei,s=a.newRelationship.selectedRelationshipType.to.trackedEntityTypeId,{attributes:l,form:c,tetName:d}=Dj(o,s),p=function(e,t){return t.convertValues(e,La)}(n,c),u=Pj(p,l,d),m=c.convertValues(p,Aa),h=function(e,t,a){const r=zm(e,t,a)||{};return Object.keys(r).reduce((e,a)=>{const n=r[a],o=t[a].type;return e[a]=Aa(n,o),e},{})}(a.dataEntriesFieldsValue[r],a.dataEntriesFieldsMeta[r],c),g=o?Object(G.a)({program:o,status:"ACTIVE",orgUnit:i.id,incidentDate:Object(RC.a)(Object(Jt.a)())},h):null,y=(v=m,Object.keys(v).find(e=>e.startsWith("FEATURETYPE_")));var v;let b;return y&&(b=function(e,t){if(!t[e])return;return{type:pa(e.replace("FEATURETYPE_","").toLocaleLowerCase()),coordinates:t[e]}}(y,m),delete m[y]),{data:{attributes:Object.keys(m).map(e=>({attribute:e,value:m[e]})),orgUnit:i.id,trackedEntityType:s,geometry:b,enrollments:g?[g]:[]},name:u,id:Object(kj.a)()}}const xj="TeiSearchRequestFilterOrgUnits",Lj="TeiSearchClearOrgUnitsFilter",Uj="TeiSearchFilteredOrgUnitsRetrieved",Mj="TeiSearchFilterOrgUnitsFailed",Vj="TeiSearchSetOrgUnitScope",Bj="TeiSearchSetOrgUnit",Gj=ho()(Ic()(Dc()(Hc()(kc()(lc))))),Hj=Dc()(Hc()(Bl)),Wj={labelContainerStyle:{paddingTop:12,flexBasis:200},inputContainerStyle:{flexBasis:150}},Yj={labelContainerStyle:{paddingTop:13,flexBasis:200},inputContainerStyle:{flexBasis:150}},zj=[{name:"All accessible",value:"ACCESSIBLE"},{name:"Selected",value:"SELECTED"}];class qj extends r.Component{constructor(...e){super(...e),this.onSelectOrgUnitScope=e=>{e&&this.props.onSelectOrgUnitScope(this.props.searchId,e)},this.onSetOrgUnit=e=>{this.props.onSetOrgUnit(this.props.searchId,e)},this.renderOrgUnitScopeSelector=()=>{const{selectedOrgUnitScope:e}=this.props;return r.createElement(Hj,{options:zj,label:"Organisation unit scope",styles:Yj,onSelect:this.onSelectOrgUnitScope,value:e})},this.isValid=()=>"ACCESSIBLE"===this.props.selectedOrgUnitScope||this.props.selectedOrgUnit,this.getErrorMessage=()=>!this.isValid()&&this.props.searchAttempted?i.a.t("Please select an organisation unit"):null,this.handleFilterOrgUnits=e=>{this.props.onFilterOrgUnits(this.props.searchId,e)},this.renderOrgUnitField=()=>{const{selectedOrgUnit:e,treeRoots:t,treeReady:a,treeKey:n,treeSearchText:o}=this.props;return r.createElement(Gj,{label:"Organisation unit",styles:Wj,searchText:o,roots:t,ready:a,treeKey:n,onBlur:this.onSetOrgUnit,value:e,validationAttempted:this.props.searchAttempted,errorMessage:this.getErrorMessage(),onSearch:this.handleFilterOrgUnits})}}validateAndScrollToIfFailed(){const e=this.isValid();return e||this.goto(),e}goto(){if(this.gotoInstance){this.gotoInstance.scrollIntoView();const e=window.scrollY;e&&window.scroll(0,e-48)}}render(){const{selectedOrgUnitScope:e}=this.props;return r.createElement("div",{ref:e=>{this.gotoInstance=e}},this.renderOrgUnitScopeSelector(),"ACCESSIBLE"!==e&&this.renderOrgUnitField())}}var Kj=qj;var Xj=e=>{const{innerRef:t}=e,a=Object(_e.a)(e,["innerRef"]);return r.createElement(Kj,Object.assign({ref:t},a))};var Jj=Object(an.c)((e,t)=>{const a=t.searchId,r=ie(a)||ie("searchRoots");return{selectedOrgUnit:e.teiSearch[a].selectedOrgUnit,selectedOrgUnitScope:e.teiSearch[a].selectedOrgUnitScope,treeRoots:r,treeSearchText:e.teiSearch[a].orgUnitsSearchText,treeReady:!e.teiSearch[a].orgUnitsLoading,treeKey:e.teiSearch[a].orgUnitsSearchText||"initial"}},e=>({onFilterOrgUnits:(t,a)=>{const r=a?((e,t)=>H(xj)({searchId:e,searchText:t}))(t,a):(e=>H(Lj)({searchId:e}))(t);e(r)},onSetOrgUnit:(t,a)=>{e(((e,t)=>H(Bj)({searchId:e,orgUnit:t}))(t,a))},onSelectOrgUnitScope:(t,a)=>{e(((e,t)=>H(Vj)({searchId:e,orgUnitScope:t}))(t,a))}}))(Xj);const Zj=Mc()(Jj);class Qj extends r.Component{constructor(...e){super(...e),this.validNumberOfAttributes=()=>this.props.attributesWithValuesCount>=this.props.searchGroup.minAttributesRequiredToSearch,this.handleSearchAttempt=()=>{const{error:e,isValid:t}=this.validateForm();!e&&t?this.props.onSearch(this.props.id,this.props.searchGroupId):this.props.onSearchValidationFailed(this.props.id,this.props.searchGroupId)},this.getUniqueSearchButtonText=e=>{const t=e.getElements()[0].formName;return"Search ".concat(t)},this.renderOrgUnitSelector=()=>r.createElement(Zj,{innerRef:e=>{this.orgUnitSelectorInstance=e},searchId:this.props.searchId,searchAttempted:this.props.searchAttempted}),this.renderMinAttributesRequired=()=>{const{classes:e,searchAttempted:t,searchGroup:a}=this.props,n=t&&!this.validNumberOfAttributes(),o=En()(e.minAttributesRequired,{[e.minAttribtuesRequiredInvalid]:n});return r.createElement("div",{className:o},i.a.t("Fill in at least {{minAttributesRequired}} attributes to search",{minAttributesRequired:a.minAttributesRequiredToSearch}))}}validateForm(){if(!this.formInstance)return U.a.error(Object(B.c)(Qj.errorMessages.SEARCH_FORM_MISSING)({Search:this})),{error:!0,isValid:!1};let e=this.formInstance.validateFormScrollToFirstFailedField({});return e&&!this.props.searchGroup.unique&&(e=this.orgUnitSelectorInstance.validateAndScrollToIfFailed()),e&&!this.props.searchGroup.unique&&(e=this.validNumberOfAttributes()),{isValid:e,error:!1}}render(){const{searchGroup:e,classes:t,id:a}=this.props,n=e&&e.searchForm;if(!n)return r.createElement("div",null,Qj.errorMessages.SEARCH_FORM_MISSING);const o=e.unique?this.getUniqueSearchButtonText(n):i.a.t("Search by attributes");return r.createElement("div",{"data-test":"dhis2-capture-d2-form-area",className:t.container},r.createElement(Ih,{formRef:e=>{this.formInstance=e},formFoundation:e.searchForm,id:a}),!e.unique&&this.renderOrgUnitSelector(),r.createElement("div",{className:t.searchButtonContainer},r.createElement(Bd,{dataTest:"dhis2-capture-relationship-tei-search-button-".concat(a),onClick:this.handleSearchAttempt},o),!e.unique&&this.renderMinAttributesRequired()))}}Qj.errorMessages={NO_ITEM_SELECTED:"No item selected",SEARCH_FORM_MISSING:"search form is missing. see log for details"};var $j=Object(ge.withStyles)(e=>({orgUnitSection:{backgroundColor:"white",padding:e.typography.pxToRem(8),maxWidth:e.typography.pxToRem(892)},searchButtonContainer:{padding:e.typography.pxToRem(10),display:"flex",alignItems:"center"},minAttributesRequired:{flexGrow:1,textAlign:"right",fontSize:e.typography.pxToRem(14)},minAttribtuesRequiredInvalid:{color:e.palette.error.main}}))(Qj);const eP=(e,t)=>{const a=e.formsValues[t]||{};return Object.keys(a).filter(e=>a[e]).length};var tP=Object(an.c)((e,t)=>{const a=t.searchId,r=t.id;return{searchAttempted:(e.teiSearch[a]&&e.teiSearch[a][r]?e.teiSearch[a][r]:{}).validationFailed,attributesWithValuesCount:eP(e,r)}},()=>({}))($j);const aP=Object(jr.compose)(Object(an.c)((e,t)=>{const a=e.teiSearch[t.id]||{},r=a.searchResults||{},n=e.formsValues[r.formId],o=t.searchGroups[parseInt(r.searchGroupId,10)];return{resultsLoading:r.resultsLoading,teis:r.teis||[],currentPage:r.currentPage,searchValues:n,selectedProgramId:a.selectedProgramId,selectedTrackedEntityTypeId:a.selectedTrackedEntityTypeId,searchGroup:o}},()=>({})),ac(()=>({padding:"100px 0"}),null,e=>!e.resultsLoading))(e=>{let{getResultsView:t}=e,a=Object(_e.a)(e,["getResultsView"]);return n.a.createElement("div",null,t&&t(a))}),rP=Dc()(Hc()(jl)),nP={labelContainerStyle:{paddingTop:12,flexBasis:200},inputContainerStyle:{flexBasis:150}};class oP extends r.Component{constructor(...e){super(...e),this.onSelectProgram=e=>{this.props.onSetProgram(this.props.searchId,e)}}render(){return r.createElement(rP,{styles:nP,options:this.props.programOptions,onSelect:this.onSelectProgram,label:i.a.t("Selected program"),value:this.props.selectedProgramId})}}var iP=oP;const sP="TeiSearchStartSetProgram",lP=(e,t)=>e.teiSearch[t.searchId].selectedTrackedEntityTypeId;var cP=Object(an.c)(()=>{const e=Object(Qd.createSelector)(lP,e=>Array.from(or.a.values()).filter(t=>t instanceof Yt.t&&t.trackedEntityType.id===e&&t.access.data.read).map(e=>({value:e.id,label:e.name})));return(t,a)=>({selectedProgramId:t.teiSearch[a.searchId].selectedProgramId,programOptions:e(t,a)})},e=>({onSetProgram:(t,a)=>{e(((e,t)=>H(sP)({searchId:e,programId:t}))(t,a))}}))(iP);class dP extends n.a.Component{constructor(e){super(e),this.getFormId=e=>{const t=this.props.selectedProgramId||this.props.selectedTrackedEntityTypeId||"";return"".concat(this.props.id,"-").concat(t,"-").concat(e)},this.handleSearch=(e,t)=>{const{id:a}=this.props;this.props.onSearch(e,t,a)},this.handleSearchResultsChangePage=e=>{this.props.onSearchResultsChangePage(this.props.id,e)},this.handleNewSearch=()=>{this.props.onNewSearch(this.props.id)},this.handleEditSearch=()=>{this.props.onEditSearch(this.props.id)},this.handleSearchValidationFailed=(...e)=>{const{id:t}=this.props;this.props.onSearchValidationFailed(...e,t)},this.renderSearchForms=e=>n.a.createElement("div",{className:this.props.classes.container},this.renderProgramSection(),this.renderSearchGroups(e)),this.renderProgramSection=()=>{const e=!this.state.programSectionOpen;return n.a.createElement(On,{className:this.props.classes.programSection,isCollapsed:e,header:n.a.createElement(Tn,{containerStyle:{borderBottom:"1px solid #ECEFF1"},isCollapsed:e,onChangeCollapseState:()=>{this.setState({programSectionOpen:!!e})},title:i.a.t("Program")})},n.a.createElement(cP,{searchId:this.props.id}))},this.onChangeSectionCollapseState=e=>{this.props.openSearchGroupSection!==e?this.props.onSetOpenSearchGroupSection(this.props.id,e):this.props.onSetOpenSearchGroupSection(this.props.id,null)},this.renderSearchGroups=e=>e.map((e,t)=>{const a=t.toString(),r=this.getFormId(a),o=e.unique?i.a.t("Search {{uniqueAttrName}}",{uniqueAttrName:e.searchForm.getElements()[0].formName}):i.a.t("Search by attributes"),s=this.props.openSearchGroupSection!==a;return n.a.createElement(On,{"data-test":"dhis2-capture-search-by-attributes-forms",key:r,isCollapsed:s,className:this.props.classes.formContainerSection,header:n.a.createElement(Tn,{containerStyle:{borderBottom:"1px solid #ECEFF1"},onChangeCollapseState:()=>{this.onChangeSectionCollapseState(a)},isCollapsed:s,title:o})},n.a.createElement(tP,{id:r,searchId:this.props.id,searchGroupId:a,searchGroup:e,onSearch:this.handleSearch,onSearchValidationFailed:this.handleSearchValidationFailed}))}),this.renderSearchResult=()=>{const{id:e,searchGroups:t,getResultsView:a}=this.props;return n.a.createElement(Ak.Provider,{value:{resultsPageSize:5}},n.a.createElement(aP,{id:e,onChangePage:this.handleSearchResultsChangePage,onNewSearch:this.handleNewSearch,onEditSearch:this.handleEditSearch,getResultsView:a,searchGroups:t}))},this.state={programSectionOpen:!0}}render(){const e=this.props.searchGroups;return this.props.showResults?this.renderSearchResult():e?this.renderSearchForms(e):n.a.createElement("div",null)}}const pP=ql()(e=>({container:{margin:e.typography.pxToRem(10)},programSection:{backgroundColor:"white",maxWidth:e.typography.pxToRem(900),marginBottom:e.typography.pxToRem(20)},formContainerSection:{maxWidth:e.typography.pxToRem(900),marginBottom:e.typography.pxToRem(20)}}))(dP),uP="BatchSetTeiSearchProgramAndTet",mP="ResetSearchForms",hP="InitializeTeiSearch",gP="RequestSearchTei",yP="SearchFormValidationFailed",vP="SearchTeiFailed",bP="SearchTeiResultRetrieved",EP="SetTeiSearchProgramAndTet",fP="TeiNewSearch",OP="TeiEditSearch",SP="TeiSearchResultsChangePage",CP="TeiSearchSetOpenSearchGroupSection",IP=(e,t,a)=>H(hP)({searchId:e,programId:t,trackedEntityTypeId:a}),wP=(e,t,a)=>H(EP)({searchId:e,programId:t,trackedEntityTypeId:a});function TP(e,t){if(t){return Object(Yt.F)(t).searchGroups}return Object(Yt.E)(e).searchGroups}const NP=(e,t)=>e.teiSearch[t.id].selectedTrackedEntityTypeId,_P=(e,t)=>e.teiSearch[t.id].selectedProgramId,AP=Object(an.c)(()=>{const e=Object(Qd.createSelector)(NP,_P,(e,t)=>TP(e,t).sort((e,t)=>e.unique===t.unique?0:e.unique?-1:1));return(t,a)=>{const r=e(t,a),n=t.teiSearch[a.id];return{searchGroups:r,showResults:!!n.searchResults,selectedProgramId:n.selectedProgramId,selectedTrackedEntityTypeId:n.selectedTrackedEntityTypeId,openSearchGroupSection:n.openSearchGroupSection}}},(e,t)=>({onSearch:(a,r,n)=>{e(((e,t,a,r)=>H(gP)({formId:e,searchGroupId:t,searchId:a,resultsPageSize:r}))(a,r,n,t.resultsPageSize))},onSearchResultsChangePage:(a,r)=>{e(((e,t,a)=>H(SP)({searchId:e,pageNumber:t,resultsPageSize:a}))(a,r,t.resultsPageSize))},onSearchValidationFailed:(t,a,r)=>{e(((e,t,a)=>H(yP)({formId:e,searchGroupId:t,searchId:a}))(t,a,r))},onNewSearch:t=>{e((e=>H(fP)({searchId:e}))(t))},onEditSearch:t=>{e((e=>H(OP)({searchId:e}))(t))},onSetOpenSearchGroupSection:(t,a)=>{e(((e,t)=>H(CP)({searchId:e,searchGroupId:t}))(t,a))}}))(pP),RP=e=>e.selectedTrackedEntityTypeId,kP=e=>e.selectedProgramId;var jP=()=>Object(Qd.createSelector)(kP,RP,(e,t)=>{if(e){return Object(Yt.F)(e).attributes.filter(e=>e.displayInReports)}return Object(Yt.E)(t).attributes.filter(e=>e.displayInReports)});const PP=Object(ge.withStyles)(e=>({topSection:{marginTop:e.typography.pxToRem(20),marginLeft:e.typography.pxToRem(10),marginRight:e.typography.pxToRem(10),marginBottom:e.typography.pxToRem(10)}}))(({currentSearchTerms:e,currentSearchScopeName:t,classes:a})=>n.a.createElement("div",{"data-test":"dhis2-capture-search-results-top",className:a.topSection},i.a.t("Results found")," ",t&&"".concat(i.a.t("in")," ").concat(t),n.a.createElement("div",null,e.map(({name:e,value:t,id:a,type:r},o,i)=>n.a.createElement("span",{key:a},n.a.createElement("i",null,e),": ",Oa(t,r),o!==i.length-1&&n.a.createElement("span",null,",\xa0")))))),DP=HO()($s),FP=({handleOnClick:e,teiId:t})=>n.a.createElement(Bd,{small:!0,dataTest:"dhis2-capture-relationship-tei-link-".concat(t),onClick:e},i.a.t("Link"));class xP extends n.a.Component{constructor(e){super(e),this.onAddRelationship=e=>{this.props.onAddRelationship(e.id,e.values)},this.renderResults=()=>{const e=this.getAttributes(this.props),{teis:t,trackedEntityTypeName:a,selectedProgramId:r}=this.props;return n.a.createElement(n.a.Fragment,null,this.renderTopSection(),n.a.createElement(SN,{currentProgramId:r,items:t,dataElements:e,noItemsText:i.a.t("No {{trackedEntityTypeName}} found.",{trackedEntityTypeName:a}),renderCustomCardActions:({item:e})=>n.a.createElement(FP,{teiId:e.id,handleOnClick:()=>this.onAddRelationship(e)})}),this.renderPager())},this.getSearchValues=()=>{const{searchValues:e,searchGroup:t}=this.props,a=t.searchForm;return Object.keys(e).filter(t=>null!==e[t]).map(t=>{const r=a.getElement(t),n=e[t];return{name:r.formName,value:n,id:r.id,type:r.type}})},this.renderTopSection=()=>{const{onNewSearch:e,onEditSearch:t,classes:a}=this.props;return n.a.createElement("div",{className:a.topSection},n.a.createElement(PP,{currentSearchTerms:this.getSearchValues()}),n.a.createElement("div",null,n.a.createElement(Bd,{className:a.actionButton,onClick:e},i.a.t("New search")),n.a.createElement(Bd,{className:a.actionButton,onClick:t},i.a.t("Edit search"))))},this.renderPager=()=>{const{onChangePage:e,currentPage:t,classes:a,teis:r}=this.props;return n.a.createElement(Ak.Consumer,null,({resultsPageSize:o})=>n.a.createElement("div",{className:a.pagination},n.a.createElement(DP,{nextPageButtonDisabled:r.length<o,onChangePage:t=>e(t),currentPage:t})))},this.getAttributes=jP()}render(){return n.a.createElement("div",null,this.renderResults())}}const LP=Object(ge.withStyles)(e=>({itemActionsContainer:{paddingTop:e.typography.pxToRem(10)},pagination:{display:"flex",justifyContent:"flex-end",marginLeft:e.typography.pxToRem(8),maxWidth:e.typography.pxToRem(600)},topSection:{display:"flex",flexDirection:"column",margin:e.typography.pxToRem(8),marginRight:0,backgroundColor:e.palette.grey.lighter,maxWidth:e.typography.pxToRem(600)},topSectionValuesContainer:{padding:e.typography.pxToRem(10)},actionButton:{margin:e.typography.pxToRem(10),color:e.palette.primary.dark,borderRadius:0,border:"1px solid ".concat(e.palette.primary.dark)}}))(xP),UP=e=>e.selectedRelationshipType.to.trackedEntityTypeId;class MP extends r.Component{constructor(e){super(e),this.getTrackedEntityTypeName=()=>{const e=this.trackedEntityTypeSelector(this.props);return e?e.name:"Tracked entity instance"},this.handleAddRelationship=(e,t)=>{const a=this.trackedEntityTypeSelector(this.props);this.props.onAddRelationship({id:e,name:Pj(t,a.attributes,a.name)})},this.handleAddRelationshipWithNewTei=(e,t)=>{this.props.onAddRelationship({itemId:e,dataEntryId:t})},this.renderModeSelections=()=>{const{classes:e}=this.props,t=this.getTrackedEntityTypeName();return r.createElement("div",{className:e.modeSelectionsContainer},r.createElement("div",{className:e.button},r.createElement(wR.a,{fontSize:"large",className:e.buttonIcon}),r.createElement(Bd,{dataTest:"dhis2-capture-find-relationship-button",color:"primary",onClick:()=>this.props.onSelectFindMode(Oj)},i.a.t("Link to an existing {{trackedEntityType}}",{trackedEntityType:t}))),r.createElement("div",{className:e.button},r.createElement(NR.a,{className:e.buttonIcon}),r.createElement(Bd,{dataTest:"dhis2-capture-create-relationship-button",color:"primary",onClick:()=>this.props.onSelectFindMode(Sj)},i.a.t("Create new {{trackedEntityType}}",{trackedEntityType:t}))))},this.renderSearch=e=>{const{selectedRelationshipType:t,onAddRelationship:a}=e,n=Object(_e.a)(e,["selectedRelationshipType","onAddRelationship"]),o=this.getTrackedEntityTypeName();return r.createElement(AP,Object.assign({resultsPageSize:5,id:"relationshipTeiSearch",getResultsView:e=>r.createElement(LP,Object.assign({trackedEntityTypeName:o,onAddRelationship:this.handleAddRelationship},e))},n))},this.renderRegister=()=>r.createElement(Ak.Provider,{value:{resultsPageSize:5}},r.createElement(cj,{onLink:this.handleAddRelationship,onSave:this.handleAddRelationshipWithNewTei,onGetUnsavedAttributeValues:this.props.onGetUnsavedAttributeValues})),this.renderByMode=(e,t)=>e===Oj?this.renderSearch(t):e===Sj?this.renderRegister():null,this.trackedEntityTypeSelector=Object(Qd.createSelector)(UP,e=>Object(Yt.E)(e))}render(){const e=this.props,{classes:t,findMode:a,onOpenSearch:n,onSelectFindMode:o}=e,i=Object(_e.a)(e,["classes","findMode","onOpenSearch","onSelectFindMode"]);return r.createElement("div",{className:t.container},a?this.renderByMode(a,i):this.renderModeSelections())}}var VP=ql()(e=>({modeSelectionsContainer:{display:"flex"},button:{height:e.typography.pxToRem(150),width:e.typography.pxToRem(250),margin:e.typography.pxToRem(10),padding:e.typography.pxToRem(10),display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",backgroundColor:e.palette.grey.lighter},buttonIcon:{flexGrow:1,fontSize:e.typography.pxToRem(80)}}))(MP);class BP extends r.Component{constructor(...e){super(...e),this.renderForRelationshipType=e=>{const{onSelectRelationshipType:t,findMode:a}=this.props,n=e.name;return r.createElement(r.Fragment,null,this.renderSlash(),a?r.createElement(r.Fragment,null,r.createElement(Hd,{onClick:()=>t(e)},n),this.renderForFindMode(a)):n)},this.renderSlash=()=>r.createElement("span",{style:{padding:5}},"/"),this.renderForFindMode=e=>{const{onSelectFindMode:t,searching:a}=this.props,n=Cj[e];return r.createElement(r.Fragment,null,this.renderSlash(),a?r.createElement(r.Fragment,null,r.createElement(Hd,{onClick:()=>t(e)},n),this.renderForSearching()):n)},this.renderForSearching=()=>r.createElement(r.Fragment,null,this.renderSlash(),i.a.t("Search results"))}render(){const{selectedRelationshipType:e,onInitializeNewRelationship:t,header:a}=this.props;return r.createElement("div",{style:{padding:10}},e?r.createElement(r.Fragment,null,r.createElement(Hd,{onClick:t},a),this.renderForRelationshipType(e)):a)}}var GP=BP;var HP=Object(an.c)(e=>({searching:e.newRelationship.searching}),()=>({}))(GP);const WP={TRACKED_ENTITY_INSTANCE:VP};class YP extends r.Component{constructor(...e){super(...e),this.renderRelationship=(e,t)=>{const a=WP[e.to.entity];return r.createElement(a,Object.assign({onAddRelationship:this.handleAddRelationship},t))},this.handleAddRelationship=e=>{const t=this.props.selectedRelationshipType;t&&this.props.onAddRelationship({id:t.id,name:t.name},e,t.to.entity)}}render(){const e=this.props,{classes:t,onAddRelationship:a}=e,n=Object(_e.a)(e,["classes","onAddRelationship"]),o=this.props.selectedRelationshipType;return r.createElement("div",{className:this.props.classes.container},r.createElement(HP,n),!o&&r.createElement(CR,n),o&&this.renderRelationship(o,n))}}var zP=ql()(()=>({container:{}}))(YP);var qP=Object(an.c)(e=>({selectedRelationshipType:e.newRelationship.selectedRelationshipType,findMode:e.newRelationship.findMode}),e=>({onInitializeNewRelationship:()=>{e(yj())},onSelectRelationshipType:t=>{e((e=>H(pj)({selectedRelationshipType:e}))(t))},onDeselectRelationshipType:()=>{e(H(uj)({}))},onSelectFindMode:t=>{e((e=>H(mj)({findMode:e}))(t))}}))(zP);class KP extends r.Component{constructor(e){super(e),this.handleDiscard=()=>{this.setState({discardDialogOpen:!0})},this.handleCancelDiscard=()=>{this.setState({discardDialogOpen:!1})},this.renderHeader=()=>r.createElement("div",{className:this.props.classes.headerContainer},r.createElement("div",{className:this.props.classes.header},i.a.t("New event relationship"))),this.onGetUnsavedAttributeValues=e=>{const{unsavedRelationships:t}=this.props;return t.map(t=>{if(!t.to.data||!t.to.data.attributes)return null;const a=t.to.data.attributes.find(t=>t.attribute===e);return a&&a.value}).filter(e=>e)},this.state={discardDialogOpen:!1}}render(){const e=this.props,{classes:t,onCancel:a}=e,n=Object(_e.a)(e,["classes","onCancel"]);return r.createElement("div",null,r.createElement("div",{className:t.backToEventContainer},r.createElement("span",null,i.a.t("Adding relationship to event.")),r.createElement(Hd,{className:t.backToEventButton,onClick:this.handleDiscard},i.a.t("Go back to event without saving relationship"))),r.createElement(TO.a,{className:t.newRelationshipPaper},r.createElement(qP,Object.assign({header:i.a.t("New event relationship"),onGetUnsavedAttributeValues:this.onGetUnsavedAttributeValues},n))),r.createElement(sy,{header:i.a.t("Unsaved changes"),text:i.a.t("Leaving this page will discard the selections you made for a new relationship"),confirmText:i.a.t("Yes, discard"),cancelText:i.a.t("No, stay here"),onConfirm:this.props.onCancel,open:!!this.state.discardDialogOpen,onCancel:this.handleCancelDiscard}))}}var XP=ql()(e=>({headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center"},header:Object(G.a)({flexGrow:1},e.typography.title,{fontSize:18,fontWeight:500,paddingLeft:8}),newRelationshipPaper:{marginBottom:e.typography.pxToRem(10),padding:e.typography.pxToRem(10)},backToEventContainer:{padding:8,borderRadius:4,display:"inline-block",marginBottom:10,backgroundColor:"#E9EEF4",color:"#494949",fontSize:14},backToEventButton:{backgroundColor:"inherit",fontSize:"inherit",color:"inherit"}}))(KP);const JP=e=>e.currentSelections.programId,ZP=Object(an.c)(()=>{const e=Object(Qd.createSelector)(JP,e=>Object(Yt.y)(e).stage.relationshipTypesWhereStageIsFrom.filter(e=>"TRACKED_ENTITY_INSTANCE"===e.to.entity));return t=>{const a=e(t),r=Mg("singleEvent",t.dataEntries.singleEvent.itemId);return{relationshipTypes:a,unsavedRelationships:t.dataEntriesRelationships[r]}}},e=>({onCancel:()=>{e(H(Bw)({}))},onAddRelationship:(t,a,r)=>{e(((e,t,a)=>H(Gw)({relationshipType:e,entity:t,entityType:a}))(t,a,r))}}))(XP);var QP=a(630),$P=a.n(QP),eD=a(976),tD=a.n(eD);const aD=Object(ge.withStyles)({root:{display:"flex",justifyContent:"center",alignItems:"center",background:bl.r.grey300,color:bl.r.grey700,padding:"12px 16px"}})($P.a),rD=({children:e,dataTest:t="dhis2-capture-informative-paper"})=>n.a.createElement(tD.a,{container:!0,justify:"center"},n.a.createElement(tD.a,{item:!0},n.a.createElement(aD,{"data-test":t,elevation:0},e))),nD=Object(ge.withStyles)(()=>({header:{flexGrow:1,fontSize:16,fontWeight:500},message:{marginTop:10}}))(({title:e,message:t,classes:a})=>n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:a.header},e),n.a.createElement("div",{className:a.message},n.a.createElement(rD,null,t))));class oD extends r.Component{render(){const{classes:e,onCancel:t}=this.props;return n.a.createElement("div",null,n.a.createElement(nD,{title:i.a.t("New event"),message:i.a.t("You don't have access to create an event in the current selections")}),n.a.createElement("div",{className:e.buttonRow},n.a.createElement("div",{className:e.buttonContainer},n.a.createElement(Bd,{variant:"raised",color:"primary",disabled:!0},i.a.t("Save"))),n.a.createElement("div",{className:e.buttonContainer},n.a.createElement(Bd,{variant:"text",color:"primary",onClick:t},i.a.t("Cancel")))))}}var iD=Object(ge.withStyles)(e=>({contents:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:50,paddingBottom:50},buttonRow:{display:"flex",flexWrap:"wrap",paddingTop:10,marginLeft:"-8px"},buttonContainer:{paddingRight:2*e.spacing.unit}}))(oD);var sD=Object(an.c)(()=>({}),e=>({onCancel:()=>{e(Dw())}}))(iD);const lD=(e,t)=>class extends r.Component{constructor(e){super(e),this.handleDialogConfirm=()=>{this.setState({dialogOpen:!1}),this.unblock(),this.props.history.goBack()},this.handleDialogCancel=()=>{this.setState({dialogOpen:!1})},this.state={dialogOpen:!1}}componentDidMount(){const{history:e}=this.props;this.historyLength=window.history.length,this.unblock=e.block((e,t)=>{const{inEffect:a}=this.props,r=window.history.length===this.historyLength;return"POP"!==t||!a||!r||(this.setState({dialogOpen:!0}),!1)})}componentWillUnmount(){this.unblock&&this.unblock()}render(){const a=this.props,{inEffect:n,history:o,location:i,match:s,staticContext:l}=a,c=Object(_e.a)(a,["inEffect","history","location","match","staticContext"]);return r.createElement(r.Fragment,null,r.createElement(e,c),r.createElement(sy,Object.assign({},t,{onConfirm:this.handleDialogConfirm,open:this.state.dialogOpen,onCancel:this.handleDialogCancel})))}},cD=()=>({});const dD=e=>e.currentSelections.programId,pD=e=>e.currentSelections.categoriesMeta,uD={header:i.a.t("Unsaved changes"),text:i.a.t("Leaving this page will discard the changes you made to this event."),confirmText:i.a.t("Yes, discard"),cancelText:i.a.t("No, stay here")},mD=Object(jr.compose)(Object(an.c)(()=>{const e=Object(Qd.createSelector)(dD,pD,(e,t)=>e&&Object(Yt.x)(e,t));return(t,{id:a})=>({ready:t.dataEntries[a],showAddRelationship:!!t.newEventPage.showAddRelationship,eventAccess:e(t)})},()=>({})),ac(),(hD=uD,gD=e=>ly(e,"singleEvent-newEvent")||e.newEventPage.showAddRelationship,e=>{return Object(an.c)((t=gD,(e,a)=>({inEffect:t(e,a)})),cD)(Object(ey.g)(lD(e,hD)));var t}))(({showAddRelationship:e,eventAccess:t})=>t.write?n.a.createElement(n.a.Fragment,null,e?n.a.createElement(ZP,null):n.a.createElement(OR,null)):n.a.createElement(sD,null));var hD,gD;const yD=Mg("singleEvent","newEvent"),vD=[{id:"eventDate",type:"DATE",validatorContainers:qw()},{clientId:"geometry",dataEntryId:"geometry",onConvertOut:TT},{id:"note",type:"TEXT",validatorContainers:SA(),clientIgnore:!0},{id:"relationship",type:"TEXT",clientIgnore:!0},{clientId:"status",dataEntryId:"complete",onConvertIn:_T,onConvertOut:AT},{id:"assignee"}],bD=(e,t,a)=>[...Ev("singleEvent","newEvent",vD),...Gm(e,t,yD,a),H(ow)()],ED=(e,t,a)=>[...Ev("singleEvent","newEvent",vD),...Gm(e,t,yD,a),H(fw)()];var fD=a(654),OD=a(1046);const SD=e=>{const t=[{id:OD.a.EVENT_DATE,visible:!0,isMainProperty:!0,type:Yt.v.DATE},{id:OD.a.EVENT_STATUS,header:"Status",visible:!0,isMainProperty:!0,type:Yt.v.TEXT,singleSelect:!0,options:[{text:i.a.t("Active"),value:"ACTIVE"},{text:i.a.t("Completed"),value:"COMPLETED"}]}],a=[];if(e.enableUserAssignment){const e={id:OD.a.ASSIGNEE,type:"ASSIGNEE",apiName:"assignedUser",header:"Assigned to",visible:!0,isMainProperty:!0};a.push(e)}return[...t,...a]};var CD=a(655);const ID="CrossPage.SelectionsCompletenessCalculate",wD="CrossPage.AfterSettingOrgUnitSkipCategoriesReset",TD="CrossPage.AfterSettingOrgUnitDoCategoriesReset",ND=e=>H(wD)({triggeringActionType:e}),_D="Program or stage not found",AD=(e,t,a,r,n)=>{const o=e.value,i=Mg(t,a),s=o.currentSelections.programId,l=Object(fD.a)(s),c=o.currentSelections.orgUnitId,d=o.organisationUnits[c];let p;if(l.error){const e=l.stage?l.stage.stageForm:null;p=Gm(l.program,e,i,d)}else{const e=l.stage.stageForm,r=e.id,s=qm(o,e,i,n),c=Km(o,a,t,e),u=Object(G.a)({},s,{},c,{programStageId:r});p=Gm(l.program,e,i,d,u,[u])}return Object(J.a)([...p,zh(t,a,r)],rw)};function RD(e,t,a,r){return{formClientValues:e.convertValues(t,La),dataEntryClientValues:zm(a,r,e)}}function kD(e,t={},a){return Object.keys(e).reduce((r,n)=>{const o=a(n,e[n]);return r[t[n]||n]=o,r},{})}function jD(e){return kD(e,{eventId:"event",programId:"program",programStageId:"programStage",orgUnitId:"orgUnit",trackedEntityInstanceId:"trackedEntityInstance",enrollmentId:"enrollment",assignee:"assignedUser"},(e,t)=>{let a;switch(e){case"eventDate":case"dueDate":case"completedDate":a=Aa(t,Yt.v.DATE);break;case"assignee":a=t&&t.id;break;default:a=t}return a})}const PD=(e,t,a,r)=>{const n=t.convertValues(a,Aa),o=jD(r);return"COMPLETED"===o.status&&(o.completedDate=Object(RC.a)(Object(Jt.a)())),Object(G.a)({},o,{program:e.currentSelections.programId,programStage:t.id,orgUnit:e.currentSelections.orgUnitId},(i=e.currentSelections.categories)?{attributeCategoryOptions:Object.keys(i).map(e=>i[e]).join(";")}:null,{dataValues:Object.keys(n).map(e=>({dataElement:e,value:n[e]}))});var i};function DD(e,t){const a=e.dataEntriesNotes&&e.dataEntriesNotes[t];return a?a.map(e=>({value:e.value})):[]}const FD=(e,t,a)=>{const r=e.formsValues[t],n=e.dataEntriesFieldsValue[t],o=e.dataEntriesFieldsMeta[t],{formClientValues:i,dataEntryClientValues:s}=RD(a,r,n,o);return{formClientValues:i,mainDataClientValues:Object(G.a)({},{},{},s,{notes:DD(e,t)})}};var xD=a(369),LD=a.n(xD);const UD={TRACKED_ENTITY_INSTANCE:e=>({trackedEntityInstance:{trackedEntityInstance:e}}),PROGRAM_STAGE_INSTANCE:e=>({event:{event:e}})};function MD(e){return{relationshipType:e.relationshipType.id,from:UD[e.from.type](e.from.id),to:UD[e.to.type](e.to.id)}}const VD=Mg("singleEvent","newEvent"),BD=(e,t,a)=>{const r=e.find(e=>e.to.data);if(r){return((e,t,a,r,n)=>H(_w)({selections:t},{offline:{effect:{url:"trackedEntityInstances",method:Gr,data:e},commit:{type:Aw,meta:{selections:t,triggerAction:a,relationshipData:r,relationshipClientId:n}},rollback:{type:Rw,meta:{selections:t,triggerAction:a}}}}))(r.to.data,t,a,e,r.clientId)}return((e,t,a)=>H(Iw)({selections:t},{offline:{effect:{url:"relationships",method:Gr,data:e},commit:{type:ww,meta:{selections:t,triggerAction:a}},rollback:{type:Tw,meta:{selections:t,triggerAction:a}}}}))({relationships:e.map(MD)},t,a)},GD=Object(Ur.b)({[ow]:e=>{const t=Object(G.a)({},e);return t.showAddRelationship=!1,t},[Sw]:e=>Object(G.a)({},e,{showAddRelationship:!0}),[Gw]:e=>Object(G.a)({},e,{showAddRelationship:!1}),[Hw]:(e,t)=>Object(G.a)({},e,{recentlyAddedRelationshipId:t.payload.relationshipId}),[kw]:e=>Object(G.a)({},e,{recentlyAddedRelationshipId:null}),[Bw]:e=>{const t=Object(G.a)({},e);return t.showAddRelationship=!1,t},[Vw]:(e,t)=>{const a=Object(G.a)({},e);return a.formHorizontal=t.payload.formHorizontal,a},[Ew]:(e,t)=>{const a=Object(G.a)({},e);return a.saveTypes=t.payload.saveTypes,a}},"newEventPage"),HD=e=>!e||Kc(e);var WD=()=>[{validator:Pn,message:i.a.t("A value is required")},{validator:HD,message:i.a.t("Please provide a valid date")}];const YD="UpdateDataEntryFieldForEditSingleEventActionsBatch",zD="UpdateFieldForEditSingleEventActionsBatch",qD="RulesEffectsForEditSingleEventActionsBatch",KD="AddNoteForEditSingleEventBatch",XD="RemoveNoteForEditSingleEventBatch",JD="OpenSingleEventForEditInDataEntry",ZD="PrerequisitesErrorOpeningSingleEventForEditInDataEntry",QD="StartRunRulesOnUpdateForEditSingleEvent",$D="RequestSaveReturnToMainPageForEditSingleEvent",eF="StartSaveAfterReturnedToMainPageForEditEvent",tF="SingleEventUpdatedAfterReturnToMainPage",aF="SingleEventUpdateFailedAfterReturnToMainPage",rF="CancelUpdateForSingleEventReturnToMainPage",nF="NoWorkingListUpdateNeededAfterEventUpdateCancelled",oF="UpdateWorkingListAfterEventUpdateCancelled",iF="RequestAddNoteForEditSingleEvent",sF="StartAddNoteForEditSingleEvent",lF="NoteAddedForEditSingleEvent",cF="AddNoteFailedForEditSingleEvent",dF="singleEvent",pF="editEvent";const uF=(e,t,a,r)=>{const n=dF,o=pF,i=[{id:"eventDate",type:"DATE",validatorContainers:WD()},{clientId:"geometry",dataEntryId:"geometry",onConvertIn:NT(a),onConvertOut:TT},{clientId:"status",dataEntryId:"complete",onConvertIn:_T,onConvertOut:AT}],s=Mg(n,o),{eventContainer:l,dataEntryValues:c,formValues:d}=e,p=function(e,t,a,r,n,o,i){const s=Mg(e,t),l=yv(n),c=vv(a,n);return[Xh({key:s,itemId:t,dataEntryId:e,dataEntryMeta:l,dataEntryValues:a,extraProps:i,dataEntryUI:c}),Nh(s,r)]}(n,o,c,d,i,0,{eventId:l.event.eventId}),u=Object(G.a)({},l.event,{},l.values);return[...p,...Gm(r,a,s,t,u,[u]),H(JD)()]},mF=e=>H(QD)(e),hF=()=>H(nF)(),gF=()=>H(oF)(),yF=(e,t,a,r)=>H(sF)({selections:a,context:r},{offline:{effect:{url:"events/".concat(e,"/note"),method:Gr,data:t},commit:{type:lF,meta:{selections:a,context:r}},rollback:{type:cF,meta:{selections:a,context:r}}}}),vF=Object(Ur.b)({[rg]:(e,t)=>{const a=Object(G.a)({},e);return a.eventId=t.payload.eventId,a.isLoading=!0,a.loadError=null,a},[og]:(e,t)=>{const a=Object(G.a)({},e);return a.isLoading=!1,a.loadError=t.payload,a},[ig]:e=>{const t=Object(G.a)({},e);return t.isLoading=!1,t.dataEntryIsLoading=!0,t},[sg]:e=>{const t=Object(G.a)({},e);return t.isLoading=!1,t.dataEntryIsLoading=!0,t},[JD]:e=>{const t=Object(G.a)({},e);return t.dataEntryIsLoading=!1,t},[ZD]:(e,t)=>{const a=Object(G.a)({},e);return a.dataEntryIsLoading=!1,a.dataEntryLoadError=t.payload,a}},"editEventPage"),bF="LoadEventRelationshipsBatch",EF="SaveEventRelationshipBatch",fF="DeleteEventRelationshipBatch",OF="EventRelationshipsLoaded",SF="EventCancelNewRelationship",CF="RequestAddEventRelationship",IF="StartSaveEventRelationship",wF="EventRelationshipSaved",TF="SaveFailedForEventRelationship",NF="EventRelationshipAlreadyExists",_F="StartDeleteEventRelationship",AF="EventRelationshipDeleted",RF="DeleteFailedForEventRelationship",kF="RequestDeleteEventRelationship",jF="EventRelationshipNewTeiSave",PF="EventRelationshipNewTeiSaveSuccess",DF="EventRelationshipNewTeiSaveFailed",FF=(e,t,a)=>H(IF)({selections:t},{offline:{effect:{url:"relationships",method:Gr,data:e,clientId:a},commit:{type:wF,meta:{selections:t,clientId:a}},rollback:{type:TF,meta:{selections:t,clientId:a}}}}),xF=(e,t,a)=>{if("SaveFailedForEventRelationship"===a.type)return null;const r=a.payload.response.importSummaries[0].reference;return e.meta.offline.effect.url="relationships/".concat(r),e},LF=(e,t,a)=>H(_F)({selections:a},{offline:{effect:{url:e?"relationships/".concat(e):null,method:Wr,clientId:t,updateOnDequeueCallback:xF.toString()},commit:{type:AF,meta:{selections:a,clientId:t}},rollback:{type:RF,meta:{selections:a,clientId:t}}}}),UF="StartShowEditEventDataEntryForViewSingleEvent",MF="ShowEditEventDataEntryForViewSingleEvent",VF="singleEvent",BF="viewEvent";async function GF(e,t,a,r,n,o,i,s){const l=n?yv(n):{},c=function(e){return(e.notes||[]).map((e,t)=>Object(G.a)({},e,{storedDate:Oa(e.storedDate,Yt.v.DATETIME),key:t}))}(a),d=n?function(e,t){return[...e.filter(e=>e.type).map(e=>new Yt.d(t=>{t.id=e.id,t.type=e.type})).map(e=>({id:e.id,value:e.convertValue(t[e.id],ga)})),...e.filter(e=>e.onConvertIn).map(e=>({id:e.dataEntryId,value:e.onConvertIn(t[e.clientId])}))].reduce((e,t)=>(e[t.id]=t.value,e),{})}(n,a):{},p=function(e,t){return t.convertValues(e,ga)}(r,o),u=Mg(e,t),{dataEntryValues:m=d,formValues:h=p}=s&&await s(d,p,o)||{},g=n?vv(m,n):{};return{actions:[Xh({key:u,itemId:t,dataEntryId:e,dataEntryMeta:l,dataEntryValues:m,dataEntryNotes:c,extraProps:i,dataEntryUI:g}),Nh(u,h)],dataEntryValues:m,formValues:h}}const HF="ViewEventDataEntryLoadedForViewSingleEvent",WF="PrerequisitesErrorLoadingViewEventDataEntryForViewSingleEvent";const YF="StartSaveEditEventDataEntryBatchForViewSingleEvent",zF="CancelEditEventDataEntryForViewSingleEvent",qF="RequestSaveEditEventDataEntryForViewSingleEvent",KF="StartSaveEditEventDataEntryForViewSingleEvent",XF="EditEventDataEntrySavedForViewSingleEvent",JF="SaveEditEventDataEntryFailedForViewSingleEvent",ZF="PrerequisitesErrorLoadingEditEventDataEntryForViewSingleEvent",QF=(e,t,a)=>H(KF)({selections:a},{offline:{effect:{url:"events/".concat(e),method:Hr,data:t},commit:{type:XF,meta:{selections:a,eventId:e}},rollback:{type:JF,meta:{selections:a,eventId:e}}}}),$F="LoadEventNotesBatch",ex="SaveEventNoteBatch",tx="EventNotesLoaded",ax="RequestSaveEventNote",rx="StartSaveEventNote",nx="SaveEventNoteFailed",ox="EventNoteSaved",ix="UpdateEventNoteField",sx=(e,t,a,r)=>H(rx)({selections:a,clientId:r},{offline:{effect:{url:"events/".concat(e,"/note"),method:Gr,data:t},commit:{type:ox,meta:{selections:a,clientId:r}},rollback:{type:nx,meta:{selections:a,clientId:r}}}}),lx="ViewEventAssigneeSet",cx="ViewEventAssigneeSave",dx="ViewEventAssigneeSaveCompleted",px="ViewEventAssigneeSaveFailed";var ux=Object(ge.withStyles)(()=>({container:{display:"flex",alignItems:"center"},nameContainer:{paddingRight:5,overflow:"hidden",textOverflow:"ellipsis"},iconContainer:{width:24},editButton:{color:"inherit"},addIcon:{paddingRight:5}}))(e=>{const{eventAccess:t,assignee:a,onEdit:n,classes:o}=e;return a?r.createElement("div",{className:o.container},r.createElement("div",{className:o.nameContainer},i.a.t("Event assigned to {{name}}",{name:a.name})),r.createElement("div",{className:o.iconContainer},t.write?r.createElement(Ql.j,{onClick:n,className:o.editButton},r.createElement(In.h,null)):null)):t.write?r.createElement("div",null,r.createElement(Bd,{onClick:n,small:!0},i.a.t("Assign"))):r.createElement("div",null,i.a.t("No one is assigned to this event"))});var mx=Object(ge.withStyles)(()=>({container:{display:"flex",alignItems:"center"},searchContainer:{flexGrow:1,flexShrink:1,paddingRight:5},buttonContainer:{flexGrow:0,flexShrink:0}}))(e=>{const{onCancel:t,classes:a}=e,n=Object(_e.a)(e,["onCancel","classes"]);return r.createElement("div",{className:a.container},r.createElement("div",{className:a.searchContainer},r.createElement(Yp,Object.assign({inputWrapperClasses:{},focusInputOnMount:!0,exitBehaviour:"doNothing",inputPlaceholderText:i.a.t("Search for user")},n))),r.createElement("div",{className:a.buttonContainer},r.createElement(Bd,{onClick:t,small:!0},i.a.t("Cancel"))))});var hx=e=>{const{onSet:t}=e,a=Object(_e.a)(e,["onSet"]),[n,o]=r.useState(!1),i=r.useCallback(e=>{o(!1),t(e)},[t]),s=r.useCallback(()=>{o(!1)},[]);return n?r.createElement(mx,Object.assign({},a,{onSet:i,onCancel:s})):r.createElement(ux,Object.assign({onEdit:()=>{o(!0)}},a))};const gx=ac(null,e=>({style:e.loadingIndicatorStyle}))(hx),yx={height:36,width:36};class vx extends r.Component{constructor(...e){super(...e),this.renderHeader=()=>r.createElement(pk,{icon:In.e,text:i.a.t("Assignee")})}render(){const e=this.props,{programStage:t}=e,a=Object(_e.a)(e,["programStage"]);return t.enableUserAssignment?r.createElement(ck,{collapsable:!0,header:this.renderHeader()},r.createElement(gx,Object.assign({loadingIndicatorStyle:yx},a))):null}}var bx=vx;var Ex=Object(an.c)(e=>{const t=e.viewEventPage.assigneeSection||{};return{assignee:t.isLoading?void 0:e.viewEventPage.loadedValues.eventContainer.event.assignee,ready:!t.isLoading}},e=>({onSet:t=>{var a;e((a=t,H(lx)({assignee:a})))}}))(bx);const fx=Object(Ur.b)({[hg]:(e,t)=>({eventDetailsSection:{},notesSection:{isLoading:!0},relationshipsSection:{isLoading:!0},assigneeSection:{isLoading:!0},eventId:t.payload.eventId}),[HF]:(e,t)=>{const a=Object(G.a)({},e);return a.eventDetailsSection=Object(G.a)({},a.eventDetailsSection),a.loadedValues=t.payload.loadedValues,a.assigneeSection={isLoading:!1,assignee:t.payload.assignee},a},[WF]:(e,t)=>{const a=Object(G.a)({},e);return a.dataEntryIsLoading=!1,a.dataEntryLoadError=t.payload,a},[qC]:(e,{payload:{eventId:t}})=>({eventDetailsSection:{},notesSection:{isLoading:!0},relationshipsSection:{isLoading:!0},assigneeSection:{isLoading:!0},eventId:t}),[wg]:e=>Object(G.a)({},e,{showAddRelationship:!0}),[OF]:e=>Object(G.a)({},e,{relationshipsSection:Object(G.a)({},e.relationshipsSection,{isLoading:!1})}),[CF]:e=>Object(G.a)({},e,{showAddRelationship:!1}),[SF]:e=>{const t=Object(G.a)({},e);return t.showAddRelationship=!1,t},[tx]:e=>Object(G.a)({},e,{notesSection:Object(G.a)({},e.notesSection,{isLoading:!1})}),[ix]:(e,t)=>Object(G.a)({},e,{notesSection:Object(G.a)({},e.notesSection,{fieldValue:t.payload.value})}),[UF]:e=>Object(G.a)({},e,{eventDetailsSection:Object(G.a)({},e.eventDetailsSection)}),[MF]:e=>Object(G.a)({},e,{eventDetailsSection:Object(G.a)({},e.eventDetailsSection,{showEditEvent:!0})}),[zF]:e=>Object(G.a)({},e,{eventDetailsSection:Object(G.a)({},e.eventDetailsSection,{showEditEvent:!1})}),[qF]:e=>Object(G.a)({},e,{saveInProgress:!0,eventDetailsSection:Object(G.a)({},e.eventDetailsSection,{showEditEvent:!1})}),[JF]:(e,t)=>t.meta.eventId!==e.eventId?e:Object(G.a)({},e,{saveInProgress:!1}),[XF]:(e,t)=>t.meta.eventId!==e.eventId?e:Object(G.a)({},e,{saveInProgress:!1,eventHasChanged:!0}),[lx]:(e,t)=>{const{assignee:a}=t.payload;return Object(G.a)({},e,{saveInProgress:!0,loadedValues:Object(G.a)({},e.loadedValues,{eventContainer:Object(G.a)({},e.loadedValues.eventContainer,{event:Object(G.a)({},e.loadedValues.eventContainer.event,{assignee:a})})})})},[dx]:(e,t)=>t.meta.eventId!==e.eventId?e:Object(G.a)({},e,{saveInProgress:!1,eventHasChanged:!0}),[px]:(e,t)=>t.meta.eventId!==e.eventId?e:Object(G.a)({},e,{saveInProgress:!1})},"viewEventPage"),Ox=Object(Ur.b)({[dj]:()=>({}),[pj]:(e,t)=>Object(G.a)({},e,{selectedRelationshipType:t.payload.selectedRelationshipType,findMode:null}),[mj]:(e,t)=>Object(G.a)({},e,{findMode:t.payload.findMode,searching:!1}),[hj]:e=>Object(G.a)({},e,{searching:!0}),[gj]:e=>Object(G.a)({},e,{searching:!1})},"newRelationship",{}),Sx=Object(Ur.b)({[mj]:()=>({loading:!0}),[vj]:(e,t)=>{const{programId:a,orgUnit:r}=t.payload;return Object(G.a)({},e,{programId:a,orgUnit:r,loading:!1})},[bj]:(e,t)=>Object(G.a)({},e,{error:t.payload.errorMessage,loading:!1}),[KR]:(e,t)=>{const{programId:a}=t.payload;return Object(G.a)({},e,{programId:a})},[XR]:(e,t)=>{const{orgUnit:a,resetProgramSelection:r}=t.payload;return Object(G.a)({},e,{orgUnit:a,programId:r?null:e.programId})},[ZR]:e=>Object(G.a)({},e,{orgUnit:null}),[Ij]:e=>Object(G.a)({},e,{dataEntryError:null}),[Tj]:(e,t)=>Object(G.a)({},e,{dataEntryError:t.payload.errorMessage}),[wj]:e=>Object(G.a)({},e,{dataEntryError:null})},"newRelationshipRegisterTei"),Cx=Object(Ur.b)({[ig]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.orgUnit;return a[r.id]=r,a},[vg]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.orgUnit;return a[r.id]=r,a},[VN]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload;return a[r.id]=r,a},[WN.FETCH_ORG_UNIT_SUCCESS]:(e,t)=>Object(G.a)({},e,{[t.payload.id]:t.payload}),[WN.ORG_UNIT_ID_SET]:(e,t)=>Object(G.a)({},e,{[t.payload.orgUnit.id]:t.payload.orgUnit})},"organisationUnits"),Ix=Object(Ur.b)({[X]:(e,t)=>Object(G.a)({},e,{searchRoots:{roots:t.payload.roots}}),[K]:(e,t)=>Object(G.a)({},e,{captureRoots:{roots:t.payload.roots}})},"organisationUnitRoots"),wx=e=>(oe("regUnit",null),Object(G.a)({},e,{searchRoots:null,searchText:null,key:"reset_reg_units"})),Tx=Object(Ur.b)({[E_]:(e,t)=>({searchRoots:null,searchText:null,userRoots:t.payload.roots,key:"user_init"}),[f_]:()=>({searchRoots:null,searchText:null,userRoots:null,key:"user_init_failed"}),[O_]:(e,t)=>Object(G.a)({},e,{searchText:t.payload.searchText}),[S_]:e=>(oe("regUnit",null),Object(G.a)({},e,{searchText:null,searchRoots:null,key:"clear"})),[C_]:(e,t)=>Object(G.a)({},e,{},t.payload,{isLoading:!1,key:t.payload.searchText}),[I_]:(e,t)=>Object(G.a)({},e,{searchRoots:[],isLoading:!1,key:t.payload.searchText}),[w_]:e=>Object(G.a)({},e,{isLoading:!0}),[WN.EMPTY_ORG_UNIT_SET]:wx,[WN.ORG_UNIT_ID_RESET]:wx},"registeringUnitList"),Nx="NetworkStatusChange",_x=Object(Ur.b)({[Nx]:(e,t)=>{const a=Object(G.a)({},e);return t.payload.status?a.offlineSince=0:a.offlineSince=Date.now(),a}},"networkStatus",{}),Ax=Object(Ur.b)({[VC]:(e,t)=>{const a=Object(G.a)({},e),r=t.payload.event;return a[r.eventId]=r,a},[HC]:(e,t)=>{if("recentlyAddedEvents"===t.payload.listId){return{}}return e}},"recentlyAddedEvents",{}),Rx=Object(Ur.b)({[VC]:(e,t)=>{const a=Object(G.a)({},e);return a[t.payload.event.eventId]=t.payload.eventValues,a},[HC]:(e,t)=>{if("recentlyAddedEvents"===t.payload.listId){return{}}return e}},"recentlyAddedEventsValues",{}),kx=Object(Ur.b)({[hP]:(e,t)=>Object(G.a)({},e,{[t.payload.searchId]:{selectedOrgUnitScope:"ACCESSIBLE",openSearchGroupSection:"0",selectedProgramId:t.payload.programId,selectedTrackedEntityTypeId:t.payload.trackedEntityTypeId}}),[gP]:(e,t)=>Object(G.a)({},e,{[t.payload.searchId]:Object(G.a)({},e[t.payload.searchId],{searchResults:{formId:t.payload.formId,searchGroupId:t.payload.searchGroupId,resultsLoading:!0}})}),[bP]:(e,t)=>{const a=t.payload.data,r=t.payload.searchId,n=a.trackedEntityInstanceContainers?a.trackedEntityInstanceContainers:[];return Object(G.a)({},e,{[r]:Object(G.a)({},e[r],{searchResults:Object(G.a)({},e[r].searchResults,{resultsLoading:!1,teis:n,currentPage:a.currentPage})})})},[vP]:(e,t)=>{const a=t.payload.searchId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{searchResults:Object(G.a)({},e[a].searchResults,{resultsLoading:!1,teis:[],currentPage:null})})})},[xj]:(e,t)=>{const a=t.payload.searchId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{orgUnitsLoading:!0,orgUnitsSearchText:t.payload.searchText})})},[Lj]:(e,t)=>{const a=t.payload.searchId;return oe(a,null),Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{orgUnitsLoading:!1,orgUnitsSearchText:null,orgUnitsRoots:null})})},[Uj]:(e,t)=>{const a=t.payload.searchId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{orgUnitsLoading:!1,orgUnitsSearchText:t.payload.searchText,orgUnitsRoots:t.payload.roots})})},[Mj]:(e,t)=>{const a=t.payload.searchId;return oe(a,null),Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{orgUnitsLoading:!1,orgUnitsSearchText:null,orgUnitsRoots:null})})},[Vj]:(e,t)=>{const a=t.payload.searchId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{selectedOrgUnitScope:t.payload.orgUnitScope})})},[Bj]:(e,t)=>{const a=t.payload.searchId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{selectedOrgUnit:t.payload.orgUnit})})},[EP]:(e,t)=>{const a=t.payload.searchId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{selectedProgramId:t.payload.programId,selectedTrackedEntityTypeId:t.payload.trackedEntityTypeId,openSearchGroupSection:"0"})})},[yP]:(e,t)=>{const a=t.payload.searchId,r=t.payload.formId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{[r]:Object(G.a)({},e[a]?e[a][r]:{},{validationFailed:!0})})})},[fP]:(e,t)=>{const a=t.payload.searchId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{searchResults:null})})},[OP]:(e,t)=>{const a=t.payload.searchId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{searchResults:null})})},[SP]:(e,t)=>{const a=t.payload.searchId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{searchResults:Object(G.a)({},e[a].searchResults,{resultsLoading:!0})})})},[CP]:(e,t)=>{const a=t.payload.searchId;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{openSearchGroupSection:t.payload.searchGroupId})})}},"teiSearch",{}),jx="SetNotes",Px="AddTTNote",Dx="RemoveNote",Fx=(e,t)=>H(jx)({key:e,notes:t}),xx=Object(Ur.b)({[jx]:(e,t)=>Object(G.a)({},e,{[t.payload.key]:t.payload.notes}),[Px]:(e,t)=>{const a=t.payload.key,r=t.payload.note;return Object(G.a)({},e,{[a]:[...e[a],r]})},[Dx]:(e,t)=>{const a=t.payload.key,r=t.payload.noteClientId;return Object(G.a)({},e,{[a]:e[a].filter(e=>e.clientId!==r)})}},"notes"),Lx="SetRelationships",Ux="AddRelationship",Mx="UpdateRelationship",Vx="RemoveRelationship",Bx=(e,t)=>H(Lx)({key:e,relationships:t}),Gx=(e,t)=>H(Vx)({key:e,relationshipClientId:t}),Hx=Object(Ur.b)({[Lx]:(e,t)=>Object(G.a)({},e,{[t.payload.key]:t.payload.relationships}),[Ux]:(e,t)=>{const a=t.payload.key,r=t.payload.relationship;return Object(G.a)({},e,{[a]:[...e[a],r]})},[Mx]:(e,t)=>{const a=t.payload.key,r=t.payload.updatedRelationship,n=e[a].findIndex(e=>e.clientId===r.clientId),o=[...e[a]];return o[n]=r,Object(G.a)({},e,{[a]:o})},[Vx]:(e,t)=>{const a=t.payload.key,r=t.payload.relationshipClientId;return Object(G.a)({},e,{[a]:e[a].filter(e=>e.clientId!==r)})}},"relationships"),Wx=Object(Ur.b)({[IT]:(e,t)=>{const{dataEntryId:a,generatedUniqueValues:r}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{},r)})},[zT]:(e,t)=>{const{dataEntryId:a,generatedUniqueValues:r}=t.payload;return Object(G.a)({},e,{[a]:Object(G.a)({},e[a],{},r)})},[Bh]:(e,t)=>{const{newToEntity:a}=t.payload;return a?Object(G.a)({},e,{[a.dataEntryId]:void 0}):e},[CF]:(e,t)=>{const{entity:a}=t.payload;return a.id?e:Object(G.a)({},e,{[a.dataEntryId]:void 0})}},"generatedUniqueValuesCache"),Yx="GoingOnlineExecutedBatch",zx="GoingOnlineExecuted",qx="GetEventListOnReconnect",Kx="CustomOrgUnitIdReset",Xx="CustomProgramIdReset",Jx="SearchViaUniqueIdOnScopeProgram",Zx="SearchViaUniqueIdOnScopeTrackedEntityType",Qx="SearchViaAttributesOnScopeProgram",$x="SearchViaAttributesOnScopeTrackedEntityType",eL="SearchResultsLoadingView",tL="SearchResultsEmptyView",aL="SearchResultsSuccessView",rL="SearchResultsErrorView",nL="SearchResultsTooManyView",oL="SearchResultsInitialView",iL="NavigateToMainPage",sL="SaveCurrentSearchInfo",lL="StartFallbackSearch",cL="FallbackSearchTakesPlace",dL="FallbackWillPushToSearchPageWithoutProgramSelected",pL="CleanSearchRelatedData",uL="CleanFallbackSearchRelatedData",mL=({searchScopeType:e,searchScopeId:t,formId:a,currentSearchTerms:r})=>H(sL)({searchScopeType:e,searchScopeId:t,formId:a,currentSearchTerms:r}),hL=({trackedEntityTypeId:e,formId:t,page:a=1,pageSize:r,triggeredFrom:n})=>H($x)({trackedEntityTypeId:e,formId:t,page:a,pageSize:r,triggeredFrom:n}),gL=({programId:e,formId:t,page:a=1,pageSize:r,triggeredFrom:n})=>H(Qx)({programId:e,formId:t,page:a,pageSize:r,triggeredFrom:n}),yL=()=>H(rL)(),vL=()=>H(eL)(),bL=()=>H(tL)(),EL=(e,t)=>H(aL)({searchResults:e,currentPage:t}),fL=(OL={[de]:e=>Object(G.a)({},e,{initDone:!1,page:""}),[pe]:e=>{const t=Object(G.a)({},e);return t.initDone=!0,t},[ue]:(e,t)=>{const{error:a}=t.payload;return Object(G.a)({},e,{initDone:!0,error:a})}},Object(Ur.b)(Object(G.a)({},OL,{[rg]:(e,t)=>Object(G.a)({},e,{page:t.payload.page}),[hg]:(e,t)=>Object(G.a)({},e,{page:t.payload.page}),[sw]:e=>{const t=Object(G.a)({},e);return t.page=null,t.locationSwitchInProgress=!0,t},[cw]:e=>{const t=Object(G.a)({},e);return t.page=null,t.locationSwitchInProgress=!0,t},[$D]:e=>{const t=Object(G.a)({},e);return t.page=null,t.locationSwitchInProgress=!0,t},[rF]:e=>{const t=Object(G.a)({},e);return t.page=null,t.locationSwitchInProgress=!0,t},[Ig]:e=>{const t=Object(G.a)({},e);return t.page=null,t.locationSwitchInProgress=!0,t},[qC]:e=>Object(G.a)({},e,{page:"viewEvent",locationSwitchInProgress:!0}),[MN]:e=>Object(G.a)({},e,{page:null,locationSwitchInProgress:!0}),[BN]:e=>Object(G.a)({},e,{page:null,locationSwitchInProgress:!0}),"@@router/LOCATION_CHANGE":e=>{const t=Object(G.a)({},e);return t.locationSwitchInProgress=!1,t},"Offline/STATUS_CHANGED":(e,t)=>t.payload.online?Object(G.a)({},e,{goingOnlineInProgress:!0}):e,[zx]:e=>Object(G.a)({},e,{goingOnlineInProgress:!1}),[WN.ORG_UNIT_ID_SET]:e=>Object(G.a)({},e,{locationSwitchInProgress:!0}),[WN.PROGRAM_ID_SET]:e=>Object(G.a)({},e,{locationSwitchInProgress:!0}),[WN.FROM_URL_UPDATE]:(e,t)=>Object(G.a)({},e,{page:t.payload.nextPage}),[WN.NEW_REGISTRATION_PAGE_OPEN]:e=>Object(G.a)({},e,{page:"new",locationSwitchInProgress:!0}),[WN.ORG_UNIT_ID_RESET]:e=>Object(G.a)({},e,{locationSwitchInProgress:!0}),[WN.PROGRAM_ID_RESET]:e=>Object(G.a)({},e,{locationSwitchInProgress:!0}),[Kx]:e=>Object(G.a)({},e,{page:null}),[Xx]:e=>Object(G.a)({},e,{page:null}),[iL]:e=>Object(G.a)({},e,{page:null,locationSwitchInProgress:!0}),[WN.SEARCH_PAGE_OPEN]:e=>Object(G.a)({},e,{page:"search",locationSwitchInProgress:!0})}),"app"));var OL;const SL="OnUrlSetTrackedEntityTypeId",CL=(e,t)=>Object.keys(t).reduce((a,r)=>r!==e?Object(G.a)({},a,{[r]:t[r]}):a,{}),IL=(e=>Object(Ur.b)(Object(G.a)({},e,{[ID]:(e,t)=>Object(G.a)({},e,{complete:t.payload.isComplete}),[GN]:e=>Object(G.a)({},e,{programId:void 0,categories:void 0,categoriesMeta:void 0,trackedEntityTypeId:void 0,complete:!1}),[ng]:(e,t)=>{const{eventContainer:a,categoriesData:r}=t.payload,n=a.event,o=r?r.reduce((e,t)=>(e[t.categoryId]=t.categoryOption.id,e),{}):void 0,i=r?r.reduce((e,t)=>(e[t.categoryId]={name:t.categoryOption.name,writeAccess:t.categoryOption.writeAccess},e),{}):void 0;return Object(G.a)({},e,{programId:n.programId,orgUnitId:n.orgUnitId,categories:o,categoriesMeta:i,complete:!0})},[gg]:(e,t)=>{const{eventContainer:a,categoriesData:r}=t.payload,n=a.event,o=r?r.reduce((e,t)=>(e[t.categoryId]=t.categoryOption.id,e),{}):void 0,i=r?r.reduce((e,t)=>(e[t.categoryId]={name:t.categoryOption.name,writeAccess:t.categoryOption.writeAccess},e),{}):void 0;return Object(G.a)({},e,{programId:n.programId,orgUnitId:n.orgUnitId,categories:o,categoriesMeta:i,complete:!0})},[TD]:(e,t)=>{const{resetCategories:a}=t.payload,{categories:r,categoriesMeta:n}=e,o=a.reduce((e,t)=>(e.categories[t]=void 0,e.categoriesMeta[t]=void 0,e),{categories:Object(G.a)({},r),categoriesMeta:Object(G.a)({},n)});return Object(G.a)({},e,{categories:o.categories,categoriesMeta:o.categoriesMeta,categoryCheckInProgress:!1})},[wD]:e=>Object(G.a)({},e,{categoryCheckInProgress:!1}),[WN.ORG_UNIT_ID_SET]:(e,{payload:{orgUnitId:t}})=>Object(G.a)({},e,{orgUnitId:t}),[WN.ORG_UNIT_ID_RESET]:e=>Object(G.a)({},e,{orgUnitId:null,complete:!1}),[WN.FROM_URL_UPDATE]:(e,t)=>{const{nextProps:a}=t.payload;return Object(G.a)({},a,{categories:void 0,categoriesMeta:void 0,complete:!1})},[WN.PROGRAM_ID_SET]:(e,{payload:{programId:t}})=>Object(G.a)({},e,{programId:t,trackedEntityTypeId:void 0,complete:!1}),[WN.PROGRAM_ID_STORE]:(e,{payload:{programId:t}})=>Object(G.a)({},e,{programId:t}),[WN.CATEGORY_OPTION_SET]:(e,t)=>{const{categoryId:a,categoryOption:r}=t.payload;return((e,t,a)=>{const r=Object(G.a)({},e.categories,{[t]:a.id}),n=Object(G.a)({},e.categoriesMeta,{[t]:{name:a.name,writeAccess:a.writeAccess}});return Object(G.a)({},e,{categories:r,categoriesMeta:n,complete:!1})})(e,a,r)},[WN.CATEGORY_OPTION_RESET]:(e,t)=>{const{categoryId:a}=t.payload;return((e,t)=>{const{categoriesMeta:a,categories:r}=e,n=CL(t,r),o=CL(t,a);return Object(G.a)({},e,{categories:n,categoriesMeta:o,complete:!1})})(e,a)},[WN.ALL_CATEGORY_OPTIONS_RESET]:e=>Object(G.a)({},e,{categories:void 0,categoriesMeta:void 0}),[dL]:(e,{payload:{trackedEntityTypeId:t}})=>Object(G.a)({},e,{programId:void 0,categories:void 0,categoriesMeta:void 0,trackedEntityTypeId:t}),[SL]:(e,{payload:{trackedEntityTypeId:t}})=>Object(G.a)({},e,{programId:void 0,categories:void 0,categoriesMeta:void 0,trackedEntityTypeId:t})}),"currentSelections",{complete:!1,categoryCheckInProgress:!1}))({}),wL="CloseFeedback",TL="StartSavingNewTrackedEntityInstance",NL="SaveNewTrackedEntityInstance",_L="CompleteSavingNewTrackedEntityInstance",AL="FailSavingNewTrackedEntityInstance",RL="StartSavingNewTrackedEntityInstanceWithEnrollment",kL="SaveNewTrackedEntityInstanceWithEnrollment",jL="CompleteSavingNewTrackedEntityInstanceWithEnrollment",PL="FailSavingNewTrackedEntityInstanceWithEnrollment";function DL(e,t,a){const r=[...e];return r.push({message:t,action:a,feedbackType:"ERROR"}),r}function FL(e,t){return{message:e,action:t,feedbackType:"ERROR"}}const xL=(e=>Object(Ur.b)(Object(G.a)({},e,{[wL]:e=>{const t=[...e];return t.shift(),t},[Ah]:(e,t)=>DL(e,t.payload.error,t.payload.action),[ag]:(e,t)=>DL(e,t.payload),[ob]:(e,t)=>DL(e,t.payload.errorMessage),[mw]:(e,t)=>{const a=t.payload,r=ka()(a)?a:a.message,n=yn()(a)?a:null;return U.a.error(Object(B.c)(r||i.a.t("Error saving event"))(n)),[...e,FL(i.a.t("Could not save event. See log for details"))]},[aF]:(e,t)=>{const a=t.payload,r=ka()(a)?a:a.message,n=yn()(a)?a:null;return U.a.error(Object(B.c)(r||i.a.t("Error saving event"))(n)),[...e,FL(i.a.t("Could not save event. See log for details"))]},[cb]:(e,t)=>[...e,FL(t.payload.errorMessage)],[zC]:e=>[...e,FL(i.a.t("Could not delete event"))],[ab]:e=>[...e,FL(i.a.t("Could not save working list"))],[Jv]:e=>[...e,FL(i.a.t("Could not add working list"))],[$v]:e=>[...e,FL(i.a.t("Could not delete working list"))],[pn]:(e,t)=>DL(e,t.payload.message),[bw]:(e,t)=>{const a=t.payload,r=ka()(a)?a:a.message,n=yn()(a)?a:null;return U.a.error(Object(B.c)(r||i.a.t("Error saving event"))(n)),[...e,FL(i.a.t("Could not save event. See log for details"))]},[f_]:(e,t)=>DL(e,i.a.t(t.payload.message)),[I_]:(e,t)=>DL(e,i.a.t(t.payload.message)),[Gh]:(e,t)=>DL(e,t.payload.message),[NF]:(e,t)=>DL(e,t.payload.message),[JR]:e=>DL(e,i.a.t("Organisation unit search failed. See log for details")),[AL]:e=>DL(e,i.a.t("Organisation unit search failed. See log for details")),[PL]:e=>DL(e,i.a.t("Organisation unit search failed. See log for details"))}),"feedbacks",[]))({[pe]:e=>{const t=ot();return t.Adapters[0]!==t.adapterType?[...e,{message:{title:i.a.t("Compatibility mode"),content:i.a.t("This app is currently running in compatibility mode due to browser restrictions. For better performance, use another browser or exit private mode if this is currently in use.")},feedbackType:"ERROR",displayType:"dialog"}]:e}}),LL={INFORMATION_FETCH:"EnrollmentPage.Fetch",INFORMATION_USING_TEI_ID_FETCH:"EnrollmentPage.StartFetchingUsingTeiId",INFORMATION_USING_ENROLLMENT_ID_FETCH:"EnrollmentPage.StartFetchingUsingEnrollmentId",INFORMATION_LOADING_FETCH:"EnrollmentPage.LoadingOnFetching",INFORMATION_ERROR_FETCH:"EnrollmentPage.ErrorOnFetching",INFORMATION_SUCCESS_FETCH:"EnrollmentPage.SuccessOnFetching",PAGE_OPEN:"EnrollmentPage.Open",PAGE_CLEAN:"EnrollmentPage.CleanOnUnmount",CUSTOM_PROGRAM_RESET:"EnrollmentPage.CustomProgramReset",DEFAULT_VIEW:"EnrollmentPage.DefaultView",MISSING_MESSAGE_VIEW:"EnrollmentPage.MissingMessageView"},UL=({error:e})=>H(LL.INFORMATION_ERROR_FETCH)({error:e}),ML=Object(Ur.b)({[WN.FROM_URL_CURRENT_SELECTIONS_VALID]:e=>Object(G.a)({},e,{selectionsError:null,lockedSelectorLoads:!1,isDataEntryLoading:!1}),[WN.FROM_URL_CURRENT_SELECTIONS_INVALID]:(e,t)=>Object(G.a)({},e,{lockedSelectorLoads:!1,selectionsError:t.payload}),[WN.FETCH_ORG_UNIT_ERROR]:(e,t)=>Object(G.a)({},e,{lockedSelectorLoads:!1,selectionsError:t.payload}),[WN.FETCH_ORG_UNIT_SUCCESS]:e=>Object(G.a)({},e,{lockedSelectorLoads:!1}),[WN.LOADING_START]:e=>Object(G.a)({},e,{lockedSelectorLoads:!0}),[WN.FROM_URL_UPDATE_COMPLETE]:e=>Object(G.a)({},e,{lockedSelectorLoads:!1}),[hg]:e=>Object(G.a)({},e,{isDataEntryLoading:!0,lockedSelectorLoads:!0,viewEventLoadError:null}),[WF]:(e,t)=>Object(G.a)({},e,{isDataEntryLoading:!1,viewEventLoadError:t.payload}),[HF]:e=>Object(G.a)({},e,{isDataEntryLoading:!1}),[qC]:e=>Object(G.a)({},e,{isDataEntryLoading:!0}),[_g]:(e,t)=>Object(G.a)({},e,{viewEventLoadError:t.payload.error}),[vg]:e=>Object(G.a)({},e,{isDataEntryLoading:!0,lockedSelectorLoads:!1}),[bg]:e=>Object(G.a)({},e,{isDataEntryLoading:!0,lockedSelectorLoads:!1}),[yg]:(e,t)=>Object(G.a)({},e,{viewEventLoadError:t.payload,lockedSelectorLoads:!1}),[ow]:e=>Object(G.a)({},e,{isDataEntryLoading:!1}),[hw]:e=>Object(G.a)({},e,{isDataEntryLoading:!1}),[LL.INFORMATION_FETCH]:e=>Object(G.a)({},e,{lockedSelectorLoads:!0}),[LL.INFORMATION_SUCCESS_FETCH]:e=>Object(G.a)({},e,{lockedSelectorLoads:!1}),[LL.INFORMATION_ERROR_FETCH]:(e,{payload:{error:t}})=>Object(G.a)({},e,{lockedSelectorLoads:!1,selectionsError:{error:t}})},"activePage",{selectionsError:null,lockedSelectorLoads:!1,isDataEntryLoading:!1,viewEventLoadError:null}),VL="INITIAL",BL="LOADING",GL="NO_RESULTS",HL="SHOW_RESULTS",WL="ERROR",YL="TOO_MANY_RESULTS",zL={searchStatus:VL,searchResults:[],currentPage:0,currentSearchInfo:{},keptFallbackSearchFormValues:{}},qL=Object(Ur.b)({[oL]:e=>Object(G.a)({},e,{searchStatus:VL}),[aL]:(e,{payload:{searchResults:t,currentPage:a}})=>Object(G.a)({},e,{searchStatus:HL,searchResults:t,currentPage:a}),[eL]:e=>Object(G.a)({},e,{searchStatus:BL}),[tL]:e=>Object(G.a)({},e,{searchStatus:GL}),[rL]:e=>Object(G.a)({},e,{searchStatus:WL}),[nL]:e=>Object(G.a)({},e,{searchStatus:YL}),[sL]:(e,{payload:{searchScopeType:t,searchScopeId:a,formId:r,currentSearchTerms:n}})=>Object(G.a)({},e,{currentSearchInfo:{searchScopeType:t,searchScopeId:a,formId:r,currentSearchTerms:n}}),[cL]:(e,{payload:{fallbackFormValues:t}})=>Object(G.a)({},e,{keptFallbackSearchFormValues:t}),[pL]:()=>zL,[uL]:e=>Object(G.a)({},e,{keptFallbackSearchFormValues:{}})},"searchPage",zL),KL="DEFAULT",XL="LOADING",JL="ERROR",ZL="MISSING_SELECTIONS",QL={enrollmentPageStatus:null},{INFORMATION_LOADING_FETCH:$L,INFORMATION_ERROR_FETCH:eU,INFORMATION_SUCCESS_FETCH:tU,PAGE_CLEAN:aU,DEFAULT_VIEW:rU,MISSING_MESSAGE_VIEW:nU}=LL,oU=Object(Ur.b)({[$L]:e=>Object(G.a)({},e,{enrollmentPageStatus:XL}),[eU]:e=>Object(G.a)({},e,{enrollmentPageStatus:JL}),[tU]:(e,{payload:{enrollmentsSortedByDate:t,teiDisplayName:a,tetId:r}})=>Object(G.a)({},e,{enrollments:t,enrollmentPageStatus:KL,teiDisplayName:a,tetId:r}),[rU]:e=>Object(G.a)({},e,{enrollmentPageStatus:KL}),[nU]:e=>Object(G.a)({},e,{enrollmentPageStatus:ZL}),[aU]:()=>QL},"enrollmentPage",QL),iU="NewPageWithoutOrgUnitSelectedView",sU="NewPageWithoutProgramComboSelectedView",lU="NewPageDefaultView",cU="DEFAULT",dU="WITHOUT_ORG_UNIT_SELECTED",pU="WITHOUT_PROGRAM_CATEGORY_SELECTED",uU={newPageStatus:cU};var mU=[ML,fL,IL,vF,oU,Fg,xg,Pv,Dv,Fv,xv,Mv,Lv,Uv,Vv,Bv,Gv,xL,Zh,Qh,$h,eg,Wx,QI,_x,GD,Object(Ur.b)({[lU]:e=>Object(G.a)({},e,{newPageStatus:cU}),[iU]:e=>Object(G.a)({},e,{newPageStatus:dU}),[sU]:e=>Object(G.a)({},e,{newPageStatus:pU})},"newPage",uU),Ox,Sx,xx,Cx,Ix,Object(Ur.b)({[Ik]:e=>Object(G.a)({},e,{isLoading:!0}),[wk]:(e,t)=>Object(G.a)({},e,{isLoading:!1,isUpdating:!1,teis:t.payload.teis,loadError:!1,currentPage:t.payload.currentPage}),[Tk]:e=>Object(G.a)({},e,{isLoading:!1,isUpdating:!1,loadError:!0}),[Nk]:(e,t)=>Object(G.a)({},e,{isUpdating:!0,currentPage:t.payload.page})},"possibleDuplicates"),Tx,Ax,Rx,Hx,Jm,eh,Qm,Zm,th,ah,nh,rh,oh,ih,qL,kx,fx,zI,WC,KI,XI,JI,ZI,WI,YI],hU=a(7428);const gU=(e,t,a,r,n)=>{const o=e.value,i=Mg(t,a),s=o.dataEntries[t].eventId,{programId:l}=o.currentSelections,c=Object(Yt.y)(l),d=o.currentSelections.orgUnitId,p=o.organisationUnits[d],u=c.stage.stageForm,m=qm(o,u,i,n);let h=Km(o,a,t,u);h=Object(G.a)({},o.events[s],{},h);const g=Object(G.a)({},m,{},h),y=Gm(c,u,i,p,g,[g]);return Object(J.a)([...y,zh(t,a,r)],qD)};async function yU(e){const t=e.attributeCategoryOptions;if(!t)return null;const a=Object(Yt.A)(e.programId).categoryCombination;if(!a)return null;const r=[...a.categories.values()];let n=await(o=t,te().get("categoryOptions",{fields:"id,displayName,categories~pluck,access",filter:"id:in:[".concat(o,"]")}).then(e=>e&&e.categoryOptions));var o;return n?r.map(e=>{const t=n.find(t=>t.categories.includes(e.id));return t?(n=n.filter(e=>e!==t),{categoryId:e.id,categoryOption:{id:t.id,name:t.displayName,writeAccess:t.access.data.write}}):(U.a.error(Object(B.c)("option not found for category")({category:e})),{categoryId:e.id,categoryOption:{id:void 0,name:void 0,writeAccess:void 0}})}):null}var vU=a(326);const bU="BatchOpenTeiSearch";function EU(e,t,a){return"".concat(e,"-").concat(t,"-").concat(a)}const fU=(e,t)=>"".concat(t,":eq:").concat(e);function OU(e,t){return"".concat(t,":ge:").concat(e.from,":le:").concat(e.to)}const SU={[Yt.v.TEXT]:(e,t)=>"".concat(t,":like:").concat(e),[Yt.v.NUMBER_RANGE]:OU,[Yt.v.DATE_RANGE]:OU,[Yt.v.DATETIME_RANGE]:OU,[Yt.v.TIME_RANGE]:OU};function CU(e,t,a){return e||0===e||!1===e?SU[t]?SU[t](e,a.id):fU(e,a.id):e}function IU(e,t,a){return e||0===e||!1===e?fU(e,a.id):e}const wU=(e,t,a,r,n,o)=>{const i=e.teiSearch[t],s=e.formsValues[a],{selectedProgramId:l,selectedTrackedEntityTypeId:c,selectedOrgUnit:d,selectedOrgUnitScope:p}=i,u=TP(c,l)[r],m=u.unique?IU:CU,h=u.searchForm.convertValues(s,(e,t,a)=>m(Aa(La(e,t),t),t,a)),g=Object.keys(h).reduce((e,t)=>{const a=h[t];return Object(za.a)(a)?[...e,...a]:[...e,a]},[]).filter(e=>null!==e&&void 0!==e),y=Object(G.a)({filter:g,fields:"*"},(E=d,"ACCESSIBLE"!==(f=p)?{ou:E&&E.id,ouMode:f}:{ouMode:f}),{},(b=c,(v=l)?{program:v}:{trackedEntityType:b}),{},((e=1)=>({page:e,pageSize:5}))(n),{pageSize:o});var v,b,E,f;const O=l?Object(Yt.F)(l).attributes:Object(Yt.E)(c).attributes;return Object(Tv.a)(Rj(y,O)).pipe(Object(V.a)(({trackedEntityInstanceContainers:e,pagingData:n})=>((e,t,a,r)=>H(bP)({data:e,formId:t,searchGroupId:a,searchId:r}))({trackedEntityInstanceContainers:e,currentPage:n.currentPage},a,r,t)),Object(Cv.a)(()=>Object(Nv.a)(((e,t,a)=>H(vP)({formId:e,searchGroupId:t,searchId:a}))(a,r,t))))},TU=(e,t)=>e.type===wh&&e.payload.formId===t,NU=(e,t,a)=>Je()(e.payload)?e.payload.some(e=>TU(e,t)):TU(e,t)||((e,t,a)=>e.type===sp&&e.payload.formId===t&&e.payload.elementId===a)(e,t,a),_U=(e,t)=>e.type===hP&&e.payload.searchId===t,AU=(e,t)=>Je()(e.payload)?e.payload.some(e=>_U(e,t)):_U(e,t)||((e,t)=>e.type===xj&&e.payload.searchId===t)(e,t),RU={TRACKED_ENTITY_INSTANCE:(e,t)=>{const a=e.trackedEntityInstance,r=Object(Yt.E)(a.trackedEntityType),n=a.attributes.reduce((e,t)=>(e[t.attribute]=t.value,e),{});return{id:a.trackedEntityInstance,name:Pj(n,r.attributes,r.name),type:"TRACKED_ENTITY_INSTANCE",linkProgramId:t.programId}},PROGRAM_STAGE_INSTANCE:e=>{const t=e.event,a=or.a.get(t.program);if(!a)return null;const r=a.getStage(t.programStage);return r?{id:t.event,name:"".concat(r.name," event"),type:"PROGRAM_STAGE_INSTANCE"}:null}};async function kU(e,t){const a=te(),r=await a.get("relationships",Object(G.a)({},e));return r&&Je()(r)?r.map(e=>function(e,t){const a=t.find(t=>t.id===e.relationshipType);return a?{id:e.relationship,clientId:e.relationship,relationshipType:{id:a.id,name:a.name},from:RU[a.from.entity](e.from,a.from),to:RU[a.to.entity](e.to,a.to)}:null}(e,t)):null}var jU=a(7156),PU=a(7412),DU=a(1172);const FU=(e,t,a,r)=>{const{baseUrl:n}=je.config,o=n.split("/api")[0],i=btoa("/dhis-web-capture/#".concat(r));window.location.href="".concat(o,"/dhis-web-tracker-capture/#/dashboard?tei=").concat(e,"&ou=").concat(t,"&").concat(a,"&returnUrl=").concat(i)},xU="PROGRAM",LU="TRACKED_ENTITY_TYPE",UU=e=>{const t=Object.keys(e)[0];return["".concat(t,":eq:").concat(e[t])]},MU=(e,t,a,r)=>Object(Tv.a)(Rj(e,t)).pipe(Object(Ov.a)(({trackedEntityInstanceContainers:e})=>{const t=e;if(t.length>0){const{id:e,tei:{orgUnit:n}}=t[0];return FU(e,n,a,r),Object(jU.a)()}return Object(Nv.a)(bL())}),Object(o_.a)(vL()),Object(Cv.a)(()=>Object(Nv.a)(yL()))),VU=e=>[...Object.keys(e).filter(t=>Object(DU.b)(e[t])).filter(t=>e[t].replace(/\s/g,"").length).map(t=>"".concat(t,":like:").concat(e[t])),...Object.keys(e).filter(t=>Object(DU.a)(e[t])).filter(t=>"from"in e[t]&&"to"in e[t]).map(t=>"".concat(t,":ge:").concat(e[t].from,":le:").concat(e[t].to))],BU=(e,t,a)=>Object(Tv.a)(Rj(e,t)).pipe(Object(V.a)(({trackedEntityInstanceContainers:e,pagingData:t})=>e.length>0?EL(e,t.currentPage):0===e.length&&"PAGINATION"===a?EL([],t.currentPage):bL()),Object(o_.a)(vL()),Object(Cv.a)(({httpStatusCode:e,message:t})=>409===e&&"maxteicountreached"===t?Object(Nv.a)(H(nL)()):Object(Nv.a)(yL()))),GU=[{id:"regUnit",visible:!1,type:Yt.v.ORGANISATION_UNIT,header:i.a.t("Registering unit"),apiName:"orgUnit"},{id:"regDate",visible:!1,type:Yt.v.DATE,header:i.a.t("Registration Date"),apiName:"created",filterDisabled:!0},{id:"inactive",visible:!1,type:Yt.v.BOOLEAN,header:i.a.t("Inactive"),filterDisabled:!0}].map(e=>Object(G.a)({},e,{mainProperty:!0})),HU=e=>e.map(({id:e,displayInReports:t,type:a,formName:r,optionSet:n})=>({id:e,visible:t,type:a,header:r,options:n&&n.options.map(({text:e,value:t})=>({text:e,value:t})),multiValueFilter:!!n})),WU=(e,t)=>Object(r.useMemo)(()=>t&&e.find(e=>e.id===t)||e[0],[e,t]),YU=(e,t,a)=>Object(r.useCallback)((r,n)=>{const o=new Map(e.map(({id:e,type:t,mainProperty:a,apiName:r,visible:n})=>[e,{id:e,type:t,mainProperty:a,apiName:r,visible:n}])),i=new Map(t.map(({id:e,type:t,transformRecordsFilter:a})=>[e,{id:e,type:t,transformRecordsFilter:a}]));a(r,n,{columnsMetaForDataFetching:o,filtersOnlyMetaForDataFetching:i})},[e,t,a]),zU=(e,t,a)=>Object(r.useCallback)(r=>{const n=new Map(e.map(({id:e,type:t,apiName:a,mainProperty:r})=>[e,{id:e,type:t,apiName:a,mainProperty:r}])),o=new Map(t.map(({id:e,type:t,transformRecordsFilter:a})=>[e,{id:e,type:t,transformRecordsFilter:a}]));a(r,{columnsMetaForDataFetching:n,filtersOnlyMetaForDataFetching:o},0)},[e,t,a]),qU=e=>{let{program:t,onUpdateList:a,onLoadView:o,customColumnOrder:s,records:l,recordsOrder:c,currentTemplateId:d,initialViewConfig:p,filters:u,sortById:m,sortByDirection:h}=e,g=Object(_e.a)(e,["program","onUpdateList","onLoadView","customColumnOrder","records","recordsOrder","currentTemplateId","initialViewConfig","filters","sortById","sortByDirection"]);const y=(e=>Object(r.useMemo)(()=>{const{attributes:t}=e;return[...GU,...HU(t)]},[e]))(t),v=jb(s,y),b=(({enrollment:{enrollmentDateLabel:e,incidentDateLabel:t}})=>Object(r.useMemo)(()=>[{id:"programStatus",type:Yt.v.TEXT,header:i.a.t("Enrollment status"),options:[{text:i.a.t("Active"),value:"ACTIVE"},{text:i.a.t("Completed"),value:"COMPLETED"},{text:i.a.t("Cancelled"),value:"CANCELLED"}],transformRecordsFilter:e=>({programStatus:e.split(":")[1]})},{id:"enrollmentDate",type:Yt.v.DATE,header:e,transformRecordsFilter:e=>{let t={};return Array.isArray(e)?t=e.reduce((e,t)=>(t.startsWith("ge")?e.programStartDate=t.replace("ge:",""):e.programEndDate=t.replace("le:",""),e),{}):e.startsWith("ge")?t.programStartDate=e.replace("ge:",""):t.programEndDate=e.replace("le:",""),t}},{id:"incidentDate",type:Yt.v.DATE,header:t,transformRecordsFilter:e=>{let t={};return Array.isArray(e)?t=e.reduce((e,t)=>(t.startsWith("ge")?e.programIncidentStartDate=t.replace("ge:",""):e.programIncidentEndDate=t.replace("le:",""),e),{}):e.startsWith("ge")?t.programIncidentStartDate=e.replace("ge:",""):t.programIncidentEndDate=e.replace("le:",""),t}},{id:"assignee",type:Yt.v.ASSIGNEE,header:i.a.t("Assigned to"),transformRecordsFilter:e=>e}],[e,t]))(t),E=Object(r.useMemo)(()=>[{id:"default",isDefault:!0,name:"default",access:{update:!1,delete:!1,write:!1,manage:!1}},{id:"active",name:"Active enrollments",order:1,access:{update:!1,delete:!1,write:!1,manage:!1},criteria:{programStatus:"ACTIVE"}},{id:"complete",name:"Completed enrollments",order:2,access:{update:!1,delete:!1,write:!1,manage:!1},criteria:{programStatus:"COMPLETED"}},{id:"cancelled",name:"Cancelled enrollments",order:3,access:{update:!1,delete:!1,write:!1,manage:!1},criteria:{programStatus:"CANCELLED"}}],[]),f=AC({initialViewConfig:p,defaultColumns:y,filters:u,columns:v,sortById:m,sortByDirection:h});return n.a.createElement(_C,Object.assign({},g,{currentTemplate:WU(E,d),templates:E,columns:v,filtersOnly:b,dataSource:Pb(l,c,v),onLoadView:YU(y,b,o),onUpdateList:zU(y,b,a),programId:t.id,rowIdKey:"id",currentViewHasTemplateChanges:f,filters:u,sortById:m,sortByDirection:h}))},KU=({storeId:e})=>{const t=Object(an.f)(({currentSelections:e})=>e.programId),a=(e=>Object(r.useMemo)(()=>Object(Yt.F)(e),[e]))(t),o=Rb(e,"TEI",a),{orgUnitId:i,lastTransaction:s,lastTransactionOnListDataRefresh:l,listDataRefreshTimestamp:c,onAddTemplate:d,onUpdateTemplate:p,onDeleteTemplate:u,onSetTemplateSharingSettings:m}=o,h=Object(_e.a)(o,["orgUnitId","lastTransaction","lastTransactionOnListDataRefresh","listDataRefreshTimestamp","onAddTemplate","onUpdateTemplate","onDeleteTemplate","onSetTemplateSharingSettings"]),g=Object(an.e)(),y=Object(r.useCallback)(()=>{g(Ob(t,e,"TEI")),g(Sb([],"default",e))},[g,t,e]),{pathname:v,search:b}=Object(ey.f)(),E=Object(r.useCallback)(({id:e})=>{FU(e,i,"program=".concat(t),"".concat(v).concat(b))},[i,t,v,b]);return n.a.createElement(qU,Object.assign({},h,{onSelectListRow:E,onLoadTemplates:y,program:a,orgUnitId:i}))};a(1063);const XU=Object(ge.withStyles)(({typography:e})=>({listContainer:{padding:e.pxToRem(24)}}))(({classes:{listContainer:e}})=>n.a.createElement("div",{"data-test":"tei-working-lists"},n.a.createElement(TO.a,{className:e},n.a.createElement(KU,{storeId:"teiList"})))),JU=(e,t)=>{const a=async t=>{const a=t.map(async t=>{const{id:a,displayName:r}=await e({resource:"fileResources",id:t});return{id:a,name:r}});return(await Promise.all(a)).reduce((e,{id:t,name:a})=>(e[t]=a,e),{})},r={[Yt.v.ORGANISATION_UNIT]:async t=>{const a=t.join(","),{organisationUnits:r=[]}=await e({resource:"organisationUnits",params:{filter:"id:in:[".concat(a,"]")}});return r.reduce((e,{id:t,displayName:a})=>(e[t]={id:t,name:a},e),{})},[Yt.v.IMAGE]:a,[Yt.v.FILE_RESOURCE]:a},n={[Yt.v.IMAGE]:({subvalueKey:e,subvalue:a,columnId:r,teiId:n})=>({name:a,value:e,url:"".concat(t,"/trackedEntityInstances/").concat(n,"/").concat(r,"/image")}),[Yt.v.FILE_RESOURCE]:({subvalueKey:e,subvalue:t})=>({name:t,value:e})};return async(e,t)=>{const a=t.filter(({type:e})=>r[e]),o=((e,t)=>t.map(({id:t,type:a})=>({type:a,subvalueKeys:e.map(({record:e})=>e[t]).filter(e=>null!=e)})).reduce((e,{type:t,subvalueKeys:a})=>(a.length>0&&(e[t]=[...e[t]||[],...a]),e),{}))(e,a);return((e,t,a)=>a.reduce((e,{id:a,type:r})=>{const{subvalues:o={}}=t.find(({type:e})=>e===r)||{};return e.map(({id:e,record:t})=>{const i=t[a];if(null==i)return{id:e,record:t};const s=o[i];let l;return null==s?(U.a.error(Object(B.c)("subvalue not found")({subvalueKey:i,id:e,record:t})),l=void 0):l=n[r]?n[r]({subvalueKey:i,subvalue:s,columnId:a,teiId:e}):s,{id:e,record:Object(G.a)({},t,{[a]:l})}})},e))(e,await(e=>{const t=Object.keys(e).map(async t=>{const a=e[t],n=[...new Set(a).values()];return{type:t,subvalues:await r[t](n)}});return Promise.all(t)})(o),a)}},ZU=Object(Qd.createSelector)(e=>e,(e,t)=>t,(e,t)=>JU(e,t)),QU=(e,t,a)=>{const r=((e,t)=>{const{id:a,apiName:r}=t.get(e)||{};return r||a})(e,a);return"".concat(r,":").concat(t)},$U=({page:e,pageSize:t,programId:a,orgUnitId:r,filters:n,sortById:o,sortByDirection:i},s,l)=>Object(G.a)({},((e={},t)=>{const a=Object.keys(e).filter(e=>!t.get(e)).flatMap(t=>{const a=e[t];return Array.isArray(a)?a.map(e=>"".concat(t,":").concat(e)):"".concat(t,":").concat(a)});return a.length>0?{filter:a}:null})(n,l),{},((e={},t)=>Object.keys(e).filter(e=>t.get(e)).reduce((a,r)=>{const n=e[r],{transformRecordsFilter:o}=t.get(r)||{};return Object(G.a)({},a,{},o(n))},{}))(n,l),{order:QU(o,i,s),page:e,pageSize:t,ou:r,ouMode:"SELECTED",program:a}),eM=async(e,{columnsMetaForDataFetching:t,filtersOnlyMetaForDataFetching:a,querySingleResource:r,absoluteApiPath:n})=>{const{resource:o,queryArgs:i}={resource:"trackedEntityInstances",queryArgs:$U(e,t,a)},{trackedEntityInstances:s=[]}=await r({resource:o,params:i}),l=[...t.values()],c=((e,t)=>e.map(e=>{const a=((e=[])=>e.reduce((e,{attribute:t,value:a})=>(e[t]=a,e),{}))(e.attributes),r=t.map(({id:t,mainProperty:r,type:n,apiName:o})=>{let i;return i=r?e[o||t]:a[t],{id:t,value:ta(i,n)}}).filter(({value:e})=>null!=e).reduce((e,{id:t,value:a})=>(e[t]=a,e),{});return{id:e.trackedEntityInstance,record:r}}))(s,l);return{teis:await ZU(r,n)(c,l),request:{resource:o,queryArgs:i}}},tM=({programId:e,orgUnitId:t,storeId:a,selectedTemplate:r,columnsMetaForDataFetching:n,filtersOnlyMetaForDataFetching:o,querySingleResource:s,absoluteApiPath:l})=>{const{sortById:c,sortByDirection:d}=(e=>{let t=e.find(e=>e.visible);return t||(t=e[0]),{sortById:t.id,sortByDirection:(a=t.type,[Yt.v.TEXT,Yt.v.LONG_TEXT].includes(a)?"asc":"desc")};var a})([...n.values()]),p=((e={})=>{const{programStatus:t}=e;return t?{programStatus:{usingOptionSet:!0,values:[t]}}:{}})(r.criteria),u=MC(p,{columns:n,filtersOnly:o,storeId:a,isInit:!0});return eM({programId:e,orgUnitId:t,pageSize:15,page:1,sortById:c,sortByDirection:d,filters:u},{columnsMetaForDataFetching:n,filtersOnlyMetaForDataFetching:o,querySingleResource:s,absoluteApiPath:l}).then(({teis:r,request:n})=>Cb(a,{recordContainers:r,pagingData:{rowsPerPage:15,currentPage:1},request:n,config:{sortById:c,sortByDirection:d,filters:p,selections:{programId:e,orgUnitId:t}}})).catch(e=>(U.a.error(Object(B.c)("An error occurred when initializing the working list view")({error:e})),Ib(a,i.a.t("Working list could not be loaded"))))};var aM=a(7424);const rM=(e={})=>Object.keys(e).map(t=>({attribute:t,value:e[t]})),nM=(e,t)=>{return Object(Tv.a)(t((a=e,{resource:"trackedEntityInstances",id:a,params:{fields:["attributes","enrollments","trackedEntityType"]}}))).pipe(Object(V.a)(({attributes:e,enrollments:t,trackedEntityType:a})=>{const r=((e=[])=>e.sort((e,t)=>De.a.utc(t.enrollmentDate).diff(De.a.utc(e.enrollmentDate))))(t);return(({teiDisplayName:e,tetId:t,enrollmentsSortedByDate:a})=>H(LL.INFORMATION_SUCCESS_FETCH)({teiDisplayName:e,tetId:t,enrollmentsSortedByDate:a}))({teiDisplayName:((e,t)=>{const a=Object(xk.b)(t),[r,n]=a.filter(({displayInReports:e})=>e).map(({id:e})=>e),{value:o=""}=e.find(({attribute:e})=>e===r),{value:i=""}=e.find(({attribute:e})=>e===n);return"".concat(o).concat(o&&" ").concat(i)})(e,a),tetId:a,enrollmentsSortedByDate:r})}),Object(Cv.a)(()=>{const t=i.a.t('Tracked entity instance with id "{{teiId}}" does not exist',{teiId:e});return Object(Nv.a)(UL({error:t}))}));var a};var oM=Object(hU.a)((e,t)=>e.pipe(Object(M.a)(WN.ORG_UNIT_ID_SET),Object(fv.a)(({payload:{orgUnitId:e}})=>((e,t)=>{if(!t)return!1;const a=Wm.a.get(t);return!a||(!a.organisationUnits||!a.organisationUnits[e])})(e,t.value.currentSelections.programId)),Object(V.a)(()=>HN())),(e,t)=>e.pipe(Object(M.a)(WN.ORG_UNIT_ID_SET),Object(n_.a)(e=>{const{orgUnitId:a}=e.payload,r=t.value.currentSelections.categories;if(!r)return Promise.resolve(ND(e.type));const n=Object.keys(r).reduce((e,t)=>(r[t]&&(e[t]=r[t]),e),{}),o=Object.keys(n).map(e=>async function(e,t){const a=await it().get(Le.CATEGORY_OPTIONS,e);return!a.organisationUnits||!!a.organisationUnits[t]}(n[e],a).then(t=>({id:e,isAssociated:t})));return Promise.all(o).then(t=>{const a=t.filter(e=>!e.isAssociated).map(e=>e.id);return a.length<=0?Promise.resolve(ND(e.type)):(r=a,n=e.type,H(TD)({resetCategories:r,triggeringActionType:n}));var r,n})})),(e,t)=>e.pipe(Object(M.a)(WN.PROGRAM_ID_SET,WN.CATEGORY_OPTION_SET,WN.FROM_URL_CURRENT_SELECTIONS_VALID,wD,TD),Object(fv.a)(()=>{const{pathname:e}=t.value.router.location;return q_(e.substring(1))}),Object(V.a)(e=>((e,t)=>H(ID)({isComplete:e,triggeringActionType:t}))((e=>{if(!e.orgUnitId||!e.programId||e.categoryCheckInProgress)return!1;const t=e.programId&&Wm.a.get(e.programId);if(t&&t.categoryCombination){if(Array.from(t.categoryCombination.categories.values()).some(t=>!e.categories||!e.categories[t.id]))return!1}return!0})(t.value.currentSelections),e.payload&&e.payload.triggeringActionType||e.type))),e=>e.pipe(Object(M.a)(de),Object(V.a)(()=>H(Y)())),e=>e.pipe(Object(M.a)(Y),Object(Q.a)(()=>async function(){return[await le(),await ce()]}().then(e=>{return t=e,Object(J.a)([...t,H(z)()],Z);var t}).catch(e=>(e=>H(q)({error:e}))(e)))),e=>e.pipe(Object(M.a)(Z),Object(V.a)(()=>{return e={headerBarHeight:48},H(pe)(e);var e})),e=>e.pipe(Object(M.a)(q),Object(V.a)(e=>{const{error:t}=e.payload;return U.a.error(Object(B.c)("load core failed")({error:t})),a="APP FAILED TO LOAD. SEE LOG FOR DETAILS",H(ue)({message:a});var a})),e=>e.pipe(Object(M.a)(rb),Object(fv.a)(({payload:{workingListsType:e}})=>"SINGLE_EVENT"===e),Object(Q.a)(t=>{const{selectedTemplate:a,columnsMetaForDataFetching:r,categoryCombinationId:n,storeId:o}=t.payload,{programId:i,orgUnitId:s,categories:l,lastTransaction:c}=t.payload.context,d=a.nextCriteria||a.criteria,p=GI(d,{commonQueryData:{programId:i,orgUnitId:s,categories:l},columnsMetaForDataFetching:r,categoryCombinationId:n,storeId:o,lastTransaction:c});return Object(Tv.a)(p).pipe(Object(Sv.a)(e.pipe(Object(M.a)(ib),Object(fv.a)(e=>e.payload.storeId===o))))})),(e,t,{querySingleResource:a,absoluteApiPath:r})=>e.pipe(Object(M.a)(rb),Object(fv.a)(({payload:{workingListsType:e}})=>"TEI"===e),Object(Q.a)(t=>{const{storeId:n,columnsMetaForDataFetching:o,filtersOnlyMetaForDataFetching:i,selectedTemplate:s}=t.payload,{programId:l,orgUnitId:c}=t.payload.context;return Object(Tv.a)(tM({programId:l,orgUnitId:c,storeId:n,selectedTemplate:s,columnsMetaForDataFetching:o,filtersOnlyMetaForDataFetching:i,querySingleResource:a,absoluteApiPath:r})).pipe(Object(Sv.a)(e.pipe(Object(M.a)(ib),Object(fv.a)(e=>e.payload.storeId===n))))})),(e,t,{querySingleResource:a,absoluteApiPath:r})=>e.pipe(Object(M.a)(sb),Object(fv.a)(({payload:{workingListsType:e}})=>"TEI"===e),Object(Q.a)(t=>{const{storeId:n,columnsMetaForDataFetching:o,filtersOnlyMetaForDataFetching:s,queryArgs:l}=t.payload,{currentPage:c,rowsPerPage:d,programId:p,orgUnitId:u,filters:m,sortById:h,sortByDirection:g}=l;return Object(Tv.a)((({page:e,pageSize:t,programId:a,orgUnitId:r,sortById:n,sortByDirection:o,storeId:s,filters:l,columnsMetaForDataFetching:c,filtersOnlyMetaForDataFetching:d,querySingleResource:p,absoluteApiPath:u})=>{const m=MC(l,{columns:c,filtersOnly:d,storeId:s});return eM({programId:a,orgUnitId:r,pageSize:t,page:e,filters:m,sortById:n,sortByDirection:o},{columnsMetaForDataFetching:c,filtersOnlyMetaForDataFetching:d,querySingleResource:p,absoluteApiPath:u}).then(({teis:e,request:t})=>wb(s,{recordContainers:e,request:t})).catch(e=>(U.a.error(Object(B.c)("An error occurred when updating the working list records")({error:e})),Tb(s,i.a.t("Working list could not be updated"))))})({page:c,pageSize:d,programId:p,orgUnitId:u,filters:m,sortById:h,sortByDirection:g,storeId:n,columnsMetaForDataFetching:o,filtersOnlyMetaForDataFetching:s,querySingleResource:a,absoluteApiPath:r})).pipe(Object(Sv.a)(e.pipe(Object(M.a)(db),Object(fv.a)(e=>e.payload.storeId===n))))})),e=>e.pipe(Object(M.a)(sb),Object(fv.a)(({payload:{workingListsType:e}})=>"SINGLE_EVENT"===e),Object(Q.a)(t=>{const{queryArgs:a,columnsMetaForDataFetching:r,categoryCombinationId:n,storeId:o}=t.payload,i=((e,{columnsMetaForDataFetching:t,categoryCombinationId:a,storeId:r})=>{const n=Object(G.a)({},e,{filters:MC(e.filters,{columns:t,storeId:r})});return VI(n,t,a).then(({eventContainers:e,pagingData:t,request:a})=>wb(r,{recordContainers:e,pagingData:t,request:a})).catch(e=>(U.a.error(Object(B.c)(HI)({error:e})),Tb(r,HI)))})(a,{columnsMetaForDataFetching:r,categoryCombinationId:n,storeId:o});return Object(Tv.a)(i).pipe(Object(Sv.a)(e.pipe(Object(M.a)(db),Object(fv.a)(e=>e.payload.storeId===o))),Object(Sv.a)(e.pipe(Object(M.a)(ib),Object(fv.a)(e=>e.payload.storeId===o))))})),(e,t,{querySingleResource:a})=>e.pipe(Object(M.a)(Hv),Object(fv.a)(({payload:{workingListsType:e}})=>"SINGLE_EVENT"===e),Object(Q.a)(({payload:{storeId:t,programId:r}})=>{const n=((e,t)=>(async(e,t)=>{const a=await t({resource:"eventFilters",params:{filter:"program:eq:".concat(e),fields:"id,displayName,eventQueryCriteria,access,externalAccess,publicAccess,user[id,username],userAccesses[id,access],userGroupAccesses[id,access]"}});return(a&&a.eventFilters?a.eventFilters:[]).map(({id:e,displayName:t,eventQueryCriteria:a,access:r,externalAccess:n,publicAccess:o,user:i,userAccesses:s,userGroupAccesses:l})=>({id:e,name:t,eventQueryCriteria:a,access:r,externalAccess:n,publicAccess:o,user:i,userAccesses:s,userGroupAccesses:l}))})(e,t).then(t=>{const a={id:"".concat(e,"-default"),isDefault:!0,name:"default",access:{update:!1,delete:!1,write:!1,manage:!1}};return{templates:[a,...t.map(e=>Object(G.a)({},e,{criteria:e.eventQueryCriteria,eventQueryCriteria:void 0}))],defaultTemplateId:a.id}}))(r,a).then(({templates:e,defaultTemplateId:a})=>Sb(e,a,t)).catch(e=>(U.a.error(Object(B.c)(e)({epic:"retrieveTemplatesEpic"})),((e,t)=>H(Yv)({error:e,storeId:t}))(i.a.t("an error occurred loading working lists"),t)));return Object(Tv.a)(n).pipe(Object(Sv.a)(e.pipe(Object(M.a)(zv),Object(fv.a)(e=>e.payload.storeId===t))))})),(e,t,{mutate:a})=>e.pipe(Object(M.a)(eb),Object(fv.a)(({payload:{workingListsType:e}})=>"SINGLE_EVENT"===e),Object(Q.a)(({payload:{template:{id:r,name:n,externalAccess:o,publicAccess:i,user:s,userGroupAccesses:l,userAccesses:c},criteria:d,programId:p,storeId:u}})=>{const m={name:n,program:p,eventQueryCriteria:d,externalAccess:o,publicAccess:i,user:s,userGroupAccesses:l,userAccesses:c},h=a({resource:"eventFilters",id:r,data:m,type:"replace"}).then(()=>{const e=t.value.workingListsTemplates[u].selectedTemplateId===r;return a=r,n=d,o={storeId:u,isActiveTemplate:e},H(tb)(Object(G.a)({templateId:a,criteria:n},o));var a,n,o}).catch(e=>{U.a.error(Object(B.c)("could not update template")({error:e,eventFilterData:m}));const a=t.value.workingListsTemplates[u].selectedTemplateId===r;return n=r,o=d,i={storeId:u,isActiveTemplate:a},H(ab)(Object(G.a)({templateId:n,criteria:o},i));var n,o,i});return Object(Tv.a)(h).pipe(Object(Sv.a)(e.pipe(Object(M.a)(eb),Object(fv.a)(e=>e.payload.template.id===r))),Object(Sv.a)(e.pipe(Object(M.a)(pb),Object(fv.a)(e=>e.payload.storeId===u))))})),(e,t,{mutate:a})=>e.pipe(Object(M.a)(Kv),Object(fv.a)(({payload:{workingListsType:e}})=>"SINGLE_EVENT"===e),Object(Q.a)(r=>{const{name:n,criteria:o,clientId:i,programId:s,storeId:l}=r.payload,c={name:n,program:s,eventQueryCriteria:o},d=a({resource:"eventFilters",type:"create",data:c}).then(e=>{const a=t.value.workingListsTemplates[l].selectedTemplateId===i;return((e,t,a)=>H(Xv)(Object(G.a)({templateId:e,clientId:t},a)))(e.response.uid,i,{storeId:l,isActiveTemplate:a})}).catch(e=>{U.a.error(Object(B.c)("could not add template")({error:e,eventFilterData:c}));const a=t.value.workingListsTemplates[l].selectedTemplateId===i;return((e,t)=>H(Jv)(Object(G.a)({clientId:e},t)))(i,{storeId:l,isActiveTemplate:a})});return Object(Tv.a)(d).pipe(Object(Sv.a)(e.pipe(Object(M.a)(pb),Object(fv.a)(e=>e.payload.storeId===l))))})),(e,t,{mutate:a})=>e.pipe(Object(M.a)(Zv),Object(fv.a)(({payload:{workingListsType:e}})=>"SINGLE_EVENT"===e),Object(Q.a)(({payload:{template:t,storeId:r}})=>{const n=a({resource:"eventFilters",id:t.id,type:"delete"}).then(()=>((e,t)=>H(Qv)({template:e,storeId:t}))(t,r)).catch(e=>(U.a.error(Object(B.c)("could not delete template")({error:e,template:t})),((e,t)=>H($v)({template:e,storeId:t}))(t,r)));return Object(Tv.a)(n).pipe(Object(Sv.a)(e.pipe(Object(M.a)(Zv),Object(fv.a)(e=>e.payload.template.id===t.id))),Object(Sv.a)(e.pipe(Object(M.a)(pb),Object(fv.a)(e=>e.payload.storeId===r))))})),e=>e.pipe(Object(M.a)(KC),Object(Q.a)(t=>{const{eventId:a,storeId:r}=t.payload,n=te().delete("events/".concat(a)).then(()=>((e,t)=>H(YC)({eventId:e,storeId:t}))(a,r)).catch(e=>(U.a.error(Object(B.c)("Could not delete event")({error:e,eventId:a})),H(zC)()));return Object(Tv.a)(n).pipe(Object(Sv.a)(e.pipe(Object(M.a)(pb),Object(fv.a)(e=>e.payload.storeId===r))))})),(e,t)=>e.pipe(Object(M.a)(WN.NEW_REGISTRATION_PAGE_OPEN,WN.PROGRAM_ID_SET,WN.CATEGORY_OPTION_SET,ID),Object(fv.a)(()=>{const{app:{page:e}}=t.value;return"new"===e}),Object(fv.a)(e=>{const t=e.type,a=e.payload&&e.payload.triggeringActionType;return t!==ID||!!a&&[WN.ORG_UNIT_ID_SET,WN.FROM_URL_CURRENT_SELECTIONS_VALID].includes(a)}),Object(V.a)(()=>{const e=t.value;if(!e.currentSelections.complete)return Lw();const a=e.currentSelections.programId;if(Object(Yt.A)(a)instanceof Yt.t)return Lw();const r=e.currentSelections.orgUnitId,n=e.organisationUnits[r],o=Object(fD.a)(a);o.error&&U.a.error(Object(B.c)(_D)({method:"openNewEventInDataEntryEpic"}));const i=o.stage&&o.stage.stageForm;return Object(J.a)([...bD(o.program,i,n)],tw)})),(e,t)=>e.pipe(Object(M.a)(nw),Object(V.a)(()=>{const e=t.value,a=e.currentSelections.programId;if(Object(Yt.A)(a)instanceof Yt.t)return Lw();const r=e.currentSelections.orgUnitId,n=e.organisationUnits[r],o=Object(fD.a)(a);o.error&&U.a.error(Object(B.c)(_D)({method:"resetDataEntryForNewEventEpic"}));const i=o.stage&&o.stage.stageForm;return Object(J.a)([...ED(o.program,i,n)],aw)})),(e,t)=>e.pipe(Object(M.a)(WN.NEW_REGISTRATION_PAGE_OPEN,WN.CATEGORY_OPTION_SET,WN.PROGRAM_ID_SET,ID),Object(fv.a)(()=>{const{app:{page:e}}=t.value;return"new"===e}),Object(fv.a)(e=>{if(e.type===ID){const t=e.payload&&e.payload.triggeringActionType;if(![WN.FROM_URL_CURRENT_SELECTIONS_VALID,WN.ORG_UNIT_ID_SET].includes(t))return!1}const a=t.value;if(!a.currentSelections.complete)return!1;const r=a.currentSelections.programId;return!(Object(Yt.A)(r)instanceof Yt.t)}),Object(V.a)(()=>{const e=t.value,a=Object(CD.a)(e.currentSelections.programId),r=[...SD(a.stage),...(n=a.stage.stageForm,n.getElements().map(e=>({id:e.id,visible:e.displayInReports})))];var n,o,i,s,l;return o="recentlyAddedEvents",i=r,s={sortById:"created",sortByDirection:"desc"},l=e.currentSelections,H(HC)({listId:o,columnOrder:i,meta:s,selections:l})})),(e,t)=>e.pipe(Object(M.a)($I),Object(V.a)(e=>e.payload.find(e=>e.type===iw)),Object(V.a)(e=>{const{dataEntryId:a,itemId:r,uid:n}=e.payload;return AD(t,a,r,n)})),(e,t)=>e.pipe(Object(M.a)(ew),Object(V.a)(e=>e.payload.find(e=>e.type===iw)),Object(V.a)(e=>{const{dataEntryId:a,itemId:r,uid:n,elementId:o,value:i,uiState:s}=e.payload,l={elementId:o,value:i,valid:s.valid};return AD(t,a,r,n,l)})),(e,t)=>e.pipe(Object(M.a)(sw),Object(V.a)(()=>{const e=t.value,a=e.currentSelections.programId,r=e.currentSelections.orgUnitId;return Object(Yw.d)("/?programId=".concat(a,"&orgUnitId=").concat(r))})),(e,t)=>e.pipe(Object(M.a)(sw),Object(V.a)(e=>{const a=t.value,r=e.payload,n=Mg(r.dataEntryId,r.eventId),o=r.formFoundation,{formClientValues:i,mainDataClientValues:s}=FD(a,n,o);return((e,t,a)=>{const r=lw;return H(r)({selections:a},{offline:{effect:{url:"events",method:Gr,data:e},commit:{type:Cw,meta:{selections:a,relationshipData:t,triggerAction:r}},rollback:{type:mw,meta:{selections:a}}}})})(PD(a,o,i,s),a.dataEntriesRelationships[n],a.currentSelections)})),(e,t)=>e.pipe(Object(M.a)(cw),Object(V.a)(()=>{const e=t.value,a=e.currentSelections.programId,r=e.currentSelections.orgUnitId;return Object(Yw.d)("/?programId=".concat(a,"&orgUnitId=").concat(r))})),(e,t)=>e.pipe(Object(M.a)(cw),Object(V.a)(()=>{const e=t.value;if(!e.offline.online)return Fw();const a=e.workingListsTemplates.eventList&&e.workingListsTemplates.eventList.currentListId,r=a&&e.workingListsContext[a];if(!r)return xw();const n=e.currentSelections;return n.complete&&!ZS(r,n)?xw():Object.keys(e.recentlyAddedEvents).length>0?H(pw)():Fw()})),(e,t)=>e.pipe(Object(M.a)(rg),Object(n_.a)(e=>{const a=e.payload.eventId,r=t.value.currentSelections.programId;return FI(a).then(e=>e?((e,t)=>H(ng)({eventContainer:e,prevProgramId:t}))(e,r):pg(i.a.t("Event could not be loaded. Are you sure it exists?"))).catch(e=>{const{message:t,details:a}=vn(e);return U.a.error(Object(B.c)(t||i.a.t("Event could not be loaded"))(a)),pg(i.a.t("Event could not be loaded. Are you sure it exists?"))})})),e=>e.pipe(Object(M.a)(ng),Object(n_.a)(e=>{const t=e.payload.eventContainer;return te().get("organisationUnits/".concat(t.event.orgUnitId)).then(e=>((e,t)=>H(ig)({orgUnit:e,eventContainer:t}))(e,t)).catch(e=>{const{message:a,details:r}=vn(e);return U.a.error(Object(B.c)(a||i.a.t("Organisation unit could not be loaded"))(r)),(e=>H(sg)({eventContainer:e}))(t)})})),e=>e.pipe(Object(M.a)(ig,sg,lg),Object(V.a)(e=>{const t=e.payload.eventContainer,a=e.payload.orgUnit,r=Object(Yt.z)(t.event);if(r.error)return n=r.error,H(ZD)(n);var n;const o=r.stage.stageForm,i=r.program;return Object(J.a)(uF(t,a,o,i))})),(e,t)=>e.pipe(Object(M.a)(YD),Object(V.a)(e=>e.payload.find(e=>e.type===QD)),Object(V.a)(e=>{const{dataEntryId:a,itemId:r,uid:n}=e.payload;return gU(t,a,r,n)})),(e,t)=>e.pipe(Object(M.a)(zD),Object(V.a)(e=>e.payload.find(e=>e.type===QD)),Object(V.a)(e=>{const{elementId:a,value:r,uiState:n,dataEntryId:o,itemId:i,uid:s}=e.payload,l={elementId:a,value:r,valid:n.valid};return gU(t,o,i,s,l)})),(e,t)=>e.pipe(Object(M.a)($D),Object(V.a)(()=>{const e=t.value,a=e.currentSelections.programId,r=e.currentSelections.orgUnitId;return Object(Yw.d)("/?programId=".concat(a,"&orgUnitId=").concat(r))})),(e,t)=>e.pipe(Object(M.a)($D),Object(V.a)(e=>{const a=t.value,r=e.payload,n=Mg(r.dataEntryId,r.itemId),o=a.dataEntries[r.dataEntryId].eventId,i=a.formsValues[n],s=a.dataEntriesFieldsValue[n],l=a.dataEntriesFieldsMeta[n],c=a.events[o],d=r.formFoundation,{formClientValues:p,dataEntryClientValues:u}=RD(d,i,s,l),m=Object(G.a)({},c,{},u,{notes:[]}),h=d.convertValues(p,Aa),g=jD(m);return"COMPLETED"!==g.status||c.completedDate||(g.completedDate=Object(RC.a)(Object(Jt.a)())),((e,t,a)=>H(eF)({selections:a},{offline:{effect:{url:"events/".concat(e),method:Hr,data:t},commit:{type:tF,meta:{selections:a}},rollback:{type:aF,meta:{selections:a}}}}))(o,Object(G.a)({},g,{dataValues:Object.keys(h).map(e=>({dataElement:e,value:h[e]}))}),a.currentSelections)})),(e,t)=>e.pipe(Object(M.a)(rF),Object(V.a)(()=>{const e=t.value,a=e.currentSelections.programId,r=e.currentSelections.orgUnitId;return Object(Yw.d)("/?programId=".concat(a,"&orgUnitId=").concat(r))})),(e,t)=>e.pipe(Object(M.a)(rF),Object(V.a)(()=>{const e=t.value;if(!e.offline.online)return hF();const a=e.workingListsTemplates.eventList.currentListId,r=a&&e.workingListsContext[a];if(!r)return gF();const n=e.currentSelections;return n.complete&&!ZS(r,n)?gF():hF()})),(e,t)=>e.pipe(Object(M.a)(iF),Object(V.a)(e=>{const a=t.value,r=e.payload,n=a.dataEntries[r.dataEntryId].eventId,o=ae().username,i={event:n,notes:[{value:r.note}]},s={value:r.note,storedBy:o,storedDate:Object(eT.a)().toISOString(),clientId:LD()()},l=Object(G.a)({},s,{storedDate:Oa(s.storedDate,Yt.v.DATETIME)}),c={dataEntryId:r.dataEntryId,itemId:r.itemId,eventId:n,noteClientId:s.clientId};return Object(J.a)([yF(n,i,a.currentSelections,c),qh(r.dataEntryId,r.itemId,l),ug(n,s)],KD)})),e=>e.pipe(Object(M.a)(Ow),Object(V.a)(e=>{const t=e.payload,a=ae().username,r=Object(eT.a)().toISOString(),n={value:t.note,storedBy:a,storedDate:Oa(r,Yt.v.DATETIME),clientId:LD()()};return qh(t.dataEntryId,t.itemId,n)})),e=>e.pipe(Object(M.a)(cF),Object(V.a)(e=>{const t=e.meta.context;return Object(J.a)([(a=t.dataEntryId,r=t.itemId,n=t.noteClientId,H(Lh)({dataEntryId:a,itemId:r,noteClientId:n})),mg(t.eventId,t.noteClientId)],XD);var a,r,n})),(e,t)=>e.pipe(Object(M.a)(qC),Object(n_.a)(({payload:{eventId:e}})=>{const a=t.value;return FI(e).then(e=>{if(!e)return Dg(i.a.t("Event could not be loaded. Are you sure it exists?"));return((e,t)=>H(Eg)({eventContainer:e,orgUnit:t}))(e,a.organisationUnits[e.event.orgUnitId])}).catch(e=>{const{message:t,details:a}=vn(e);return U.a.error(Object(B.c)(t||i.a.t("Event could not be loaded"))(a)),Dg(i.a.t("Event could not be loaded. Are you sure it exists?"))})})),e=>e.pipe(Object(M.a)(vU.OFFLINE_STATUS_CHANGED),Object(V.a)(e=>{return t=e.payload.online,H(Nx)({status:t});var t})),(e,t)=>e.pipe(Object(M.a)("Offline/STATUS_CHANGED"),Object(fv.a)(e=>!!e.payload.online),Object(V.a)(()=>{let e=[H(zx)()];return!!t.value.currentSelections.complete&&(e=[...e,H(qx)()]),Object(J.a)(e,Yx)})),(e,t)=>e.pipe(Object(M.a)(mb),Object(V.a)(e=>{const a=t.value,{storeId:r}=e.payload,n=a.workingListsMeta&&a.workingListsMeta[r]&&a.workingListsMeta[r].filters||{},o=a.workingListsMeta&&a.workingListsMeta[r]&&a.workingListsMeta[r].next&&a.workingListsMeta[r].next.filters||{},i=Object.keys(o).reduce((e,t)=>(void 0!==o[t]&&(e[t]=o[t]),e),{}),s=Object(G.a)({},n,{},i);return((e,t)=>H(vb)({includeFilters:e,storeId:t}))(Object.keys(s).reduce((e,t)=>(s[t]&&(e[t]=!0),e),{}),r)})),(e,t)=>e.pipe(Object(M.a)(gw),Object(V.a)(e=>{const a=t.value,r=e.payload,n=r.formFoundation,o=Mg(r.dataEntryId,r.eventId),{formClientValues:i,mainDataClientValues:s}=FD(a,o,n),l=PD(a,n,i,s),c=Object(G.a)({},s,{eventId:LD()(),programId:a.currentSelections.programId,programStageId:n.id,orgUnitId:a.currentSelections.orgUnitId}),d=Object(G.a)({},i,{created:Object(eT.a)().toISOString()}),p=a.dataEntriesRelationships[o];return Object(J.a)([Uw(l,p,a.currentSelections,c.eventId),(h=c,g=d,H(VC)({event:h,eventValues:g})),(u="recentlyAddedEvents",m=c.eventId,H(BC)({listId:u,itemId:m}))],nw);var u,m,h,g})),e=>e.pipe(Object(M.a)(bw),Object(V.a)(e=>{const t=e.meta.clientId;return a="recentlyAddedEvents",r=t,H(GC)({listId:a,itemId:r});var a,r})),e=>e.pipe(Object(M.a)(O_),Object(n_.a)(e=>{const t=e.payload.searchText;return re().models.organisationUnits.list({fields:["id,displayName,path,publicAccess,access,lastUpdated","children[id,displayName,publicAccess,access,path,children::isNotEmpty]"].join(","),paging:!0,withinUserHierarchy:!0,query:t,pageSize:15}).then(e=>({regUnitArray:e.toArray(),searchText:t})).catch(e=>({error:e}))}),Object(V.a)(e=>{if(e.error)return U.a.error(Object(B.c)("Could not retrieve registering unit list")({error:e.error,method:"searchRegisteringUnitListEpic"})),t="Could not retrieve registering unit list",H(I_)({message:t});var t;oe("regUnit",e.regUnitArray);const a=e.regUnitArray.map(e=>({id:e.id,path:e.path,displayName:e.displayName}));return r=a,n=e.searchText,H(C_)({roots:r,searchText:n});var r,n})),e=>e.pipe(Object(M.a)(O_),Object(n_.a)(()=>Object(Tv.a)(new Promise(e=>{setTimeout(()=>e(),500)})).pipe(Object(Sv.a)(e.pipe(Object(M.a)(C_,I_))))),Object(V.a)(()=>H(w_)())),(e,t)=>e.pipe(Object(M.a)(mj),Object(fv.a)(e=>e.payload.findMode&&"TEI_SEARCH"===e.payload.findMode),Object(V.a)(()=>{const e=t.value.newRelationship.selectedRelationshipType,{programId:a,trackedEntityTypeId:r}=e.to,n=a||r,o=TP(r,a),i=o?o.map((e,t)=>Nh(EU("relationshipTeiSearch",n,t.toString()),{})):[];return Object(J.a)([...i,IP("relationshipTeiSearch",a,r)],bU)})),e=>e.pipe(Object(M.a)(gP),Object(fv.a)(e=>e.payload.searchId&&"relationshipTeiSearch"===e.payload.searchId),Object(V.a)(()=>H(hj)({}))),e=>e.pipe(Object(M.a)(fP,OP),Object(fv.a)(e=>e.payload.searchId&&"relationshipTeiSearch"===e.payload.searchId),Object(V.a)(()=>H(gj)({}))),(e,t)=>e.pipe(Object(M.a)(gP),Object(n_.a)(a=>{const r=t.value,{formId:n,searchGroupId:o,searchId:i,resultsPageSize:s}=a.payload,l=wU(r,i,n,o,1,s);return Object(Tv.a)(l).pipe(Object(Sv.a)(e.pipe(Object(M.a)(gP,SP))),Object(Sv.a)(e.pipe(Object(fv.a)(e=>Object(za.a)(e.payload)&&e.payload.some(e=>e.type===hP)))))})),(e,t)=>e.pipe(Object(M.a)(SP),Object(n_.a)(a=>{const r=t.value,{pageNumber:n,searchId:o,resultsPageSize:i}=a.payload,s=r.teiSearch[o],l=wU(r,o,s.searchResults.formId,s.searchResults.searchGroupId,n,i);return Object(Tv.a)(l).pipe(Object(Sv.a)(e.pipe(Object(M.a)(gP,SP))),Object(Sv.a)(e.pipe(Object(fv.a)(e=>Object(za.a)(e.payload)&&e.payload.some(e=>e.type===hP)))))})),(e,t)=>e.pipe(Object(M.a)(sP),Object(V.a)(e=>{const a=t.value,r=e.payload.searchId,n=e.payload.programId;let o=a.teiSearch[r].selectedTrackedEntityTypeId;const i=n||o;if(n){o=Object(Yt.F)(n).trackedEntityType.id}let s=[];o&&(s=TP(o,n));const l=s?s.map((e,t)=>Nh(EU(r,i,t.toString()),{})):[];return Object(J.a)([...l,wP(r,n,o)],uP)})),(e,t)=>e.pipe(Object(M.a)(fP),Object(V.a)(e=>{const a=t.value,r=e.payload.searchId,n=a.teiSearch[r],o=n.selectedProgramId||n.selectedTrackedEntityTypeId,i=TP(n.selectedTrackedEntityTypeId,n.selectedProgramId),s=i?i.map((e,t)=>Nh(EU(r,o,t.toString()),{})):[];return Object(J.a)([...s],mP)})),e=>e.pipe(Object(M.a)(Sw),Object(V.a)(()=>yj())),(e,t)=>e.pipe(Object(M.a)(Gw),Object(V.a)(e=>{const a=t.value,r=a.dataEntriesRelationships[VD]||[],n=e.payload,o=n.entity,s=o.id?o:Fj(o.dataEntryId,o.itemId,a),l=!o.id?{dataEntryId:o.dataEntryId}:null,c={clientId:LD()(),from:{id:"newEvent",name:i.a.t("This event"),type:"PROGRAM_STAGE_INSTANCE"},to:Object(G.a)({},s,{type:n.entityType}),relationshipType:Object(G.a)({},n.relationshipType)};if(r.some(e=>e.relationshipType.id===c.relationshipType.id&&e.to.id&&e.to.id===c.to.id)){return((e,t,a)=>H(Gh)({dataEntryId:e,itemId:t,message:a}))("singleEvent","newEvent",i.a.t("Relationship of type {{relationshipTypeName}} to {{entityName}} already exists",{entityName:c.to.name,relationshipTypeName:c.relationshipType.name}))}return Object(J.a)([(d=c.clientId,H(Hw)({relationshipId:d})),Kh("singleEvent","newEvent",c,l)],Ww);var d})),e=>e.pipe(Object(M.a)(Cw),Object(V.a)(e=>{const t=e.meta;if(t.relationshipData){const t=e.payload.response.importSummaries[0].reference,a=e.meta.relationshipData.map(e=>Object(G.a)({},e,{from:Object(G.a)({},e.from,{id:t})}));return BD(a,e.meta.selections,e.meta.triggerAction)}return t.triggerAction===lw?Pw(t.selections):t.triggerAction===yw?Mw(t.selections):null})),e=>e.pipe(Object(M.a)(ww,Tw,Rw),Object(V.a)(e=>{const t=e.meta;return t.triggerAction===lw?Pw(t.selections):t.triggerAction===yw?Mw(t.selections):null})),(e,t)=>e.pipe(Object(M.a)(Zw),Object(V.a)(e=>e.payload.find(e=>e.type===Kw)),Object(V.a)(e=>{const{innerPayload:a,searchActions:r,uid:n,programId:o,orgUnit:i}=e.payload,{dataEntryId:s,itemId:l,elementId:c,value:d,uiState:p}=a,u={elementId:c,value:d,valid:p.valid};return LT(t,{programId:o,orgUnit:i,dataEntryId:s,itemId:l,uid:n},u,r)})),(e,t)=>e.pipe(Object(M.a)(Qw),Object(V.a)(e=>e.payload.find(e=>e.type===Kw)),Object(V.a)(e=>{const{uid:a,programId:r,orgUnit:n,innerPayload:o}=e.payload,{dataEntryId:i,itemId:s}=o;return LT(t,{dataEntryId:i,itemId:s,uid:a,programId:r,orgUnit:n})})),e=>e.pipe(Object(M.a)(sp),Object(Q.a)(t=>{const{formId:a,elementId:r,searchText:n}=t.payload;return Object(Tv.a)(re().models.organisationUnits.list({fields:["id,displayName,path,publicAccess,access,lastUpdated","children[id,displayName,publicAccess,access,path,children::isNotEmpty]"].join(","),paging:!1,query:n,withinUserSearchHierarchy:!0}).then(e=>({orgUnitArray:e.toArray(),searchText:n,formId:a,elementId:r})).catch(e=>({error:e,formId:a,elementId:r}))).pipe(Object(Sv.a)(e.pipe(Object(fv.a)(e=>NU(e,a,r)))))}),Object(V.a)(e=>{if(e.error)return U.a.error(Object(B.c)("Filter form field org units failed")({error:e.error,method:"FilterOrgUnitRootsEpic"})),((e,t,a)=>H(cp)({formId:e,elementId:t,errorMessage:a}))(e.formId,e.elementId,"Filter form field org units failed");const{orgUnitArray:t,formId:a,elementId:r}=e;return oe(pp(a,r),t),((e,t,a)=>H(lp)({formId:e,elementId:t,roots:a}))(a,r,t.map(e=>({id:e.id,path:e.path,displayName:e.displayName})))})),e=>e.pipe(Object(M.a)(cn),Object(Q.a)(e=>{const t=e.payload,{elementId:a,formBuilderId:r,formId:n,callback:o,uid:s,onSuccess:l,onError:c}=t,d={valid:!0,touched:!0,errorMessage:null};return o().then(e=>{const t=((e,t,a,r,n,o)=>H(dn)({value:e,uiState:t,elementId:a,formBuilderId:r,formId:n,uid:o}))(e,d,a,r,n,s);return l?l(t):t}).catch(e=>{const{message:t}=vn(e),o=i.a.t("Async field update failed");U.a.error(Object(B.c)(t||o)({error:e}));const l=((e,t,a,r,n,o)=>H(pn)({message:e,uiState:t,elementId:a,formBuilderId:r,formId:n,uid:o}))(o,d,a,r,n,s);return c?c(l):l})})),e=>e.pipe(Object(M.a)(xj),Object(Q.a)(t=>{const a=t.payload.searchText,r=t.payload.searchId;return Object(Tv.a)(re().models.organisationUnits.list({fields:["id,displayName,path,publicAccess,access,lastUpdated","children[id,displayName,publicAccess,access,path,children::isNotEmpty]"].join(","),paging:!0,withinUserSearchHierarchy:!0,query:a,pageSize:15}).then(e=>({regUnitArray:e.toArray(),searchText:a,searchId:r})).catch(e=>({error:e,searchId:r}))).pipe(Object(Sv.a)(e.pipe(Object(fv.a)(e=>AU(e,r)))))}),Object(V.a)(e=>{if(e.error)return U.a.error(Object(B.c)("Could not retrieve registering unit list")({error:e.error,method:"searchRegisteringUnitListEpic"})),t=e.searchId,a="Could not retrieve registering unit list",H(Mj)({searchId:t,error:a});var t,a;const r=e.regUnitArray;oe(e.searchId,r);const n=e.regUnitArray.map(e=>({id:e.id,path:e.path,displayName:e.displayName}));return((e,t,a)=>H(Uj)({searchId:e,roots:t,searchText:a}))(e.searchId,n,e.searchText)})),(e,t)=>e.pipe(Object(M.a)(hg),Object(n_.a)(e=>{const a=e.payload.eventId,r=t.value.currentSelections.programId;return FI(a).then(e=>e?yU(e.event).then(t=>((e,t,a)=>H(gg)({eventContainer:e,prevProgramId:t,categoriesData:a}))(e,r,t)):Rg(i.a.t("Event could not be loaded. Are you sure it exists?"))).catch(e=>{const{message:t,details:a}=vn(e);return U.a.error(Object(B.c)(t||i.a.t("Event could not be loaded"))(a)),Rg(i.a.t("Event could not be loaded. Are you sure it exists?"))})})),e=>e.pipe(Object(M.a)(gg),Object(n_.a)(e=>{const t=e.payload.eventContainer;return te().get("organisationUnits/".concat(t.event.orgUnitId)).then(e=>((e,t)=>H(vg)({orgUnit:e,eventContainer:t}))(e,t)).catch(e=>{const{message:a,details:r}=vn(e);return U.a.error(Object(B.c)(a||i.a.t("Organisation unit could not be loaded"))(r)),(e=>H(bg)({eventContainer:e}))(t)})})),e=>e.pipe(Object(M.a)(qC),Object(V.a)(({payload:{eventId:e}})=>Object(Yw.d)("/viewEvent?viewEventId=".concat(e)))),(e,t)=>e.pipe(Object(M.a)(Ig),Object(V.a)(()=>{const e=t.value;if(!e.offline.online)return kg();const a=e.workingListsTemplates.eventList&&e.workingListsTemplates.eventList.currentListId,r=a&&e.workingListsContext[a];if(!r)return jg();const n=e.currentSelections;return n.complete&&!ZS(r,n)?jg():e.viewEventPage.eventHasChanged?H(Sg)():e.viewEventPage.saveInProgress?H(Ng)():kg()})),(e,t)=>e.pipe(Object(M.a)(Ig),Object(V.a)(()=>{const e=t.value,a=e.currentSelections.programId,r=e.currentSelections.orgUnitId;return Object(Yw.d)("/?programId=".concat(a,"&orgUnitId=").concat(r))})),e=>e.pipe(Object(M.a)(wg),Object(V.a)(()=>yj())),(e,t)=>e.pipe(Object(M.a)(CF),Object(V.a)(e=>{const a=t.value,r=a.viewEventPage.eventId,n=a.dataEntriesRelationships.viewEvent||[],o=e.payload,s=o.entity,l=s.id?s:Fj(s.dataEntryId,s.itemId,a),c=LD()(),d={clientId:c,from:{id:r,name:i.a.t("This event"),type:"PROGRAM_STAGE_INSTANCE"},to:Object(G.a)({},l,{type:o.entityType}),relationshipType:Object(G.a)({},o.relationshipType)};if(n.some(e=>e.relationshipType.id===d.relationshipType.id&&e.to.id&&e.to.id===d.to.id)){return(e=>H(NF)({message:e}))(i.a.t("Relationship of type {{relationshipTypeName}} to {{entityName}} already exists",{entityName:d.from.name,relationshipTypeName:d.relationshipType.name}))}let p;if(l.data)u=d,m=a.currentSelections,h=c,p=H(jF)({selections:m},{offline:{effect:{url:"trackedEntityInstances",method:Gr,data:u.to.data,clientId:h},commit:{type:PF,meta:{clientData:u,selections:m,clientId:h}},rollback:{type:DF,meta:{clientData:u,selections:m,clientId:h}}}});else{const e={relationships:[MD(d)]};p=FF(e,a.currentSelections,c)}var u,m,h,g,y;return Object(J.a)([(g="viewEvent",y=d,H(Ux)({key:g,relationship:y})),p],EF)})),e=>e.pipe(Object(M.a)(TF),Object(V.a)(e=>Gx("viewEvent",e.meta.clientId))),(e,t)=>e.pipe(Object(M.a)(wF),Object(V.a)(e=>{const a=t.value.relationships.viewEvent.find(t=>t.clientId===e.meta.clientId),r=e.payload.response.importSummaries[0].reference;return((e,t)=>H(Mx)({key:e,updatedRelationship:t}))("viewEvent",Object(G.a)({},a,{id:r}))})),(e,t)=>e.pipe(Object(M.a)(kF),Object(V.a)(e=>{const a=e.payload.clientId,r=t.value,n=r.relationships.viewEvent.find(e=>e.clientId===a);return Object(J.a)([Gx("viewEvent",a),LF(n.id,a,r.currentSelections)],fF)})),e=>e.pipe(Object(M.a)(PF),Object(V.a)(e=>{const t=e.payload.response.importSummaries[0].reference,{clientData:a,selections:r,clientId:n}=e.meta,o=a.to;o.data=null,o.id=t;const i={relationships:[MD(a)]};return FF(i,r,n)})),e=>e.pipe(Object(M.a)(DF),Object(V.a)(e=>Gx("viewEvent",e.meta.clientId))),(e,t)=>e.pipe(Object(M.a)(ax),Object(V.a)(e=>{const a=t.value,r=e.payload,n=a.viewEventPage.eventId,o=ae().username,i={event:n,notes:[{value:r.note}]},s={value:r.note,storedBy:o,storedDate:Oa(Object(eT.a)().toISOString(),Yt.v.DATETIME),clientId:LD()()};return Object(J.a)([sx(n,i,a.currentSelections,s.clientId),(l="viewEvent",c=s,H(Px)({key:l,note:c}))],ex);var l,c})),e=>e.pipe(Object(M.a)(nx),Object(V.a)(e=>{return t="viewEvent",a=e.meta.clientId,H(Dx)({key:t,noteClientId:a});var t,a})),e=>e.pipe(Object(M.a)(vg,bg,Eg),Object(V.a)(e=>{const t=e.payload.eventContainer,a=(t&&t.event&&t.event.notes||[]).map(e=>Object(G.a)({},e,{storedDate:Oa(e.storedDate,Yt.v.DATETIME)}));return Object(J.a)([H(tx)(),Fx("viewEvent",a)],$F)})),e=>e.pipe(Object(M.a)(vg,bg,Eg),Object(n_.a)(e=>{const t=e.payload.eventContainer.event;return(a=t.eventId,r=t.programId,kU({event:a},Object(Yt.y)(r).stage.relationshipTypes)).then(e=>Object(J.a)([H(OF)(),Bx("viewEvent",e||[])],bF));var a,r})),(e,t)=>e.pipe(Object(M.a)(vg,bg,Eg,Tg,YF),Object(fv.a)(e=>((e,t,a)=>e.type!==t||Je()(e.payload)&&e.payload.some(e=>e.type===a))(e,YF,Tg)),Object(V.a)(e=>((e,t,a)=>e.type===t&&Je()(e.payload)?e.payload.find(e=>e.type===a):e)(e,YF,Tg)),Object(fv.a)(e=>{const a=e.payload.eventContainer.id,r=t.value.viewEventPage||{};return r.eventId===a&&!r.showEditEvent}),Object(n_.a)(e=>{const t=e.payload.eventContainer,a=e.payload.orgUnit,r=Object(Yt.z)(t.event);if(r.error)return Object(Nv.a)((n=r.error,H(WF)(n)));var n;const o=r.stage.stageForm,i=r.program;return Object(Tv.a)((async(e,t,a,r)=>{const n=VF,o=BF,i=[{id:"eventDate",type:"DATE"},{clientId:"geometry",dataEntryId:"geometry",onConvertIn:NT(a),onConvertOut:TT},{clientId:"status",dataEntryId:"complete",onConvertIn:e=>"COMPLETED"===e?"true":"false",onConvertOut:AT}],s=Mg(n,o),{actions:l,dataEntryValues:c,formValues:d}=await GF(n,o,e.event,e.values,i,a,{eventId:e.event.eventId}),p=Object(G.a)({},e.event,{},e.values);return[...l,...Gm(r,a,s,t,p,[p]),H(HF)({loadedValues:{dataEntryValues:c,formValues:d,eventContainer:e},assignee:(u=e.event.assignee,u?ga(u,Yt.v.USERNAME):u)})];var u})(t,a,o,i)).pipe(Object(V.a)(e=>Object(J.a)(e)))})),(e,t)=>e.pipe(Object(M.a)(UF),Object(V.a)(()=>{const e=t.value,a=e.viewEventPage.loadedValues,r=a.eventContainer,n=e.organisationUnits[r.event.orgUnitId],o=Object(Yt.z)(r.event);if(o.error)return i=o.error,H(ZF)(i);var i;const s=o.program,l=o.stage.stageForm;return Object(J.a)([H(MF)(),...uF(a,n,l,s)])})),(e,t)=>e.pipe(Object(M.a)(qF),Object(V.a)(e=>{const a=t.value,r=e.payload,n=Mg(r.dataEntryId,r.itemId),o=a.dataEntries[r.dataEntryId].eventId,i=a.formsValues[n],s=a.dataEntriesFieldsValue[n],l=a.dataEntriesFieldsMeta[n],c=a.viewEventPage.loadedValues.eventContainer.event,d=r.formFoundation,{formClientValues:p,dataEntryClientValues:u}=RD(d,i,s,l),m=Object(G.a)({},c,{},u,{notes:[]}),h=d.convertValues(p,Aa),g=jD(m);"COMPLETED"!==g.status||c.completedDate||(g.completedDate=Object(RC.a)(Object(Jt.a)()));const{eventContainer:y}=a.viewEventPage.loadedValues,v=Object(G.a)({},y,{event:Object(G.a)({},y.event,{},u),values:Object(G.a)({},p)}),b=a.organisationUnits[v.event.orgUnitId],E=Object(G.a)({},g,{dataValues:Object.keys(h).map(e=>({dataElement:e,value:h[e]}))});return Object(J.a)([Pg(v,b),QF(o,E,a.currentSelections)],YF)})),(e,t)=>e.pipe(Object(M.a)(JF),Object(fv.a)(e=>{const a=t.value.viewEventPage||{};return a.eventId&&a.eventId===e.meta.eventId}),Object(V.a)(()=>{const e=t.value,a=e.viewEventPage.loadedValues.eventContainer,r=e.organisationUnits[a.event.orgUnitId];return Pg(a,r)})),(e,t)=>e.pipe(Object(M.a)(mj),Object(fv.a)(e=>e.payload.findMode&&e.payload.findMode===Sj),Object(n_.a)(a=>{const r=t.value,n=r.newRelationship.selectedRelationshipType,{programId:o,trackedEntityTypeId:s}=n.to,{orgUnitId:l}=r.currentSelections;let c;if(o)try{c=function(e){let t;try{const a=Object(Yt.F)(e);a.access.data.write&&(t=a)}catch(a){throw U.a.error(Object(B.c)("tracker program for id not found")({suggestedProgramId:e,error:a})),Error(i()("Metadata error. see log for details"))}return t}(o)}catch(h){return Promise.resolve(fj(h))}const d=function(e,t){let a;return a=t?t.organisationUnits[e]?e:null:e,a}(l,c);if(!d)return Promise.resolve(Ej(c&&c.id));const p=r.organisationUnits[d];if(c){const t=DT(c,c.enrollment.enrollmentForm,p,"relationship",[Ej(c.id,p)],[],r.generatedUniqueValuesCache.relationship);return Object(Tv.a)(t).pipe(Object(Sv.a)(e.pipe(Object(M.a)(mj))))}let u;try{u=Object(Yt.E)(s)}catch(h){return U.a.error(Object(B.c)("TET for id not found")({trackedEntityTypeId:s,error:h})),Promise.resolve(fj(i.a.t("Metadata error. see log for details")))}const m=XT(u.teiRegistration.form,p,"relationship",[Ej(null,p)],r.generatedUniqueValuesCache.relationship);return Object(Tv.a)(m).pipe(Object(Sv.a)(e.pipe(Object(M.a)(mj))))})),(e,t)=>e.pipe(Object(M.a)(Ik,Nk),Object(n_.a)(({payload:{page:e,pageSize:a,orgUnitId:r,selectedScopeId:n,scopeType:o,dataEntryId:i}})=>{const{formsValues:s,dataEntries:l}=t.value,c=s[Mg(i,l[i].itemId)];try{const t=(function(e){if(!e)return null;const t=Object(Yt.B)(e);return t instanceof Yt.h?null:t instanceof Yt.t?t.enrollment.inputSearchGroups&&t.enrollment.inputSearchGroups[0].searchFoundation.getElements():t instanceof Yt.s?t.teiRegistration.inputSearchGroups&&t.teiRegistration.inputSearchGroups[0].searchFoundation.getElements():null}(n)||[]).map(e=>{const t=c[e.id];if(!t&&0!==t&&!1!==t)return null;const a=e.convertValue(t,Object(B.e)(La,Aa));return"".concat(e.id,":LIKE:").concat(a)}).filter(e=>e),i=o===Yt.I.TRACKER_PROGRAM?{program:n}:{trackedEntityType:n},s=Object(G.a)({ou:r,ouMode:"ACCESSIBLE",pageSize:a,page:e,filter:t,fields:"*"},i),l=Object(xk.b)(n);return Object(Tv.a)(Rj(s,l)).pipe(Object(V.a)(({trackedEntityInstanceContainers:e,pagingData:t})=>{return a=e,r=t.currentPage,H(wk)({teis:a,currentPage:r});var a,r}),Object(Cv.a)(()=>Object(Nv.a)(_k())))}catch(d){return Promise.resolve(_k())}})),e=>e.pipe(Object(M.a)(Aw),Object(V.a)(e=>{const t=e.payload.response.importSummaries[0].reference,{relationshipData:a,relationshipClientId:r,selections:n,triggerAction:o}=e.meta,i=a.find(e=>e.clientId===r);return i.to.id=t,i.to.data=null,BD(a,n,o)})),(e,t)=>e.pipe(Object(M.a)(lx),Object(V.a)(()=>{const e=t.value,a=e.viewEventPage.eventId,r=e.viewEventPage.loadedValues.eventContainer,{event:n,values:o}=r,i=Object(Yt.y)(n.programId).stage.stageForm.convertValues(o,Aa),s=jD(n);return((e,t,a)=>H(cx)({},{offline:{effect:{url:"events/".concat(e),method:Hr,data:t},commit:{type:dx,meta:{eventId:e,selections:a}},rollback:{type:px,meta:{eventId:e,selections:a}}}}))(a,Object(G.a)({},s,{dataValues:Object.keys(i).map(e=>({dataElement:e,value:i[e]}))}),e.currentSelections)})),(e,t)=>e.pipe(Object(M.a)(WN.ORG_UNIT_ID_SET),Object(V.a)(({payload:{orgUnitId:e,pageToPush:a}})=>{const r=z_(t.value),{programId:n}=r,o=Object(_e.a)(r,["programId"]);if(n){var i;const t=null===(i=or.a.get(n))||void 0===i?void 0:i.organisationUnits[e];if(e&&!t)return Object(Yw.d)("/".concat(a,"?").concat(Y_(Object(G.a)({},o,{orgUnitId:e}))))}return Object(Yw.d)("/".concat(a,"?").concat(Y_(Object(G.a)({},o,{programId:n,orgUnitId:e}))))})),(e,t)=>e.pipe(Object(M.a)(WN.PROGRAM_ID_SET),Object(V.a)(({payload:{programId:e,pageToPush:a}})=>{const r=z_(t.value);return Object(Yw.d)("/".concat(a,"?").concat(Y_(Object(G.a)({},r,{programId:e}))))})),(e,t)=>e.pipe(Object(M.a)(qN),Object(V.a)(({payload:e})=>{const{pageToPush:a}=i_(e,WN.ORG_UNIT_ID_RESET),r=z_(t.value),{orgUnitId:n}=r,o=Object(_e.a)(r,["orgUnitId"]);return Object(Yw.d)("/".concat(a,"?").concat(Y_(Object(G.a)({},o))))})),(e,t)=>e.pipe(Object(M.a)(zN),Object(V.a)(({payload:e})=>{const{pageToPush:a}=i_(e,WN.PROGRAM_ID_RESET),r=z_(t.value),{programId:n}=r,o=Object(_e.a)(r,["programId"]);return Object(Yw.d)("/".concat(a,"?").concat(Y_(Object(G.a)({},o))))})),(e,t,{querySingleResource:a})=>e.pipe(Object(M.a)(WN.FETCH_ORG_UNIT),Object(n_.a)(({payload:{orgUnitId:e}})=>Object(Tv.a)(a(s_(e))).pipe(Object(V.a)(({id:e,displayName:t})=>t_({id:e,name:t})))),Object(Cv.a)(()=>Object(Nv.a)(a_(i.a.t("Could not get organisation unit"))))),(e,t)=>e.pipe(Object(M.a)(WN.FROM_URL_UPDATE_COMPLETE,WN.FETCH_ORG_UNIT_SUCCESS,WN.EMPTY_ORG_UNIT_SET),Object(fv.a)(()=>{const{location:{pathname:e}}=t.value.router;return q_(e.substring(1))}),Object(V.a)(()=>{const{programId:e,orgUnitId:a}=t.value.currentSelections;if(e){const t=or.a.get(e);if(!t)return e_(i.a.t("Program doesn't exist"));if(a&&!t.organisationUnits[a])return e_(i.a.t("Selected program is invalid for selected registering unit"))}return H(WN.FROM_URL_CURRENT_SELECTIONS_VALID)()})),(e,t,{querySingleResource:a})=>e.pipe(Object(M.a)(WN.FROM_URL_UPDATE),Object(fv.a)(e=>e.payload.nextProps.orgUnitId),Object(n_.a)(e=>{const{organisationUnits:r}=t.value,{orgUnitId:n}=e.payload.nextProps;return r[n]?Object(Nv.a)(H(WN.FROM_URL_UPDATE_COMPLETE)()):Object(Tv.a)(a(s_(e.payload.nextProps.orgUnitId))).pipe(Object(Ov.a)(e=>Object(Nv.a)(t_({id:e.id,name:e.displayName}))),Object(Cv.a)(()=>Object(Nv.a)(a_(i.a.t("Could not get organisation unit")))),Object(o_.a)(H(WN.LOADING_START)()))})),e=>e.pipe(Object(M.a)(WN.FROM_URL_UPDATE),Object(fv.a)(e=>!e.payload.nextProps.orgUnitId),Object(V.a)(()=>H(WN.EMPTY_ORG_UNIT_SET)())),e=>e.pipe(Object(M.a)(YN),Object(V.a)(()=>Object(Yw.d)("/"))),(e,t)=>e.pipe(Object(M.a)(Jx),Object(Ov.a)(({payload:{formId:e,programId:a}})=>{const{formsValues:r,router:{location:{pathname:n,search:o}}}=t.value,i={filter:UU(r[e]),program:a,pageNumber:1,ouMode:"ACCESSIBLE"},s=Object(Yt.F)(a).attributes;return MU(i,s,"program=".concat(a),"".concat(n).concat(o))})),(e,t)=>e.pipe(Object(M.a)(Zx),Object(Ov.a)(({payload:{formId:e,trackedEntityTypeId:a}})=>{const{formsValues:r,router:{location:{pathname:n,search:o}}}=t.value,i={filter:UU(r[e]),trackedEntityType:a,pageNumber:1,ouMode:"ACCESSIBLE"},s=Object(Yt.E)(a).attributes;return MU(i,s,"trackedEntityType=".concat(a),"".concat(n).concat(o))})),(e,t)=>e.pipe(Object(M.a)(Qx),Object(Ov.a)(({payload:{formId:e,programId:a,page:r,triggeredFrom:n}})=>{const{formsValues:o}=t.value,i={filter:VU(o[e]),program:a,page:r,pageSize:5,ouMode:"ACCESSIBLE",fields:"*"},s=Object(Yt.F)(a).attributes;return BU(i,s,n)})),(e,t)=>e.pipe(Object(M.a)($x),Object(Ov.a)(({payload:{formId:e,trackedEntityTypeId:a,page:r,triggeredFrom:n}})=>{const{formsValues:o}=t.value,i={filter:VU(o[e]),trackedEntityType:a,page:r,pageSize:5,ouMode:"ACCESSIBLE"},s=Object(Yt.E)(a).attributes;return BU(i,s,n)})),(e,t)=>e.pipe(Object(M.a)(iL),Object(V.a)(()=>{const{currentSelections:{programId:e,orgUnitId:a}}=t.value;return Object(Yw.d)("/?".concat(Y_({programId:e,orgUnitId:a})))})),(e,t)=>e.pipe(Object(M.a)(WN.SEARCH_PAGE_OPEN),Object(V.a)(()=>{const{programId:e,orgUnitId:a}=z_(t.value);return Object(Yw.d)("/search?".concat(Y_({programId:e,orgUnitId:a})))})),(e,t)=>e.pipe(Object(M.a)(lL),Object(Ov.a)(({payload:{formId:e,programId:a,pageSize:r,availableSearchOptions:n}})=>{const o=Object(Yt.F)(a);if(o.trackedEntityType){const{orgUnitId:a}=t.value.currentSelections,{id:i}=o.trackedEntityType,{formsValues:s,searchPage:{currentSearchInfo:{currentSearchTerms:l}}}=t.value,{searchForm:c,formId:d}=n[i].searchGroups.filter(e=>!e.unique)[0]||{},p=((e,t)=>{if(!e)return{};return[...e.getElements().values()].reduce((e,{id:a})=>{if(Object.keys(t).includes(a)){const r=t[a];return Object(G.a)({},e,{[a]:r})}return e},{})})(c,s[e]),u=((e,t)=>e.filter(({id:e})=>Object.keys(t).includes(e)))(l,p);return Object(PU.a)(Object(Nv.a)((({orgUnitId:e,trackedEntityTypeId:t,values:a})=>H(dL)({orgUnitId:e,trackedEntityTypeId:t,values:a}))({orgUnitId:a,trackedEntityTypeId:i})),Object(Nv.a)((({fallbackFormValues:e,trackedEntityTypeId:t,pageSize:a,page:r=1})=>H(cL)({fallbackFormValues:e,trackedEntityTypeId:t,pageSize:a,page:r}))({trackedEntityTypeId:i,fallbackFormValues:p,pageSize:r})),Object(Nv.a)(mL({formId:d,currentSearchTerms:u,searchScopeType:Yt.I.TRACKED_ENTITY_TYPE,searchScopeId:i})))}return Object(jU.a)()})),e=>e.pipe(Object(M.a)(cL),Object(Ov.a)(({payload:{fallbackFormValues:e,trackedEntityTypeId:t,pageSize:a,page:r}})=>{const n={filter:VU(e),trackedEntityType:t,page:r,pageSize:a,ouMode:"ACCESSIBLE"},o=Object(Yt.E)(t).attributes;return Object(Tv.a)(Rj(n,o)).pipe(Object(V.a)(({trackedEntityInstanceContainers:e,pagingData:t})=>e.length>0?EL(e,t.currentPage):Object(Nv.a)(bL())),Object(o_.a)(vL()),Object(Cv.a)(()=>Object(Nv.a)(yL())))})),e=>e.pipe(Object(M.a)(dL),Object(V.a)(({payload:{orgUnitId:e,trackedEntityTypeId:t}})=>Object(Yw.d)({pathname:"/search",search:"?".concat(Y_({orgUnitId:e,trackedEntityTypeId:t})),state:{fallback:!0}}))),(e,t)=>e.pipe(Object(M.a)(SL),Object(V.a)(({payload:{trackedEntityTypeId:e}})=>{const{currentSelections:{orgUnitId:a},app:{page:r}}=t.value;return Object(Yw.d)("/".concat(r,"?").concat(Y_({trackedEntityTypeId:e,orgUnitId:a})))})),e=>e.pipe(Object(M.a)(Q_),Object(aM.a)("payload"),Object(n_.a)(({selectedOrgUnitId:e,selectedScopeId:t,dataEntryId:a,formFoundation:r})=>{if(e){try{Object(xk.j)(t)}catch(n){return U.a.error(Object(B.c)("TET for id not found")({TETypeId:t,error:n})),Promise.resolve(Nj(i.a.t("Metadata error. see log for details")))}const o=XT(r,{id:e},a);return Object(Tv.a)(o)}return Object(jU.a)()})),e=>e.pipe(Object(M.a)(X_),Object(aM.a)("payload"),Object(n_.a)(({selectedOrgUnitId:e,selectedScopeId:t,dataEntryId:a,formFoundation:r})=>{if(e){let o;try{o=Object(xk.k)(t)}catch(n){return U.a.error(Object(B.c)("tracker program for id not found")({programId:t,error:n})),Promise.resolve(Nj(i.a.t("Metadata error. see log for details")))}const s=DT(o,r,{id:e},a);return Object(Tv.a)(s)}return Object(jU.a)()})),(e,t)=>e.pipe(Object(M.a)(TL),Object(V.a)(()=>{const{currentSelections:{orgUnitId:e,trackedEntityTypeId:a},formsValues:r}=t.value,n=r["newPageDataEntryId-newTei"];return o={attributes:rM(n),enrollments:[],orgUnit:e,trackedEntityType:a},H(NL)(Object(G.a)({},o),{offline:{effect:{url:"trackedEntityInstances",method:Gr,data:o},commit:{type:_L},rollback:{type:AL}}});var o})),(e,t)=>e.pipe(Object(M.a)(RL),Object(V.a)(()=>{const{currentSelections:{orgUnitId:e,programId:a},formsValues:r,dataEntriesFieldsValue:n}=t.value,{incidentDate:o,enrollmentDate:i}=n["newPageDataEntryId-newEnrollment"]||{},{trackedEntityType:s,stages:l}=Object(Yt.F)(a),c=r["newPageDataEntryId-newEnrollment"],d=(({stages:e,enrollmentDate:t,incidentDate:a,programId:r,orgUnitId:n})=>{const o=a||t;return[...e.values()].filter(({autoGenerateEvent:e})=>e).map(({id:e,reportDateToUse:a,generatedByEnrollmentDate:i,openAfterEnrollment:s,standardInterval:l})=>{const c="enrollmentDate"===a?t:o,d=i?t:o,p=s?{status:"ACTIVE",eventDate:c,dueDate:c}:{status:"SCHEDULE",dueDate:De()(d).add(l,"days").format("YYYY-MM-DD")};return Object(G.a)({},p,{programStage:e,program:r,orgUnit:n})})})({stages:l,enrollmentDate:i,incidentDate:o,programId:a,orgUnitId:e});return p={attributes:rM(c),enrollments:[{incidentDate:o,enrollmentDate:i,program:a,orgUnit:e,status:"ACTIVE",events:d}],orgUnit:e,trackedEntityType:s.id},H(kL)(Object(G.a)({},p),{offline:{effect:{url:"trackedEntityInstances",method:Gr,data:p},commit:{type:jL},rollback:{type:PL}}});var p})),(e,t)=>e.pipe(Object(M.a)(_L),Object(Ov.a)(({payload:{response:{importSummaries:[{reference:e}]}}})=>{const{currentSelections:{orgUnitId:a,trackedEntityTypeId:r},router:{location:{pathname:n,search:o}}}=t.value;return FU(e,a,"".concat(Yt.I.TRACKED_ENTITY_TYPE.toLowerCase(),"=").concat(r),"".concat(n).concat(o)),Object(jU.a)()})),(e,t)=>e.pipe(Object(M.a)(jL),Object(Ov.a)(({payload:{response:{importSummaries:[{reference:e}]}}})=>{const{currentSelections:{orgUnitId:a,programId:r},router:{location:{pathname:n,search:o}}}=t.value;return FU(e,a,"program=".concat(r),"".concat(n).concat(o)),Object(jU.a)()})),(e,t)=>e.pipe(Object(M.a)(WN.NEW_REGISTRATION_PAGE_OPEN),Object(V.a)(()=>{const{orgUnitId:e,programId:a}=z_(t.value);return Object(Yw.d)("/new?".concat(Y_({programId:a,orgUnitId:e})))})),(e,t)=>e.pipe(Object(M.a)(LL.INFORMATION_FETCH),Object(V.a)(()=>{const{query:{enrollmentId:e,teiId:a}}=t.value.router.location;if(e)return H(LL.INFORMATION_USING_ENROLLMENT_ID_FETCH)();if(a)return H(LL.INFORMATION_USING_TEI_ID_FETCH)();const r=i.a.t("There is an error while opening this enrollment. Please enter a valid url.");return UL({error:r})})),(e,t,{querySingleResource:a})=>e.pipe(Object(M.a)(LL.INFORMATION_USING_ENROLLMENT_ID_FETCH),Object(Ov.a)(()=>{const{query:{enrollmentId:e}}=t.value.router.location;return Object(Tv.a)(a({resource:"enrollments",id:e})).pipe(Object(Ov.a)(({trackedEntityInstance:t,program:r,orgUnit:n})=>Object(PU.a)(nM(t,a),Object(Nv.a)((({programId:e,orgUnitId:t,teiId:a,enrollmentId:r})=>H(LL.PAGE_OPEN)({programId:e,orgUnitId:t,teiId:a,enrollmentId:r}))({programId:r,orgUnitId:n,teiId:t,enrollmentId:e})))),Object(Cv.a)(()=>{const t=i.a.t('Enrollment with id "{{enrollmentId}}" does not exist',{enrollmentId:e});return Object(Nv.a)(UL({error:t}))}),Object(o_.a)(H(LL.INFORMATION_LOADING_FETCH)()))})),(e,t,{querySingleResource:a})=>e.pipe(Object(M.a)(LL.INFORMATION_USING_TEI_ID_FETCH),Object(Ov.a)(()=>{const{query:{teiId:e}}=t.value.router.location;return nM(e,a)})),(e,t)=>e.pipe(Object(M.a)(WN.TEI_SELECTION_RESET),Object(V.a)(()=>{const{query:{programId:e,orgUnitId:a}}=t.value.router.location;return Object(Yw.d)("/?".concat(Y_({programId:e,orgUnitId:a})))})),(e,t)=>e.pipe(Object(M.a)(WN.ENROLLMENT_SELECTION_SET),Object(V.a)(({payload:{enrollmentId:e}})=>{const{query:{programId:a,orgUnitId:r,teiId:n}}=t.value.router.location;return Object(Yw.d)("/enrollment?".concat(Y_({programId:a,orgUnitId:r,teiId:n,enrollmentId:e})))})),(e,t)=>e.pipe(Object(M.a)(WN.ENROLLMENT_SELECTION_RESET),Object(V.a)(()=>{const{query:{orgUnitId:e,programId:a,teiId:r}}=t.value.router.location;return Object(Yw.d)("/enrollment?".concat(Y_({programId:a,orgUnitId:e,teiId:r})))})),(e,t)=>e.pipe(Object(M.a)(LL.PAGE_OPEN),Object(Ov.a)(({payload:{enrollmentId:e,programId:a,orgUnitId:r,teiId:n}})=>{const{query:{enrollmentId:o,orgUnitId:i,programId:s,teiId:l}}=t.value.router.location;return Boolean(o&&i&&s&&l)?Object(jU.a)():Object(Nv.a)(Object(Yw.d)("/enrollment?".concat(Y_({programId:a,orgUnitId:r,teiId:n,enrollmentId:e}))))})),kv([Jw,UT]),jv([PT,KT]));var iM=e=>{const{onRunApp:t,onCacheExpired:a}=e,[o,i]=n.a.useState(null),{querySingleResource:s,mutate:l,absoluteApiPath:c}=(()=>{const e=Object(ve.c)();return Object(r.useMemo)(()=>{return{querySingleResource:(t=e.query.bind(e),async(e,a={})=>{const r={[e.resource]:e},{[e.resource]:n}=await t(r,{variables:a});return n}),mutate:e.mutate.bind(e),absoluteApiPath:Object(B.a)(e.link.baseUrl,e.link.apiPath)};var t},[e])})(),d=Object(r.useCallback)(e=>{e instanceof Error?U.a.error(e.toString()):e&&U.a.error(JSON.stringify(e))},[]),p=Object(r.useCallback)(async()=>{try{await kr(a,s,c);const e=Object(ye.a)(),r=function(e,t,a){const r=Object(Ur.a)(mU),n=Object(jr.combineReducers)(Object(G.a)({},r,{router:Object(xr.b)(e)})),{middleware:o,enhanceReducer:i,enhanceStore:s}=Object(Mr.createOffline)(Object(G.a)({},Br.a,{discard:$r,effect:Yr(t.mutate),persistCallback:a,queue:Xr,persistOptions:{storage:en(),whitelist:["offline","networkStatus"]}})),l=Object(Pr.a)({dependencies:t}),c=[l,Object(Lr.a)(e),o];"production"!==ke.a.prod&&c.push(Object(Fr.createLogger)({collapsed:!0,diff:!0}));const d=Object(jr.createStore)(Object(J.b)(i(n)),Object(Dr.composeWithDevTools)(Object(jr.compose)(s,Object(jr.applyMiddleware)(...c))));return l.run(oM),d}(e,{querySingleResource:s,mutate:l,absoluteApiPath:c},()=>t(r,e))}catch(e){let t="The application could not be loaded.";e&&e instanceof Re?(d(e.innerError),t+=" ".concat(e.toString())):(d(e),"production"!==ke.a.prod?t+=" Please verify that the server is running.":t+=" Please see log for details."),i(t)}},[d,a,t,s,l,c]);return Object(r.useEffect)(()=>{p()},[p]),o||n.a.createElement(Oe,null)},sM=(a(7158),a(7408)),lM=a(558),cM=a.n(lM),dM=a(815),pM=a.n(dM);class uM extends r.Component{constructor(e){super(e),this.handleClose=(e,t)=>{t!==uM.CLICKAWAY_KEY&&this.props.onClose()},this.handleClose=this.handleClose.bind(this)}getAction(){const{feedback:e,classes:t}=this.props;return r.createElement("span",null,e.action?r.createElement("span",{className:t.actionContainer},e.action):null,r.createElement(Cn.a,{key:"close","aria-label":"Close",color:"inherit",className:t.closeButton,onClick:this.handleClose},r.createElement(pM.a,null)))}render(){const{feedback:e}=this.props,{message:t,displayType:a}=e,n=Me()(t)&&!a,o=Me()(t)&&"dialog"===a;return r.createElement(r.Fragment,null,r.createElement(cM.a,{open:n,anchorOrigin:uM.ANCHOR_ORIGIN,autoHideDuration:5e3,onClose:this.handleClose,message:r.createElement("span",null,t),action:this.getAction()}),r.createElement(Ce.a,{open:Me()(t)&&"dialog"===a},r.createElement(Xl.a,null,o?t&&t.title:""),r.createElement(we.a,null,o?t&&t.content:""),r.createElement(ay.a,null,r.createElement(Bd,{onClick:this.handleClose,primary:!0},i.a.t("Close")))))}}uM.defaultProps={feedback:{}},uM.CLICKAWAY_KEY="clickaway",uM.ANCHOR_ORIGIN={vertical:"bottom",horizontal:"center"},uM.displayName="FeedbackBar";const mM=Object(ge.withStyles)(e=>({closeButton:{width:4*e.spacing.unit,height:4*e.spacing.unit},actionContainer:{paddingRight:2}}))(uM),hM=Object(an.c)(e=>({feedback:e.feedbacks&&e.feedbacks[0]?e.feedbacks[0]:void 0}),e=>({onClose:()=>{e(H(wL)())}}))(mM),gM=(e,t)=>class a extends r.Component{static getValueFromParam(e,t){let a=null;if(e&&e.length>0){const r=new RegExp("".concat(t,"="),"i");a=e[e.length-1].replace(r,"").trim()||null}return a}static getNextProps(e,t){return Object.keys(e).reduce((a,r)=>(a[(t.find(e=>e.urlParameterName===r)||{}).urlParameterName||r]=e[r],a),{})}componentDidMount(){this.triggerSyncCallback()}componentDidUpdate(){this.triggerSyncCallback()}update(e){this.props.onUpdate(e)}noUpdateRequired(){this.props.onNoUpdateRequired&&this.props.onNoUpdateRequired()}triggerSyncCallback(){this.queuedUpdate?(this.update({nextProps:this.queuedUpdate.nextProps,prevProps:this.props.stateParams||{},nextPage:this.props.urlPage,prevPage:this.props.statePage}),this.queuedUpdate=null):this.noUpdateRequired()}paramsNeedsUpdate(e,t){return e.some(e=>t[e.urlParameterName]!==(this.props.stateParams&&this.props.stateParams[e.urlParameterName]||void 0))}isOutOfSync(){const e=t(this.props),{history:{location:r},statePage:n,urlPage:o}=this.props,i=Object(LN.parse)(r&&r.search),s=this.paramsNeedsUpdate(e,i);if(o!==n||s){const t=a.getNextProps(i,e);return this.queuedUpdate={nextProps:t},!0}return!1}render(){const t=this.props,{onUpdate:a,urlParams:n,stateParams:o,urlPage:i,statePage:s}=t,l=Object(_e.a)(t,["onUpdate","urlParams","stateParams","urlPage","statePage"]);return this.isOutOfSync()&&q_(i)?r.createElement(e,Object.assign({urlOutOfSync:!0},l)):r.createElement(e,l)}};var yM=a(578),vM=a.n(yM);const bM=e=>class extends r.Component{constructor(...e){super(...e),this.renderMainButton=()=>r.createElement(_l.a,{title:this.props.formFoundation.access.data.write?"":i.a.t("No write access")},r.createElement(Bd,{onClick:()=>{this.props.onSave()},disabled:!this.props.formFoundation.access.data.write,primary:!0},i.a.t("Save")))}getWrappedInstance(){return this.innerInstance}render(){const t=this.props,{onSave:a}=t,n=Object(_e.a)(t,["onSave"]),o=this.props.formFoundation.access.data.write;return r.createElement(e,Object.assign({ref:e=>{this.innerInstance=e},mainButton:this.renderMainButton(o)},n))}},EM=()=>({});var fM=a(7392),OM=a.n(fM);const SM="BASICINFO",CM="STATUS",IM={errorMessage:"validationError"},wM={labelContainerStyle:{flexBasis:200},inputContainerStyle:{flexBasis:150}},TM={labelContainerStyle:{width:150},inputContainerStyle:{width:150}};function NM(e){const{formHorizontal:t,fieldOptions:a,validationError:r,modified:n}=e;return Object(_e.a)(e,["formHorizontal","fieldOptions","validationError","modified"])}const _M=(e,t)=>Object(G.a)({},(e=>({fieldOptions:e.fieldOptions,formHorizontal:e.formHorizontal,styles:e.formHorizontal?TM:wM}))(e),{},t),AM=Ic(IM)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions.fieldLabelMediaBasedClass," ").concat(OM.a.coordinateLabel)})(kc()(Uo()(Uc(NM)(Zl)))))))),RM=Ic(IM)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions.fieldLabelMediaBasedClass," ").concat(OM.a.polygonLabel)})(kc()(Uo()(Uc(NM)(ec)))))))),kM={onIsCompleting:e=>e.completeDataEntryFieldValue,onFilterProps:e=>{const{completeDataEntryFieldValue:t}=e;return Object(_e.a)(e,["completeDataEntryFieldValue"])}},jM=gv()(Wg),PM=$g({isApplicable:e=>{const t=e.formFoundation.featureType;return["Polygon","Point"].includes(t)},getComponent:e=>"Polygon"===e.formFoundation.featureType?RM:AM,getComponentProps:e=>{const t=e.formFoundation.featureType;return _M(e,"Polygon"===t?{width:e&&e.formHorizontal?150:350,label:i.a.t("Area"),dialogLabel:i.a.t("Area"),required:!1}:{width:e&&e.formHorizontal?150:"100%",label:i.a.t("Coordinate"),dialogLabel:i.a.t("Coordinate"),required:!1})},getPropName:()=>"geometry",getValidatorContainers:()=>[],getMeta:()=>({placement:Lg,section:SM})})(jM),DM=Zg((()=>{const e=Ic(IM)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions.fieldLabelMediaBasedClass," ").concat(OM.a.dateLabel)})(kc()(Uo()(Uc(NM)(Hl))))))));return{getComponent:()=>e,getComponentProps:e=>_M(e,{width:"100%",calendarWidth:350,label:e.formFoundation.getLabel("eventDate"),required:!0}),getPropName:()=>"eventDate",getValidatorContainers:()=>WD(),getMeta:()=>({placement:Lg,section:SM})}})())(PM),FM=Ry(kM)((e=>Object(an.c)(null,EM)(bM(e)))(DM)),xM=yy(()=>({color:"primary"}))(FM),LM=Zg((()=>{const e=Ic(IM)(ho()(Dc()(Lc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions.fieldLabelMediaBasedClass," ").concat(OM.a.trueOnlyLabel)})(kc()(Uo()(Il)))))));return{getComponent:()=>e,getComponentProps:e=>_M(e,{label:"Complete event",id:"complete"}),getPropName:()=>"complete",getValidatorContainers:()=>[],getMeta:()=>({placement:Ug,section:CM}),getPassOnFieldData:()=>!0}})())(xM),UM=uy()(LM),MM={[SM]:{placement:Lg,name:i.a.t("Basic info")},[CM]:{placement:Ug,name:i.a.t("Status")}};class VM extends r.Component{constructor(e){super(e),this.fieldOptions={theme:e.theme,fieldLabelMediaBasedClass:e.classes.fieldLabelMediaBased},this.dataEntrySections=MM}componentWillUnmount(){Gd.clear()}render(){const e=this.props,{onUpdateField:t,onStartAsyncUpdateField:a,classes:r}=e,o=Object(_e.a)(e,["onUpdateField","onStartAsyncUpdateField","classes"]);return n.a.createElement(UM,Object.assign({id:"singleEvent",onUpdateFormField:t,onUpdateFormFieldAsync:a,fieldOptions:this.fieldOptions,dataEntrySections:this.dataEntrySections},o))}}var BM=Object(ge.withStyles)(e=>({dataEntryContainer:{},fieldLabelMediaBased:{[e.breakpoints.down(523)]:{paddingTop:"0px !important"}}}))(VM);var GM=Object(an.c)(e=>{const t=e.viewEventPage.eventDetailsSection||{};return{ready:!e.activePage.isDataEntryLoading&&!t.loading}},e=>({onUpdateDataEntryField:t=>{const{dataEntryId:a,itemId:r}=t.payload,n=nn()();e(Object(J.a)([t,Yh(a,r,n),mF(Object(G.a)({},t.payload,{uid:n}))],YD))},onUpdateField:t=>{const{dataEntryId:a,itemId:r}=t.payload,n=nn()();e(Object(J.a)([t,Yh(a,r,n),mF(Object(G.a)({},t.payload,{uid:n}))],zD))},onAddNote:(t,a,r)=>{e(((e,t,a)=>H(iF)({itemId:e,dataEntryId:t,note:a}))(t,a,r))},onStartAsyncUpdateField:(t,a,r)=>{e(((e,t,a)=>W(e)({onSuccess:t,onError:a}))(t,e=>{const t=nn()();return Object(J.a)([e,Yh(a,r,t),mF(Object(G.a)({},e.payload,{dataEntryId:a,itemId:r,uid:t}))],zD)},e=>e))},onSave:(t,a,r)=>{window.scrollTo(0,0),e(((e,t,a)=>H(qF)({itemId:e,dataEntryId:t,formFoundation:a},{skipLogging:["formFoundation"]}))(t,a,r))},onCancel:()=>{var t,a,r;window.scrollTo(0,0),e(Object(J.a)([H(zF)(),(t=VF,a=BF,H(Uh)({dataEntryId:t,itemId:a,extraProps:r}))]))}}))(ac()(BM)),HM=a(7393),WM=a.n(HM);const YM=Object(B.e)(La,wa),zM="BASICINFO",qM="STATUS",KM="COMMENTS",XM={labelContainerStyle:{flexBasis:200},inputContainerStyle:{flexBasis:150}},JM={labelContainerStyle:{width:150},inputContainerStyle:{width:150}};const ZM=(e,t)=>Object(G.a)({},(e=>({fieldOptions:e.fieldOptions,formHorizontal:e.formHorizontal,styles:e.formHorizontal?JM:XM}))(e),{},t),QM=Dc()(Hc({onGetUseVerticalOrientation:e=>e.formHorizontal,onGetCustomFieldLabeClass:e=>"".concat(e.fieldOptions.fieldLabelMediaBasedClass," ").concat(WM.a.defaultViewLabel)})(Uc((function(e){const{formHorizontal:t,fieldOptions:a,validationError:r,modified:n}=e;return Object(_e.a)(e,["formHorizontal","fieldOptions","validationError","modified"])}))(uc))),$M=gv()(Wg),eV=$g({isApplicable:e=>{const t=e.formFoundation.featureType;return["Polygon","Point"].includes(t)},getComponent:()=>QM,getComponentProps:e=>{if("Polygon"===e.formFoundation.featureType)return ZM(e,{label:i.a.t("Area"),valueConverter:e=>e?"Polygon captured":"No polygon captured"});const t=new Yt.d(e=>{e.id="geometry",e.type=Yt.v.COORDINATE});return ZM(e,{label:"Coordinate",valueConverter:e=>t.convertValue(e,YM)})},getPropName:()=>"geometry",getValidatorContainers:()=>[],getMeta:()=>({placement:Lg,section:zM})})($M),tV=Zg((()=>{const e=new Yt.d(e=>{e.id="eventDate",e.type=Yt.v.DATE});return{getComponent:()=>QM,getComponentProps:t=>ZM(t,{label:t.formFoundation.getLabel(e.id),valueConverter:t=>e.convertValue(t,YM)}),getPropName:()=>e.id,getMeta:()=>({placement:Lg,section:zM})}})())(eV),aV=Zg((()=>{const e=new Yt.d(e=>{e.id="complete",e.type=Yt.v.BOOLEAN});return{getComponent:()=>QM,getComponentProps:t=>ZM(t,{label:"Event completed",id:e.id,valueConverter:t=>e.convertValue(t,YM)}),getPropName:()=>e.id,getMeta:()=>({placement:Ug,section:qM}),passOnFieldData:!0}})())(tV),rV=uy()(aV),nV={[zM]:{placement:Lg,name:i.a.t("Basic info")},[qM]:{placement:Ug,name:i.a.t("Status")},[KM]:{placement:Ug,name:i.a.t("Comments")}};class oV extends r.Component{constructor(e){super(e),this.fieldOptions={theme:e.theme,fieldLabelMediaBasedClass:e.classes.fieldLabelMediaBased},this.dataEntrySections=nV}render(){const e=this.props,{classes:t}=e,a=Object(_e.a)(e,["classes"]);return n.a.createElement(rV,Object.assign({id:"singleEvent",viewMode:!0,fieldOptions:this.fieldOptions,dataEntrySections:this.dataEntrySections},a))}}var iV=Object(ge.withStyles)(e=>({header:Object(G.a)({},e.typography.title,{fontSize:18,padding:e.typography.pxToRem(10),borderBottom:"1px solid ".concat(e.palette.grey.blueGrey)}),paper:{maxWidth:e.typography.pxToRem(1070)},container:{flexGrow:3},content:{display:"flex"},dataEntryContainer:{flexGrow:1,padding:e.typography.pxToRem(10)},dataEntryActionsContainer:{padding:e.typography.pxToRem(10),paddingTop:e.typography.pxToRem(30)},button:{whiteSpace:"nowrap"},fieldLabelMediaBased:{[e.breakpoints.down(523)]:{paddingTop:"0px !important"}}}))(oV);var sV=Object(an.c)(e=>{const t=e.viewEventPage.eventDetailsSection||{};return{ready:!e.activePage.isDataEntryLoading&&!t.loading}},()=>({}))(ac()(iV));class lV extends r.Component{constructor(...e){super(...e),this.renderDataEntryContainer=()=>{const e=this.props,{classes:t,onOpenEditEvent:a,showEditEvent:r,programStage:o,eventAccess:i}=e,s=Object(_e.a)(e,["classes","onOpenEditEvent","showEditEvent","programStage","eventAccess"]),l=o.stageForm;return n.a.createElement("div",{className:t.dataEntryContainer},r?n.a.createElement(GM,Object.assign({formFoundation:l},s)):n.a.createElement(sV,Object.assign({formFoundation:l},s)))},this.renderActionsContainer=()=>{const{classes:e,onOpenEditEvent:t,showEditEvent:a,eventAccess:r}=this.props,o=r.write;return n.a.createElement("div",{className:e.actionsContainer},!a&&n.a.createElement(Ql.p,{title:o?"":i.a.t("You dont have access to edit this event")},n.a.createElement("div",{className:e.editButtonContainer},n.a.createElement(Bd,{className:e.button,variant:"raised",onClick:t,disabled:!o},i.a.t("Edit event")))))}}render(){const{classes:e}=this.props;return n.a.createElement("div",{className:e.container},n.a.createElement(ck,{header:n.a.createElement(pk,{text:"Event details",icon:In.j})},n.a.createElement("div",{className:e.content},this.renderDataEntryContainer(),this.renderActionsContainer())))}}var cV=Object(ge.withStyles)(e=>({container:{flexGrow:2,flexBasis:0},content:{display:"flex"},dataEntryContainer:{flexGrow:1,padding:e.typography.pxToRem(10)},actionsContainer:{minWidth:e.typography.pxToRem(128),padding:e.typography.pxToRem(10),paddingTop:e.typography.pxToRem(30)},button:{whiteSpace:"nowrap"},editButtonContainer:{display:"inline-block"}}))(lV);var dV=Object(an.c)(e=>({showEditEvent:e.viewEventPage.eventDetailsSection&&e.viewEventPage.eventDetailsSection.showEditEvent}),e=>({onOpenEditEvent:()=>{e(H(UF)())}}))(cV);var pV=Object(an.c)(()=>{const e=Ek();return(t,a)=>{const r=t.rulesEffectsGeneralErrors[a.dataEntryKey];return{errors:e({messagesContainer:r,containerPropNameMain:"error",containerPropNameOnComplete:"errorOnComplete",showOnComplete:!0})}}},()=>({}))(hk);var uV=Object(an.c)(()=>{const e=Ek();return(t,a)=>{const r=t.rulesEffectsGeneralWarnings[a.dataEntryKey];return{warnings:e({messagesContainer:r,containerPropNameMain:"warning",containerPropNameOnComplete:"warningOnComplete",showOnComplete:!0})}}},()=>({}))(Ck);const mV=({name:e,id:t,orgUnitId:a,linkProgramId:o})=>{const{baseUrl:i}=Object(ve.b)(),s=Object(r.useCallback)(()=>{const e=Object(B.a)(i,or.b.get().trackerAppRelativePath,"/#/dashboard?"),r="tei=".concat(t,"&ou=").concat(a);return e+(o?"".concat(r,"&program=").concat(o):r)},[i,t,a,o]);return n.a.createElement("a",{href:s(),target:"_blank",rel:"noopener noreferrer"},e)},hV="TRACKED_ENTITY_INSTANCE",gV=e=>{const{type:t}=e,a=Object(_e.a)(e,["type"]);return t!==hV?r.createElement(r.Fragment,null,e.name):r.createElement(mV,a)},yV=ac(null,e=>({style:e.loadingIndicatorStyle}))(mA),vV={height:36,width:36},bV=i.a.t("Relationships");class EV extends r.Component{constructor(...e){super(...e),this.renderHeader=()=>{const{classes:e,relationships:t,ready:a}=this.props;let n=t?t.length:0;return n=a?n:null,r.createElement(pk,{icon:In.m,text:bV,badgeClass:e.badge,badgeCount:n})},this.handleOpenAddRelationship=()=>{this.props.onOpenAddRelationship()},this.handleRemoveRelationship=e=>{this.props.onDeleteRelationship(e)},this.renderItems=e=>e.map(e=>r.createElement("div",{className:this.props.classes.relationship},e)),this.renderConnectedEntity=e=>{const{orgUnitId:t}=this.props;return r.createElement(gV,Object.assign({orgUnitId:t},e))}}render(){const{programStage:e,eventId:t,relationships:a,ready:n,eventAccess:o}=this.props,i=(e.relationshipTypes||[]).length>0,s=e.relationshipTypesWhereStageIsFrom.filter(e=>e.access.data.write);return i&&r.createElement(ck,{collapsable:!0,header:this.renderHeader()},r.createElement(yV,{loadingIndicatorStyle:vV,ready:n,relationships:a,writableRelationshipTypes:s,onOpenAddRelationship:this.handleOpenAddRelationship,onRemoveRelationship:this.handleRemoveRelationship,currentEntityId:t,entityAccess:o,smallMainButton:!0,onRenderConnectedEntity:this.renderConnectedEntity}))}}var fV=Object(ge.withStyles)(e=>({badge:{backgroundColor:e.palette.grey.light},relationship:{marginTop:e.typography.pxToRem(5),marginBottom:e.typography.pxToRem(5),padding:e.typography.pxToRem(10),borderRadius:e.typography.pxToRem(4),backgroundColor:e.palette.grey.lighter}}))(EV);var OV=Object(an.c)(e=>{const t=e.viewEventPage.relationshipsSection||{};return{eventId:e.viewEventPage.eventId,ready:!t.isLoading,relationships:e.relationships.viewEvent||[],orgUnitId:e.currentSelections.orgUnitId}},e=>({onOpenAddRelationship:()=>{e(H(wg)())},onDeleteRelationship:t=>{e((e=>H(kF)({clientId:e}))(t))}}))(fV);const SV=ac(null,e=>({style:e.loadingIndicatorStyle}))(sA),CV={height:36,width:36},IV=i.a.t("Comments");class wV extends r.Component{constructor(...e){super(...e),this.renderHeader=()=>{const{classes:e,notes:t,ready:a}=this.props;let n=t?t.length:0;return n=a?n:null,r.createElement(pk,{icon:In.f,text:IV,badgeClass:e.badge,badgeCount:n})}}render(){const{notes:e,fieldValue:t,onAddNote:a,ready:n,programStage:o,eventAccess:i}=this.props;return r.createElement(ck,{collapsable:!0,header:this.renderHeader()},r.createElement(SV,{loadingIndicatorStyle:CV,ready:n,notes:e,entityAccess:i,addNotAllowed:!o.stageForm.access.data.write,onAddNote:a,onBlur:this.props.onUpdateNoteField,value:t,smallMainButton:!0}))}}var TV=Object(ge.withStyles)(e=>({badge:{backgroundColor:e.palette.grey.light},note:{marginTop:e.typography.pxToRem(5),marginBottom:e.typography.pxToRem(5),padding:e.typography.pxToRem(10),borderRadius:e.typography.pxToRem(4),backgroundColor:e.palette.grey.lighter}}))(wV);const NV=[{id:"ErrorsSection",Component:pV},{id:"WarningsSection",Component:uV},{id:"FeedbacksSection",Component:Zk},{id:"IndicatorsSection",Component:tj},{id:"AssigneeSection",Component:Ex},{id:"RelationshipsSection",Component:OV},{id:"NotesSection",Component:Object(an.c)(e=>{const t=e.viewEventPage.notesSection||{};return{notes:e.notes.viewEvent||[],ready:!t.isLoading,fieldValue:t.fieldValue}},e=>({onAddNote:t=>{e((e=>H(ax)({note:e}))(t))},onUpdateNoteField:t=>{e((e=>H(ix)({value:e}))(t))}}))(TV)}];class _V extends r.Component{constructor(...e){super(...e),this.renderComponent=(e,t)=>r.createElement(e.Component,Object.assign({key:e.id},t))}render(){const e=this.props,{classes:t}=e,a=Object(_e.a)(e,["classes"]);return r.createElement("div",{className:this.props.classes.container},NV.map(e=>this.renderComponent(e,a)))}}var AV=Object(ge.withStyles)(e=>({container:{flexBasis:e.typography.pxToRem(0),flexGrow:1,minWidth:e.typography.pxToRem(300)}}))(_V);class RV extends r.Component{constructor(...e){super(...e),this.handleGoBackToAllEvents=()=>{this.props.onBackToAllEvents()}}render(){const{classes:e,programStage:t,currentDataEntryKey:a,eventAccess:r}=this.props;return n.a.createElement("div",{className:e.container},n.a.createElement(Bd,{className:e.showAllEvents,variant:"raised",onClick:this.handleGoBackToAllEvents},n.a.createElement(vM.a,null),i.a.t("Show all events")),n.a.createElement("div",{className:e.contentContainer},n.a.createElement(dV,{eventAccess:r,programStage:t}),n.a.createElement(AV,{eventAccess:r,programStage:t,dataEntryKey:a})))}}var kV=Object(ge.withStyles)(e=>({container:{padding:e.typography.pxToRem(24),paddingTop:e.typography.pxToRem(10)},dataEntryPaper:{marginBottom:e.typography.pxToRem(10),padding:e.typography.pxToRem(10)},showAllEvents:{paddingLeft:8,marginBottom:10,textTransform:"none",backgroundColor:"#E9EEF4",boxShadow:"none",color:"#494949",fontSize:14,fontWeight:"normal"},header:Object(G.a)({},e.typography.title,{fontSize:18,padding:e.typography.pxToRem(10),borderBottom:"1px solid ".concat(e.palette.grey.blueGrey)}),contentContainer:{display:"flex",flexWrap:"wrap"}}))(RV);const jV=e=>e.currentSelections.programId,PV=e=>e.currentSelections.categoriesMeta;var DV=Object(an.c)(()=>{const e=Object(Qd.createSelector)(jV,e=>Object(Yt.y)(e).stage),t=Object(Qd.createSelector)(jV,PV,(e,t)=>Object(Yt.x)(e,t));return a=>{const r=a.viewEventPage.eventDetailsSection||{};return{programStage:e(a),eventAccess:t(a),error:a.viewEventPage.loadError,currentDataEntryKey:r.showEditEvent?Mg(dF,pF):Mg(VF,BF)}}},e=>({onBackToAllEvents:()=>{e(H(Ig)())}}))(Cp()(kV));class FV extends r.Component{constructor(e){super(e),this.handleDiscard=()=>{this.setState({discardDialogOpen:!0})},this.handleCancelDiscard=()=>{this.setState({discardDialogOpen:!1})},this.renderHeader=()=>r.createElement("div",{className:this.props.classes.headerContainer},r.createElement("div",{className:this.props.classes.header},i.a.t("New event relationship"))),this.state={discardDialogOpen:!1}}render(){const e=this.props,{classes:t,onCancel:a}=e,n=Object(_e.a)(e,["classes","onCancel"]);return r.createElement("div",{className:t.container},r.createElement("div",{className:t.backToEventContainer},r.createElement("span",null,i.a.t("Adding relationship to event.")),r.createElement(Hd,{className:t.backToEventButton,onClick:this.handleDiscard},i.a.t("Go back to event without saving relationship"))),r.createElement(TO.a,{className:t.newRelationshipPaper},r.createElement(qP,Object.assign({header:i.a.t("New event relationship")},n))),r.createElement(sy,{header:i.a.t("Unsaved changes"),text:i.a.t("Leaving this page will discard any selections you made for a new relationship"),confirmText:i.a.t("Yes, discard"),cancelText:i.a.t("No, stay here"),onConfirm:this.props.onCancel,open:!!this.state.discardDialogOpen,onCancel:this.handleCancelDiscard}))}}var xV=ql()(e=>({container:{padding:"".concat(e.typography.pxToRem(10)," ").concat(e.typography.pxToRem(24))},headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center"},header:Object(G.a)({flexGrow:1},e.typography.title,{fontSize:18,fontWeight:500,paddingLeft:8}),newRelationshipPaper:{marginBottom:e.typography.pxToRem(10),padding:e.typography.pxToRem(10)},backToEventContainer:{padding:8,borderRadius:4,display:"inline-block",marginBottom:10,backgroundColor:"#E9EEF4",color:"#494949",fontSize:14},backToEventButton:{backgroundColor:"inherit",fontSize:"inherit",color:"inherit"}}))(FV);const LV=e=>e.currentSelections.programId;var UV=Object(an.c)(()=>{const e=Object(Qd.createSelector)(LV,e=>Object(Yt.y)(e).stage.relationshipTypesWhereStageIsFrom.filter(e=>"TRACKED_ENTITY_INSTANCE"===e.to.entity));return t=>({relationshipTypes:e(t)})},e=>({onCancel:()=>{e(H(SF)({}))},onAddRelationship:(t,a,r)=>{e(((e,t,a)=>H(CF)({relationshipType:e,entity:t,entityType:a}))(t,a,r))}}))(xV);const MV=Object(an.c)(e=>{const t=e.viewEventPage.eventDetailsSection||{},a=e.currentSelections.complete&&t.showEditEvent&&ly(e,"singleEvent-editEvent");return{error:e.activePage.viewEventLoadError&&e.activePage.viewEventLoadError.error,ready:!e.activePage.lockedSelectorLoads,isUserInteractionInProgress:a,showAddRelationship:e.viewEventPage.showAddRelationship}})(ac()(Cp()(({isUserInteractionInProgress:e,showAddRelationship:t})=>n.a.createElement("div",null,n.a.createElement(M_,{isUserInteractionInProgress:e,customActionsOnProgramIdReset:[H(Kx)()],customActionsOnOrgUnitIdReset:[H(Xx)()]}),t?n.a.createElement(UV,null):n.a.createElement(DV,null))))),VV=Object(ge.withStyles)(({typography:e,palette:t})=>({headerContainer:{padding:e.pxToRem(24),borderColor:"light"===t.type?Object(vl.lighten)(Object(vl.fade)(t.divider,1),.88):Object(vl.darken)(Object(vl.fade)(t.divider,1),.8),borderWidth:"0 0 1px 0",borderStyle:"solid"},listContainer:{padding:e.pxToRem(24)},title:Object(G.a)({},e.title)}))(({children:e,classes:{headerContainer:t,listContainer:a,title:r}})=>n.a.createElement(TO.a,null,n.a.createElement("div",{className:t},n.a.createElement("span",{className:r},i.a.t("Registered events"))),n.a.createElement("div",{className:a},e))),BV=US(),GV=e=>{let{eventRecords:t,columns:a,recordsOrder:r}=e,o=Object(_e.a)(e,["eventRecords","columns","recordsOrder"]);const i=!!r;return n.a.createElement(BV,Object.assign({},o,{hasData:i,dataSource:Pb(t,r,a),columns:a,rowIdKey:"id"}))},HV=e=>{let{program:t,customColumnOrder:a}=e,o=Object(_e.a)(e,["program","customColumnOrder"]);const i=Object(XC.useDefaultColumnConfig)(t),s=jb(a,i),l=Object(r.useMemo)(()=>s.filter(e=>e.visible),[s]);return n.a.createElement(GV,Object.assign({},o,{columns:l}))},WV=({storeId:e})=>{const t=Object(an.f)(({currentSelections:e})=>e.programId),a=Object(r.useMemo)(()=>Object(Yt.y)(t),[t]);return n.a.createElement(HV,Object.assign({},kb(e),{program:a}))};a(1132);const YV=({storeId:e})=>n.a.createElement(WV,{storeId:e}),zV=ac()(({storeId:e})=>r.createElement("div",{"data-test":"event-working-lists"},r.createElement(_I,{storeId:e}))),qV=e=>{let{mutationInProgress:t}=e,a=Object(_e.a)(e,["mutationInProgress"]);return n.a.createElement(zV,Object.assign({},a,{ready:!t}))},KV=e=>{let{isOnline:t,storeId:a}=e,r=Object(_e.a)(e,["isOnline","storeId"]);return n.a.createElement(VV,null,t?n.a.createElement(qV,Object.assign({},r,{storeId:a})):n.a.createElement(YV,{storeId:a}))},XV=()=>{const e=Object(an.f)(({offline:{online:e},app:{goingOnlineInProgress:t}})=>!!e&&!t),t=Object(an.f)(({offline:{outbox:e}})=>e&&e.length>0);return n.a.createElement(KV,{storeId:"eventList",isOnline:e,mutationInProgress:t})},JV=({programId:e})=>{const{programType:t}=(e=>Object(r.useMemo)(()=>{const t=Object(Yt.A)(e);return{program:t,programType:t instanceof Yt.t?Yt.H.TRACKER_PROGRAM:Yt.H.EVENT_PROGRAM}},[e]))(e);return t===Yt.H.EVENT_PROGRAM?n.a.createElement(XV,null):n.a.createElement(XU,null)},ZV=Object(ge.withStyles)(()=>({listContainer:{padding:24}}))(e=>{let{currentSelectionsComplete:t,classes:a}=e,r=Object(_e.a)(e,["currentSelectionsComplete","classes"]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(M_,null),t?n.a.createElement("div",{className:a.listContainer},n.a.createElement(JV,r)):null)}),QV=Object(an.c)(e=>({currentSelectionsComplete:!!e.currentSelections.complete,programId:e.currentSelections.programId,error:e.activePage.selectionsError&&e.activePage.selectionsError.error,ready:!e.activePage.lockedSelectorLoads}))(ac()(Cp()(ZV))),$V=Object(ge.withStyles)(e=>({searchDomainSelectorSection:{margin:"16px 8px 8px 8px"},searchRow:{display:"flex",alignItems:"center",justifyContent:"center"},searchRowSelectElement:{width:"100%"},searchButtonContainer:{padding:e.typography.pxToRem(10),display:"flex",alignItems:"center"},textInfo:{textAlign:"right",fontSize:"14px",flexGrow:1},textError:{textAlign:"right",fontSize:e.typography.pxToRem(14),flexGrow:1,color:e.palette.error.main}}))(({searchViaUniqueIdOnScopeTrackedEntityType:e,searchViaUniqueIdOnScopeProgram:t,searchViaAttributesOnScopeProgram:a,searchViaAttributesOnScopeTrackedEntityType:o,saveCurrentFormData:s,addFormIdToReduxStore:l,removeFormDataFromReduxStore:c,selectedSearchScopeId:d,searchGroupsForSelectedScope:p,classes:u,formsValues:m,searchStatus:h,isSearchViaAttributesValid:g,keptFallbackSearchFormValues:y,fallbackTriggered:v})=>{const{resultsPageSize:b}=Object(r.useContext)(Ak);((e,t,a,n)=>{Object(r.useEffect)(()=>(e.forEach(({formId:e,searchForm:a})=>{const r=[...a.getElements().values()].reduce((e,{id:t})=>{if(Object.keys(n).includes(t)){const a=n[t];return Object(G.a)({},e,{[t]:a})}return e},{});t(e,r)}),()=>a()),[n,e,t,a])})(p,l,c,y);const[E,f]=Object(r.useState)(!1),[O,S]=Object(r.useState)(null);return Object(r.useEffect)(()=>{S(null)},[d]),Object(r.useEffect)(()=>{v?((e,t,a)=>{e.filter(e=>!e.unique).forEach(({formId:e},r)=>{t||0!==r||a(e)})})(p,O,S):((e,t,a)=>{e.forEach(({formId:e},r)=>{t||0!==r||a(e)})})(p,O,S)},[v,p,O]),Object(r.useMemo)(()=>{const r={},l=({minAttributesRequiredToSearch:e})=>n.a.createElement("div",{className:E?u.textError:u.textInfo},i.a.t("Fill in at least {{minAttributesRequiredToSearch}}  attributes to search",{minAttributesRequiredToSearch:e}));return n.a.createElement(n.a.Fragment,null,p.filter(e=>e.unique).map(({searchForm:a,formId:o,searchScope:s})=>{const l=!(O===o),c=a.getElements()[0].formName;return n.a.createElement("div",{key:o,"data-test":"dhis2-capture-form-unique"},n.a.createElement(On,{isCollapsed:l,className:u.searchDomainSelectorSection,header:n.a.createElement(Tn,{containerStyle:{borderBottom:"1px solid #ECEFF1"},title:i.a.t("Search {{name}}",{name:c}),onChangeCollapseState:()=>{S(o)},isCollapseButtonEnabled:l,isCollapsed:l})},n.a.createElement("div",{className:u.searchRow},n.a.createElement("div",{className:u.searchRowSelectElement},n.a.createElement(Ih,{formRef:e=>{r[o]=e},formFoundation:a,id:o}))),n.a.createElement("div",{className:u.searchButtonContainer},n.a.createElement(bl.a,{disabled:h===BL,onClick:()=>d&&((a,n,o)=>{if(r[o].validateFormScrollToFirstFailedField({}))switch(a){case xU:t({programId:n,formId:o});break;case LU:e({trackedEntityTypeId:n,formId:o})}})(s,d,o)},i.a.t("Find by {{name}}",{name:c})))))}),p.filter(e=>!e.unique).map(({searchForm:e,formId:t,searchScope:c,minAttributesRequiredToSearch:y})=>{const v=i.a.t("Search by attributes"),E=!(O===t);return n.a.createElement("div",{key:t,"data-test":"dhis2-capture-form-attributes"},n.a.createElement(On,{isCollapsed:E,className:u.searchDomainSelectorSection,header:n.a.createElement(Tn,{containerStyle:{borderBottom:"1px solid #ECEFF1"},title:v,onChangeCollapseState:()=>{S(t)},isCollapseButtonEnabled:E,isCollapsed:E})},n.a.createElement("div",{className:u.searchRow},n.a.createElement("div",{className:u.searchRowSelectElement},n.a.createElement(Ih,{formRef:e=>{r[t]=e},formFoundation:e,id:t}))),n.a.createElement("div",{className:u.searchButtonContainer},n.a.createElement(bl.a,{disabled:h===BL,onClick:()=>d&&((e,t,r,n)=>{if(g(n,r))switch(f(!1),s({searchScopeType:e,searchScopeId:t,formId:r,formsValues:m,searchGroupsForSelectedScope:p}),e){case xU:a({programId:t,formId:r,resultsPageSize:b});break;case LU:o({trackedEntityTypeId:t,formId:r,resultsPageSize:b})}else f(!0)})(c,d,t,y)},v),n.a.createElement(l,{minAttributesRequiredToSearch:y}))))}))},[u.searchButtonContainer,u.searchDomainSelectorSection,u.searchRowSelectElement,u.searchRow,u.textInfo,u.textError,d,h,e,t,a,o,p,g,s,m,b,E,O])}),eB=(e,t)=>{const{searchForm:a,formId:r}=e.reduce((e,t)=>t.unique?e:Object(G.a)({accumulated:e},t),{}),n=t[r]||{};return Object.keys(n).reduce((e,t)=>{const{name:r,id:o,type:i}=a.getElement(t),s=n[t];return(e=>{if(!e)return!1;if(Object(DU.b)(e))return Boolean(e.replace(/\s/g,"").length);if(Object(DU.a)(e)){const t=Object.values(e).filter(e=>Object(DU.b)(e)).filter(e=>Boolean(e.replace(/\s/g,"").length)).length;return Boolean(t===Object.keys(e).length)}return!0})(s)?[...e,{name:r,value:s,id:o,type:i}]:e},[])},tB=Object(an.c)((e,{searchGroupsForSelectedScope:t})=>{const{formsValues:a,searchPage:{searchStatus:r,keptFallbackSearchFormValues:n}}=e;return{keptFallbackSearchFormValues:n,formsValues:a,searchStatus:r,isSearchViaAttributesValid:e=>{const r=eB(t,a);return Object.values(r).length>=e}}},(e,{searchGroupsForSelectedScope:t})=>({searchViaUniqueIdOnScopeTrackedEntityType:({trackedEntityTypeId:t,formId:a})=>{e((({trackedEntityTypeId:e,formId:t})=>H(Zx)({trackedEntityTypeId:e,formId:t}))({trackedEntityTypeId:t,formId:a}))},searchViaUniqueIdOnScopeProgram:({programId:t,formId:a})=>{e((({programId:e,formId:t})=>H(Jx)({programId:e,formId:t}))({programId:t,formId:a}))},searchViaAttributesOnScopeTrackedEntityType:({trackedEntityTypeId:t,formId:a,resultsPageSize:r})=>{e(hL({trackedEntityTypeId:t,formId:a,pageSize:r}))},searchViaAttributesOnScopeProgram:({programId:t,formId:a,resultsPageSize:r})=>{e(gL({programId:t,formId:a,pageSize:r}))},saveCurrentFormData:({searchScopeType:a,searchScopeId:r,formId:n,formsValues:o})=>{const i=eB(t,o);e(mL({searchScopeType:a,searchScopeId:r,formId:n,currentSearchTerms:i}))},addFormIdToReduxStore:(t,a)=>{e(Nh(t,a))},removeFormDataFromReduxStore:()=>{t.forEach(({formId:t})=>{e(function(e){return H(Th)({formId:e})}(t))})}}))($V),aB=HO()($s),rB=Object(ge.withStyles)(e=>({buttonMargin:{marginLeft:e.typography.pxToRem(8)}}))(({currentSearchScopeId:e,currentSearchScopeType:t,id:a,orgUnitId:r,enrollmentType:o,programName:s,classes:l})=>{const c=(e=>{switch(e){case gN.ACTIVE:return yN;case gN.CANCELLED:case gN.COMPLETED:return vN;default:return bN}})(o),d="".concat(t.toLowerCase(),"=").concat(e),{pathname:p,search:u}=Object(ey.f)();return n.a.createElement(n.a.Fragment,null,n.a.createElement(bl.a,{small:!0,dataTest:"dhis2-capture-view-dashboard-button",onClick:()=>FU(a,r,d,"".concat(p).concat(u))},i.a.t("View dashboard")),c===yN&&n.a.createElement(bl.a,{small:!0,className:l.buttonMargin,dataTest:"dhis2-capture-view-active-enrollment-button",onClick:()=>FU(a,r,d,"".concat(p).concat(u))},i.a.t("View active enrollment")),c===vN&&n.a.createElement(bl.a,{small:!0,className:l.buttonMargin,dataTest:"dhis2-capture-re-enrollment-button",onClick:()=>FU(a,r,d,"".concat(p).concat(u))},i.a.t("Re-enroll")," ",s&&"".concat(i.a.t("in")," ").concat(s)))}),nB=Object(ge.withStyles)(e=>({pagination:{display:"flex",justifyContent:"flex-end",marginLeft:e.typography.pxToRem(8),width:e.typography.pxToRem(600)},fallback:{marginLeft:e.typography.pxToRem(8)},fallbackText:{color:bl.r.grey800,marginTop:e.typography.pxToRem(12),marginBottom:e.typography.pxToRem(12)}}))(({searchViaAttributesOnScopeProgram:e,searchViaAttributesOnScopeTrackedEntityType:t,startFallbackSearch:a,classes:o,searchResults:s,dataElements:l,currentPage:c,currentSearchScopeType:d,currentSearchScopeId:p,currentSearchScopeName:u,currentFormId:m,currentSearchTerms:h,fallbackTriggered:g})=>{const{resultsPageSize:y}=Object(r.useContext)(Ak),v=d===xU?p:"",{trackedEntityName:b}=ZT(p);return n.a.createElement(n.a.Fragment,null,n.a.createElement(PP,{currentSearchTerms:h,currentSearchScopeName:u}),n.a.createElement(SN,{noItemsText:i.a.t("No results found"),currentSearchScopeName:u,currentProgramId:v,items:s,dataElements:l,renderCustomCardActions:({item:e,enrollmentType:t,programName:a})=>n.a.createElement(rB,{programName:a,currentSearchScopeId:p,currentSearchScopeType:d,id:e.id,orgUnitId:e.tei.orgUnit,enrollmentType:t})}),n.a.createElement("div",{className:o.pagination},n.a.createElement(aB,{nextPageButtonDisabled:s.length<y,onChangePage:a=>(a=>{switch(d){case xU:e({programId:p,formId:m,page:a,resultsPageSize:y});break;case LU:t({trackedEntityTypeId:p,formId:m,page:a,resultsPageSize:y})}})(a),currentPage:c})),d===xU&&!g&&n.a.createElement("div",{className:o.fallback},n.a.createElement("div",{className:o.fallbackText},i.a.t("Not finding the results you were looking for? Try to search all programs that use type "),'"',b,'".'),n.a.createElement(bl.a,{onClick:()=>{a({programId:p,formId:m,resultsPageSize:y})},dataTest:"fallback-search-button"},i.a.t("Search in all programs"))))}),oB=Object(jr.compose)(Object(an.c)(e=>{const{searchResults:t,currentPage:a,currentSearchInfo:{searchScopeType:r,searchScopeId:n,formId:o,currentSearchTerms:i}}=e.searchPage,s=(c=r,(l=n)?c===xU?Object(xk.k)(l):c===LU?Object(xk.j)(l):null:null);var l,c;return{currentPage:a,searchResults:t,currentSearchScopeType:r,currentSearchScopeId:n,currentSearchScopeName:(e=>e?e.name:"")(s),currentFormId:o,currentSearchTerms:i,dataElements:(e=>e?[...e.attributes.values()]:[])(s).filter(({displayInReports:e})=>e).map(({id:e,name:t,type:a})=>({id:e,name:t,type:a}))}},(e,{availableSearchOptions:t})=>({searchViaAttributesOnScopeTrackedEntityType:({trackedEntityTypeId:t,formId:a,page:r,resultsPageSize:n})=>{e(hL({trackedEntityTypeId:t,formId:a,page:r,pageSize:n,triggeredFrom:"PAGINATION"}))},searchViaAttributesOnScopeProgram:({programId:t,formId:a,page:r,resultsPageSize:n})=>{e(gL({programId:t,formId:a,page:r,pageSize:n,triggeredFrom:"PAGINATION"}))},startFallbackSearch:({programId:a,formId:r,resultsPageSize:n})=>{e((({programId:e,formId:t,page:a=1,pageSize:r,availableSearchOptions:n})=>H(lL)({programId:e,formId:t,page:a,pageSize:r,availableSearchOptions:n}))({programId:a,formId:r,availableSearchOptions:t,pageSize:n}))}})))(nB),iB=()=>Object(an.f)(({currentSelections:e})=>e.trackedEntityTypeId),sB=ql()(({typography:e})=>({header:{paddingLeft:8},searchRow:{maxWidth:e.pxToRem(400),display:"flex",flexDirection:"column",justifyContent:"start",paddingTop:"8px"},searchRowSelectElement:{marginLeft:8,marginRight:8,width:"100%"},informativeIcon:{marginLeft:8},customEmpty:{textAlign:"center",padding:"8px 24px"}}))(({classes:e,onSelect:t,onSetTrackedEntityTypeIdOnUrl:a,accessNeeded:o,headerText:i,footerText:s})=>{const l=$T(),c=iB();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:e.header},i),n.a.createElement("div",{className:e.searchRow},n.a.createElement("div",{className:e.searchRowSelectElement},n.a.createElement(bl.n,{onChange:({selected:e})=>{t(e,Yt.I.TRACKED_ENTITY_TYPE),a({trackedEntityTypeId:e})},selected:c,empty:n.a.createElement("div",{className:e.customEmpty},"Custom empty component")},Object(r.useMemo)(()=>Object.values(l).filter(({trackedEntityTypeAccess:e})=>"write"===o?e&&e.data&&e.data.write:"read"===o&&(e&&e.data&&e.data.read)).map(({trackedEntityTypeName:e,trackedEntityTypeId:t})=>n.a.createElement(bl.o,{key:t,value:t,label:e})),[o,l])))),!c&&n.a.createElement("div",{className:e.informativeIcon},n.a.createElement(iN,null,s)))}),lB=({onSelect:e,accessNeeded:t="read",headerText:a,footerText:o})=>{const i=Object(an.e)(),s=Object(r.useCallback)(({trackedEntityTypeId:e})=>{i((({trackedEntityTypeId:e})=>H(SL)({trackedEntityTypeId:e}))({trackedEntityTypeId:e}))},[i]);return n.a.createElement(sB,{accessNeeded:t,onSelect:e,onSetTrackedEntityTypeIdOnUrl:s,headerText:a,footerText:o})},cB=Object(jr.compose)(ac(),Cp(),ql()(e=>({maxWidth:{maxWidth:e.typography.pxToRem(950)},title:{padding:"8px 0 0px 8px",fontWeight:500,marginBottom:e.typography.pxToRem(16)},container:{padding:"10px 24px 24px 24px"},paper:{padding:e.typography.pxToRem(10)},emptySelectionPaperContent:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:50,paddingBottom:50},backButton:{marginBottom:10},informativeMessage:{marginLeft:e.typography.pxToRem(10),marginTop:e.typography.pxToRem(20),marginBottom:e.typography.pxToRem(28),marginRight:e.typography.pxToRem(10)},loadingMask:{display:"flex",justifyContent:"center"}})))(({showInitialSearchPage:e,navigateToMainPage:t,cleanSearchRelatedInfo:a,classes:o,availableSearchOptions:s,preselectedProgramId:l,searchStatus:c,trackedEntityTypeId:d})=>{const[p,u]=Object(r.useState)(l),[m,h]=Object(r.useState)(l?xU:null),g=vR(p),y=(()=>{const e={fallback:!1},{state:{fallback:t}=e}=Object(ey.f)();return t})();Object(r.useEffect)(()=>{u(l||d),h(l?xU:null)},[d,l]),Object(r.useEffect)(()=>(y||(H(uL)(),e()),()=>{if(y)return a()}),[y,a,l,e]);const v=p?s[p].searchGroups:[];return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ak.Provider,{value:{resultsPageSize:5}},n.a.createElement(M_,{pageToPush:"search"}),n.a.createElement("div",{"data-test":"dhis2-capture-search-page-content",className:o.container},n.a.createElement(bl.a,{dataTest:"dhis2-capture-back-button",className:o.backButton,onClick:t},n.a.createElement(vM.a,null),i.a.t("Back")),n.a.createElement($P.a,{className:o.paper},n.a.createElement("div",{className:o.maxWidth},n.a.createElement("div",{className:o.title},"Find ",g),m!==xU&&n.a.createElement(lB,{onSelect:(t,r)=>{e(),a(),u(t),h(r)},headerText:i.a.t("Search for"),footerText:i.a.t("You can also choose a program from the top bar and search in that program")}),n.a.createElement(tB,{fallbackTriggered:y,selectedSearchScopeId:p,searchGroupsForSelectedScope:v}),c===HL&&n.a.createElement(oB,{availableSearchOptions:s,fallbackTriggered:y}),c===GL&&n.a.createElement(bl.i,{position:"middle"},n.a.createElement(bl.l,null,i.a.t("No results found")),n.a.createElement(bl.k,null,i.a.t("You can change your search terms and search again to find what you are looking for.")),n.a.createElement(bl.j,null,n.a.createElement(bl.b,{end:!0},n.a.createElement(bl.a,{disabled:c===BL,onClick:e,type:"button"},i.a.t("Back to search"))))),c===BL&&n.a.createElement("div",{className:o.loadingMask},n.a.createElement(fe,null)),c===WL&&n.a.createElement("div",{"data-test":"dhis2-capture-general-purpose-error-mesage",className:o.informativeMessage},n.a.createElement(bl.m,{title:i.a.t("An error has occurred"),error:!0},i.a.t("There is a problem with this search, please change the search terms or try again later. For more details open the Console tab of the Developer tools"))),c===YL&&n.a.createElement("div",{"data-test":"dhis2-capture-general-purpose-too-many-results-mesage",className:o.informativeMessage},n.a.createElement(bl.m,{title:i.a.t("Too many results"),warning:!0},i.a.t("This search returned too many results to show. Try changing search terms or searching by more attributes to narrow down the results.")))))),c===VL&&!p&&n.a.createElement(rD,null,i.a.t("Choose a type to start searching"))))}),dB=(e,t,a,r,n)=>({searchOptionId:e,searchOptionName:t,TETypeName:n,searchGroups:[...a.values()].map(({unique:t,searchForm:a,minAttributesRequiredToSearch:n},o)=>({unique:t,searchForm:a,formId:"searchPageForm-".concat(e,"-").concat(o),searchScope:r,minAttributesRequiredToSearch:n}))}),pB=()=>{const e=Object(an.e)(),t=Object(r.useCallback)(()=>{e(H(oL)())},[e]),a=Object(r.useCallback)(()=>{e(H(iL)())},[e]),o=Object(r.useCallback)(()=>{e(H(pL)())},[e]),i=(()=>{const e=$T();return Object(r.useMemo)(()=>Object.values(e).reduce((e,{trackedEntityTypeId:t,trackedEntityTypeName:a,trackedEntityTypeSearchGroups:r,programs:n})=>Object(G.a)({},e,{[t]:dB(t,a,r,LU)},n.reduce((e,{programId:t,programName:r,searchGroups:n})=>Object(G.a)({},e,{[t]:dB(t,r,n,xU,a)}),{})),{}),[e])})(),s=(()=>{const e=Object(an.f)(({currentSelections:e})=>e.programId),t=$T();return Object(r.useMemo)(()=>{const{programId:a}=Object.values(t).map(({programs:t})=>t.find(({programId:t})=>t===e)).filter(e=>e)[0]||{};return a},[e,t])})(),l=Object(an.f)(({searchPage:e})=>e.searchStatus),c=Object(an.f)(({activePage:e})=>e.selectionsError&&e.selectionsError.error),d=Object(an.f)(({activePage:e})=>!e.isLoading),p=Object(an.f)(({currentSelections:e})=>e.programId),u=iB();return Object(r.useEffect)(()=>{p&&p!==s&&a()},[p,s,a]),n.a.createElement(cB,{navigateToMainPage:a,showInitialSearchPage:t,cleanSearchRelatedInfo:o,availableSearchOptions:i,preselectedProgramId:s,trackedEntityTypeId:u,searchStatus:l,error:c,ready:d})},uB=({onCancel:e,onSave:t})=>n.a.createElement(n.a.Fragment,null,n.a.createElement(bl.a,{onClick:e,secondary:!0},i.a.t("Cancel")),t&&n.a.createElement("div",{style:{marginLeft:8}},n.a.createElement(bl.a,{dataTest:"dhis2-capture-create-as-new-person",onClick:t,primary:!0},i.a.t("Save as new")))),mB=({teiId:e,orgUnitId:t})=>{const a=Object(an.f)(({router:{location:{query:e}}})=>e.programId?"PROGRAM":"TRACKED_ENTITY_TYPE"),r=Object(an.f)(({router:{location:{query:e}}})=>e.trackedEntityTypeId||e.programId),o="".concat(a.toLowerCase(),"=").concat(r);return n.a.createElement(bl.a,{small:!0,dataTest:"dhis2-capture-view-dashboard-button",onClick:()=>FU(e,t,o)},i.a.t("View dashboard"))},hB=Object(ge.withStyles)(({typography:e})=>({paper:{marginBottom:e.pxToRem(10),padding:e.pxToRem(10)},title:{padding:"8px 0 0px 8px",fontWeight:500},tetypeContainer:{marginTop:e.pxToRem(16)},registrationContainer:{marginLeft:e.pxToRem(8),marginRight:e.pxToRem(8)},marginTop:{marginTop:e.pxToRem(20)}}))(({classes:e,setScopeId:t,selectedScopeId:a,dataEntryId:o,onSaveWithoutEnrollment:s,onSaveWithEnrollment:l,onReviewDuplicates:c,dataEntryIsReady:d})=>{const{scopeType:p}=ZT(a),{registrationMetaData:u}=eN(a),m=vR(a),h=e=>{t(e)},{closeModal:g,handleSaveAttempt:y,modalIsOpen:v}=((e,t)=>{const{resultsPageSize:a}=Object(r.useContext)(Ak),[n,o]=Object(r.useState)(!1),i=lj(e);return{closeModal:()=>{o(!1)},handleSaveAttempt:e=>{i?(t(a),o(!0)):e()},modalIsOpen:n}})(o,c);return n.a.createElement(n.a.Fragment,null,!p&&n.a.createElement(Ql.o,{className:e.paper},n.a.createElement("div",{className:e.title},"New"),n.a.createElement("div",{className:e.tetypeContainer},n.a.createElement(lB,{onSelect:h,headerText:i.a.t("Create for"),footerText:i.a.t("You can also choose a program from the top bar and create in that program"),accessNeeded:"write"}))),p===Yt.I.TRACKER_PROGRAM&&n.a.createElement(Ql.o,{className:e.paper},n.a.createElement("div",{className:e.title},"New ",m),n.a.createElement("div",{className:e.registrationContainer},n.a.createElement(Ql.i,{container:!0,justify:"space-between"},n.a.createElement(Ql.i,{item:!0,md:!0,sm:9,xs:9},n.a.createElement(Z_,{id:o,selectedScopeId:a,enrollmentMetadata:u,saveButtonText:"Save new",onSave:()=>y(l)})),d&&n.a.createElement(Ql.i,{item:!0},n.a.createElement("div",{className:e.marginTop},n.a.createElement(oj,{selectedScopeId:a,dataEntryId:o,renderCardActions:({item:e})=>n.a.createElement(mB,{teiId:e.id,orgUnitId:e.tei.orgUnit,item:e})})),n.a.createElement(Vk,{dataEntryId:o,selectedScopeId:a,open:v,onCancel:g,renderCardActions:({item:e})=>n.a.createElement(mB,{teiId:e.id,orgUnitId:e.tei.orgUnit,item:e}),extraActions:n.a.createElement(uB,{onCancel:g,onSave:l})}))))),p===Yt.I.TRACKED_ENTITY_TYPE&&n.a.createElement(Ql.o,{className:e.paper},n.a.createElement("div",{className:e.title},"New ",m),n.a.createElement("div",{className:e.tetypeContainer},n.a.createElement(lB,{onSelect:h,headerText:i.a.t("Create for"),footerText:i.a.t("You can also choose a program from the top bar and create in that program"),accessNeeded:"write"})),n.a.createElement("div",{className:e.registrationContainer},n.a.createElement(Ql.i,{container:!0,justify:"space-between"},n.a.createElement(Ql.i,{item:!0,md:!0,sm:9,xs:9},n.a.createElement(tA,{id:o,selectedScopeId:a,teiRegistrationMetadata:u,saveButtonText:"Save new",onSave:()=>y(s)})),d&&n.a.createElement(Ql.i,{item:!0},n.a.createElement("div",{className:e.marginTop},n.a.createElement(oj,{dataEntryId:o,selectedScopeId:a,renderCardActions:({item:e})=>n.a.createElement(mB,{teiId:e.id,orgUnitId:e.tei.orgUnit,item:e})})),n.a.createElement(Vk,{dataEntryId:o,selectedScopeId:a,open:v,onCancel:g,renderCardActions:({item:e})=>n.a.createElement(mB,{teiId:e.id,orgUnitId:e.tei.orgUnit,item:e}),extraActions:n.a.createElement(uB,{onCancel:g,onSave:s})}))))),p===Yt.I.EVENT_PROGRAM&&n.a.createElement(mD,{id:"singleEvent"}))}),gB=({selectedScopeId:e,dataEntryId:t,setScopeId:a})=>{const o=Object(an.e)(),i=Object(r.useCallback)(()=>{o(H(TL)())},[o]),s=Object(r.useCallback)(()=>{o(H(RL)())},[o]),{onReviewDuplicates:l}=Rk(t,e),c=Object(an.f)(({dataEntries:e})=>!!e[t]);return n.a.createElement(hB,{dataEntryId:t,selectedScopeId:e,setScopeId:a,dataEntryIsReady:c,onReviewDuplicates:l,onSaveWithoutEnrollment:i,onSaveWithEnrollment:s})},yB=Object(jr.compose)(ac(),Cp(),ql()(()=>({container:{padding:"24px 24px 16px 24px"}})))(({showMessageToSelectOrgUnitOnNewPage:e,showMessageToSelectProgramCategoryOnNewPage:t,showDefaultViewOnNewPage:a,handleMainPageNavigation:o,classes:s,currentScopeId:l,newPageStatus:c,writeAccess:d,programCategorySelectionIncomplete:p,missingCategoriesInProgramSelection:u,orgUnitSelectionIncomplete:m})=>{const{scopeType:h}=ZT(l),[g,y]=Object(r.useState)(l);return Object(r.useEffect)(()=>{y(l)},[h,l]),Object(r.useEffect)(()=>{m?e():p?t():a()},[p,m,e,t,a]),n.a.createElement(n.a.Fragment,null,n.a.createElement(M_,{pageToPush:"new"}),n.a.createElement("div",{"data-test":"dhis2-capture-registration-page-content",className:s.container},d?n.a.createElement(n.a.Fragment,null,c===cU&&n.a.createElement(gB,{dataEntryId:"newPageDataEntryId",selectedScopeId:g,setScopeId:y}),c===dU&&n.a.createElement(n.a.Fragment,null,n.a.createElement(rD,null,i.a.t("Choose a registering unit to start reporting")),n.a.createElement(bl.a,{dataTest:"dhis2-capture-new-page-cancel-button",onClick:o},i.a.t("Cancel"))),c===pU&&(()=>{const e=u.reduce((e,{name:t},a)=>a+1===u.length?"".concat(e," ").concat(t," ").concat(u.length>1?"categories":"category"):"".concat(e," ").concat(t,","),"");return n.a.createElement(rD,null,i.a.t("Choose the {{missingCategories}} to start reporting",{missingCategories:e}))})()):n.a.createElement(nD,{title:i.a.t("New"),message:i.a.t("You don't have access to create an event in the current selections")})))}),vB=()=>Object(an.f)(({currentSelections:{categoriesMeta:e={},programId:t,complete:a},router:{location:{query:r}}})=>{const n=r.program||t,o=n&&or.a.get(n);if(o&&o.categoryCombination&&!a){return{missingCategories:Array.from(o.categoryCombination.categories.values()).map(({id:e,name:t})=>({id:e,name:t})).filter(({id:t})=>!Object.keys(e).some(e=>e===t)),programSelectionIsIncomplete:!0}}return{missingCategories:[],programSelectionIsIncomplete:!1}}),bB=()=>{const e=Object(an.e)(),t=Object(ey.e)(),a=Object(r.useCallback)(()=>{e(H(iU)())},[e]),o=Object(r.useCallback)(()=>{e(H(sU)())},[e]),i=Object(r.useCallback)(()=>{e(H(lU)())},[e]),s=Object(an.f)(({activePage:e})=>e.selectionsError&&e.selectionsError.error),l=Object(an.f)(({activePage:e})=>!e.lockedSelectorLoads&&!e.isDataEntryLoading),c=Object(an.f)(({currentSelections:e})=>e.programId||e.trackedEntityTypeId),{missingCategories:d,programSelectionIsIncomplete:p}=vB(),u=Object(an.f)(({currentSelections:{orgUnitId:e,complete:t},router:{location:{query:a}}})=>!(a.orgUnitId||e)&&!t),m=Object(an.f)(({newPage:e})=>e.newPageStatus),{id:h}=QT(),{id:g}=bR(),y=(e=>{const t=Object(Yt.B)(e);if(e&&!t)return!1;try{if(t instanceof Yt.t){const{access:e,trackedEntityType:{access:a}}=t,r=e&&e.data&&e.data.write,n=a&&a.data&&a.data.write;return r&&n}if(t instanceof Yt.s){const{access:e}=t;return e&&e.data&&e.data.write}return!0}catch(a){return!1}})(c);return n.a.createElement(yB,{showMessageToSelectOrgUnitOnNewPage:a,showMessageToSelectProgramCategoryOnNewPage:o,showDefaultViewOnNewPage:i,handleMainPageNavigation:()=>{t.push("/?".concat(Y_({orgUnitId:h,programId:g})))},currentScopeId:c,orgUnitSelectionIncomplete:u,programCategorySelectionIncomplete:p,missingCategoriesInProgramSelection:d,writeAccess:y,newPageStatus:m,error:s,ready:l})};var EB=a(444);const fB=(e,t)=>{const a=Object(an.f)(({enrollmentPage:e})=>e.enrollments),r=Object(an.f)(({enrollmentPage:e})=>e.tetId);return{programHasEnrollments:a&&a.some(({program:e})=>t===e),enrollmentsOnProgramContainEnrollmentId:a&&a.filter(({program:e})=>e===t).some(({enrollment:t})=>e===t),tetId:r}},OB="TRACKER_PROGRAM_WITH_ZERO_ENROLLMENTS_SELECTED",SB="TRACKER_PROGRAM_OF_DIFFERENT_TYPE_SELECTED",CB="EVENT_PROGRAM_SELECTED",IB="MISSING_ENROLLMENT_SELECTION",wB="MISSING_PROGRAM_CATEGORIES_SELECTION",TB="MISSING_PROGRAM_SELECTION",NB=Object(ge.withStyles)(()=>({lineHeight:{lineHeight:1.8},link:{background:"transparent",padding:0}}))(({classes:e})=>{const{navigateToProgramRegistrationPage:t,navigateToEventWorkingList:a}=(()=>{const e=Object(ey.e)(),{tetId:t}=Object(an.f)(({enrollmentPage:e})=>e),a=Object(an.f)(({router:{location:{query:e}}})=>e.programId),r=Object(an.f)(({router:{location:{query:e}}})=>e.orgUnitId);return{navigateToProgramRegistrationPage:()=>e.push("/new?".concat(Y_({programId:a,orgUnitId:r}))),navigateToEventWorkingList:()=>e.push("/?".concat(Y_({programId:a,orgUnitId:r}))),navigateToTetRegistrationPage:()=>e.push("/new?".concat(Y_({programId:a,orgUnitId:r,trackedEntityTypeId:t})))}})(),{missingStatus:o}=(()=>{const e=Object(an.e)(),[t,a]=Object(r.useState)(null),{programId:n,enrollmentId:o}=Object(an.f)(({router:{location:{query:e}}})=>({teiId:e.teidId,programId:e.programId,enrollmentId:e.enrollmentId})),{scopeType:i,tetId:s}=ZT(n),{programSelectionIsIncomplete:l}=vB(),{programHasEnrollments:c,enrollmentsOnProgramContainEnrollmentId:d,tetId:p}=fB(o,n),u=s!==p;return Object(r.useEffect)(()=>{const e=n&&i===EB.b.TRACKER_PROGRAM,t=n&&i===EB.b.EVENT_PROGRAM;a(e&&l?wB:e&&u?SB:e&&c&&!d?IB:e&&!c?OB:t?CB:TB)},[e,n,l,c,d,u,i]),{missingStatus:t}})(),{teiDisplayName:s,tetId:l}=Object(an.f)(({enrollmentPage:e})=>e),c=Object(an.f)(({router:{location:{query:e}}})=>e.programId),{trackedEntityName:d}=ZT(l),{programName:p,trackedEntityName:u}=ZT(c);return n.a.createElement(n.a.Fragment,null,o===TB&&n.a.createElement(rD,null,i.a.t("{{teiDisplayName}} is enrolled in multiple programs. Choose a program.",{teiDisplayName:s})),o===wB&&n.a.createElement(rD,null,i.a.t("{{programName}} has categories. Choose all categories to view dashboard.",{programName:p})),o===IB&&n.a.createElement(rD,null,i.a.t("There are multiple enrollments for this program. Choose an enrollment to view the dashboard.")),o===OB&&n.a.createElement(rD,null,n.a.createElement("div",{className:e.lineHeight},i.a.t("{{teiDisplayName}} is not enrolled in this program.",{teiDisplayName:s}),n.a.createElement("div",null,n.a.createElement(Hd,{className:e.link,onClick:t},i.a.t("Enroll {{teiDisplayName}} in this program.",{teiDisplayName:s}))))),o===SB&&n.a.createElement(rD,null,n.a.createElement("div",{className:e.lineHeight},i.a.t("{{teiDisplayName}} is a {{tetName}} and cannot be enrolled in the {{programName}}. Choose another program that allows {{tetName}} enrollment. ",{teiDisplayName:s,programName:p,tetName:d}),n.a.createElement("div",null,n.a.createElement(Hd,{className:e.link,onClick:t},i.a.t("Enroll a new {{selectedTetName}} in this program.",{selectedTetName:u}))))),o===CB&&n.a.createElement(rD,null,n.a.createElement("div",{className:e.lineHeight},i.a.t("{{programName}} is an event program and does not have enrollments.",{programName:p}),n.a.createElement("div",null,n.a.createElement(Hd,{className:e.link,onClick:t},i.a.t("Create a new event in this program."))),n.a.createElement("div",null,n.a.createElement(Hd,{className:e.link,onClick:a},i.a.t("View working list in this program."))))))}),_B=Object(jr.compose)(Cp(),ql()(({typography:e})=>({container:{padding:"16px 24px 16px 24px"},loadingMask:{height:"100vh"},title:Object(G.a)({},e.title)})))(({classes:e,enrollmentPageStatus:t})=>n.a.createElement(n.a.Fragment,null,n.a.createElement(M_,{pageToPush:"enrollment"}),n.a.createElement("div",{"data-test":"dhis2-capture-enrollment-page-content",className:e.container},t===ZL&&n.a.createElement(NB,null),t===KL&&n.a.createElement("div",{className:e.title},"Enrollment Dashboard"),t===XL&&n.a.createElement("div",{className:e.loadingMask},n.a.createElement(Oe,null))))),AB=()=>{const e=Object(an.e)(),{teiId:t,programId:a,enrollmentId:n}=Object(an.f)(({router:{location:{query:e}}})=>({teiId:e.teidId,programId:e.programId,enrollmentId:e.enrollmentId})),{scopeType:o}=ZT(a),{programHasEnrollments:i,enrollmentsOnProgramContainEnrollmentId:s}=fB(n,a);Object(r.useEffect)(()=>{const t=a&&o===EB.b.TRACKER_PROGRAM;e(t&&i&&s?H(LL.DEFAULT_VIEW)():H(LL.MISSING_MESSAGE_VIEW)())},[e,a,s,i,o]),Object(r.useEffect)(()=>()=>e(H(LL.PAGE_CLEAN)()),[e,t])},RB=()=>{AB();const e=Object(an.e)(),t=Object(an.f)(({router:{location:{query:e}}})=>e.teiId),a=Object(an.f)(({enrollmentPage:e})=>e.enrollmentPageStatus);Object(r.useEffect)(()=>{e(H(LL.INFORMATION_FETCH)())},[t,e]);const o=Object(an.f)(({activePage:e})=>e.selectionsError&&e.selectionsError.error);return n.a.createElement(_B,{error:o,enrollmentPageStatus:a})},kB=Object(jr.compose)(ey.g,Ip(e=>e.app.initDone,null,!0),e=>{var t,a;return a=t=class extends r.Component{getChildContext(){return{d2:re()}}render(){return r.createElement(e,this.props)}},t.childContextTypes={d2:Hs.a.object},a},e=>{class t extends r.Component{constructor(...e){super(...e),this.handleUpdate=e=>{this.props.onUpdateFromUrl(this.page,e)}}getSyncSpecification(){const e=this.page||V_.MAIN;return H_[e]||[]}setPageAndParams(){const{location:e}=this.props;this.page=e.pathname.substring(1),this.params=Object(LN.parse)(e&&e.search)}render(){const t=this.props,{location:a,onUpdateFromUrl:n,locationSwitchInProgress:o,params:i,page:s}=t,l=Object(_e.a)(t,["location","onUpdateFromUrl","locationSwitchInProgress","params","page"]);return o?r.createElement(Oe,null):(this.setPageAndParams(),r.createElement(e,Object.assign({statePage:s||V_.MAIN,urlPage:this.page,urlParams:this.params,onUpdate:this.handleUpdate,syncSpecification:this.getSyncSpecification(),stateParams:i},l)))}}return Object(an.c)(e=>({params:UN(e),page:e.app.page,locationSwitchInProgress:e.app.locationSwitchInProgress}),e=>({onUpdateFromUrl:(t,a)=>{q_(t)&&null!=t&&e(W_[t](a))}}))(t)},(jB=e=>e.syncSpecification,e=>gM(e,jB)),Ip((e,t)=>!t.urlOutOfSync,null,!0),Ip(e=>!e.app.goingOnline,null,!0))(()=>n.a.createElement(ey.c,null,n.a.createElement(ey.a,{path:"/viewEvent",component:MV}),n.a.createElement(ey.a,{path:"/search",component:pB}),n.a.createElement(ey.a,{path:"/new",component:bB}),n.a.createElement(ey.a,{path:"/enrollment",component:RB}),n.a.createElement(ey.a,{path:"/:keys",component:QV}),n.a.createElement(ey.a,{path:"/",component:QV})));var jB;kB.displayName="AppPagesLoader";const PB=({classes:e})=>n.a.createElement("div",{className:e.app,dir:or.b.get().dir},n.a.createElement(kB,null),n.a.createElement(hM,null));PB.displayName="AppContents";const DB=Object(ge.withStyles)(e=>({app:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(16)}}))(PB),FB=({store:e,history:t})=>r.createElement(r.Fragment,null,r.createElement(an.a,{store:e},r.createElement(xr.a,{history:t},r.createElement(sM.a,null,r.createElement(DB,null))))),xB="CleanUpEventListInLoading";function LB(e){return e.workingListsUI.main&&e.workingListsUI.main.isLoading?H(xB)():null}function UB(e){window.addEventListener("beforeunload",async t=>{if(function(e){const t=[LB(e.getState())].filter(e=>e);t.length>0&&e.dispatch(Object(J.a)(t))}(e),e.getState().offline.outbox.length>0){const e="Unsaved events!";return t.returnValue=e,e}})}const MB=()=>n.a.createElement("div",null,i.a.t("You opened another version of the Capture App in the same domain. Currently, the Capture App only supports running one version concurrently (in the same domain). Please refresh this page if you would like to use this version again, but be aware that this will close other versions."));var VB=a(7394),BB=a.n(VB),GB=a(505);const HB=document.createElement("noscript");HB.setAttribute("id","jss-insertion-point"),document.head.appendChild(HB);const WB=Object(ge.createGenerateClassName)(),YB=Object(GB.create)(Object(ge.jssPreset)());YB.options.insertionPoint=HB;const zB=({children:e})=>n.a.createElement(BB.a,{jss:YB,generateClassName:WB},e);var qB=a(848),KB=a.n(qB),XB=a(7405),JB=a.n(XB),ZB=a(7404),QB=a.n(ZB);const $B={main:"#1976D2",dark:"#004BA0",light:"#147cd7",lightest:"#EAF4FF"},eG=Object(ge.createMuiTheme)({overrides:{MuiButton:{raisedPrimary:{"&:hover":{backgroundColor:$B.main},backgroundColor:$B.dark},flatPrimary:{"&:hover":{backgroundColor:$B.lightest},color:$B.dark}},MuiDialog:{paperWidthLg:{width:800}},MuiSvgIcon:{colorAction:{color:"#494949"}},MuiCircularProgress:{colorPrimary:{color:"#147cd7"}}},typography:{useNextVariants:!0},palette:{primary:$B,secondary:{main:"#00796B",dark:"#004C40",light:"#48A999",lightest:"#B2DFDB"},error:{lighter:"#FBEAE5",light:KB.a[300],main:"#E53935",dark:KB.a[700]},warning:Object(G.a)({},QB.a,{lighter:QB.a[100],light:QB.a[300],main:"#F19C02",dark:QB.a[900]}),success:{main:"#3D9305"},info:{main:"#EAF4FF"},grey:{main:"#9E9E9E",light:"#E0E0E0",lighter:"#F6F6F6",lightest:"#FBFBFB",dark:"#494949",blueGrey:"#ECEFF1",snow:"#F4F6F8",black:"#000000"}}});eG.typography.formFieldTitle={fontSize:eG.typography.pxToRem(12)},eG.palette=Object(G.a)({},eG.palette,{accent:{lighter:JB.a[50],light:JB.a[100],main:JB.a[300],dark:JB.a[500],contrastText:"#000000"},input:{bottomLine:"rgba(0, 0, 0, 0.42)"},dividerForm:"#f2f4f5",required:KB.a[500]});var tG=eG;const aG=()=>{const[e,t]=Object(r.useState)(!1),[a,o]=Object(r.useState)(!1),i=Object(r.useRef)(),s=Object(r.useRef)(),l=Object(r.useCallback)((e,a)=>{i.current=e,s.current=a,t(!0),e.dispatch(H(de)()),UB(e)},[t,i,s]),c=Object(r.useCallback)(()=>{o(!0)},[o]);return a?n.a.createElement(MB,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(he.a,null),n.a.createElement(zB,null,n.a.createElement(ge.MuiThemeProvider,{theme:tG},e?n.a.createElement(FB,{store:i.current,history:s.current}):n.a.createElement(iM,{onRunApp:l,onCacheExpired:c}))))};t.default=()=>n.a.createElement(aG,null)},889:function(e,t){},935:function(e,t){},949:function(e,t,a){e.exports={input:"textInput_input__2N6-1",inputWrapper:"textInput_inputWrapper__1Q89B",textArea:"textInput_textArea__3llMu"}}}]);