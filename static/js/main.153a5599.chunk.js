(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[138],{310:function(e,s,t){var r={"./af":[312,0],"./af.js":[312,0],"./ar":[320,8],"./ar-dz":[313,1],"./ar-dz.js":[313,1],"./ar-kw":[314,2],"./ar-kw.js":[314,2],"./ar-ly":[315,3],"./ar-ly.js":[315,3],"./ar-ma":[316,4],"./ar-ma.js":[316,4],"./ar-ps":[317,5],"./ar-ps.js":[317,5],"./ar-sa":[318,6],"./ar-sa.js":[318,6],"./ar-tn":[319,7],"./ar-tn.js":[319,7],"./ar.js":[320,8],"./az":[321,9],"./az.js":[321,9],"./be":[322,10],"./be.js":[322,10],"./bg":[323,11],"./bg.js":[323,11],"./bm":[324,12],"./bm.js":[324,12],"./bn":[326,14],"./bn-bd":[325,13],"./bn-bd.js":[325,13],"./bn.js":[326,14],"./bo":[327,15],"./bo.js":[327,15],"./br":[328,16],"./br.js":[328,16],"./bs":[329,17],"./bs.js":[329,17],"./ca":[330,18],"./ca.js":[330,18],"./cs":[331,19],"./cs.js":[331,19],"./cv":[332,20],"./cv.js":[332,20],"./cy":[333,21],"./cy.js":[333,21],"./da":[334,22],"./da.js":[334,22],"./de":[337,25],"./de-at":[335,23],"./de-at.js":[335,23],"./de-ch":[336,24],"./de-ch.js":[336,24],"./de.js":[337,25],"./dv":[338,26],"./dv.js":[338,26],"./el":[339,27],"./el.js":[339,27],"./en-au":[340,28],"./en-au.js":[340,28],"./en-ca":[341,29],"./en-ca.js":[341,29],"./en-gb":[342,30],"./en-gb.js":[342,30],"./en-ie":[343,31],"./en-ie.js":[343,31],"./en-il":[344,32],"./en-il.js":[344,32],"./en-in":[345,33],"./en-in.js":[345,33],"./en-nz":[346,34],"./en-nz.js":[346,34],"./en-sg":[347,35],"./en-sg.js":[347,35],"./eo":[348,36],"./eo.js":[348,36],"./es":[352,40],"./es-do":[349,37],"./es-do.js":[349,37],"./es-mx":[350,38],"./es-mx.js":[350,38],"./es-us":[351,39],"./es-us.js":[351,39],"./es.js":[352,40],"./et":[353,41],"./et.js":[353,41],"./eu":[354,42],"./eu.js":[354,42],"./fa":[355,43],"./fa.js":[355,43],"./fi":[356,44],"./fi.js":[356,44],"./fil":[357,45],"./fil.js":[357,45],"./fo":[358,46],"./fo.js":[358,46],"./fr":[361,49],"./fr-ca":[359,47],"./fr-ca.js":[359,47],"./fr-ch":[360,48],"./fr-ch.js":[360,48],"./fr.js":[361,49],"./fy":[362,50],"./fy.js":[362,50],"./ga":[363,51],"./ga.js":[363,51],"./gd":[364,52],"./gd.js":[364,52],"./gl":[365,53],"./gl.js":[365,53],"./gom-deva":[366,54],"./gom-deva.js":[366,54],"./gom-latn":[367,55],"./gom-latn.js":[367,55],"./gu":[368,56],"./gu.js":[368,56],"./he":[369,57],"./he.js":[369,57],"./hi":[370,58],"./hi.js":[370,58],"./hr":[371,59],"./hr.js":[371,59],"./hu":[372,60],"./hu.js":[372,60],"./hy-am":[373,61],"./hy-am.js":[373,61],"./id":[374,62],"./id.js":[374,62],"./is":[375,63],"./is.js":[375,63],"./it":[377,65],"./it-ch":[376,64],"./it-ch.js":[376,64],"./it.js":[377,65],"./ja":[378,66],"./ja.js":[378,66],"./jv":[379,67],"./jv.js":[379,67],"./ka":[380,68],"./ka.js":[380,68],"./kk":[381,69],"./kk.js":[381,69],"./km":[382,70],"./km.js":[382,70],"./kn":[383,71],"./kn.js":[383,71],"./ko":[384,72],"./ko.js":[384,72],"./ku":[386,74],"./ku-kmr":[385,73],"./ku-kmr.js":[385,73],"./ku.js":[386,74],"./ky":[387,75],"./ky.js":[387,75],"./lb":[388,76],"./lb.js":[388,76],"./lo":[389,77],"./lo.js":[389,77],"./lt":[390,78],"./lt.js":[390,78],"./lv":[391,79],"./lv.js":[391,79],"./me":[392,80],"./me.js":[392,80],"./mi":[393,81],"./mi.js":[393,81],"./mk":[394,82],"./mk.js":[394,82],"./ml":[395,83],"./ml.js":[395,83],"./mn":[396,84],"./mn.js":[396,84],"./mr":[397,85],"./mr.js":[397,85],"./ms":[399,87],"./ms-my":[398,86],"./ms-my.js":[398,86],"./ms.js":[399,87],"./mt":[400,88],"./mt.js":[400,88],"./my":[401,89],"./my.js":[401,89],"./nb":[402,90],"./nb.js":[402,90],"./ne":[403,91],"./ne.js":[403,91],"./nl":[405,93],"./nl-be":[404,92],"./nl-be.js":[404,92],"./nl.js":[405,93],"./nn":[406,94],"./nn.js":[406,94],"./oc-lnc":[407,95],"./oc-lnc.js":[407,95],"./pa-in":[408,96],"./pa-in.js":[408,96],"./pl":[409,97],"./pl.js":[409,97],"./pt":[411,99],"./pt-br":[410,98],"./pt-br.js":[410,98],"./pt.js":[411,99],"./ro":[412,100],"./ro.js":[412,100],"./ru":[413,101],"./ru.js":[413,101],"./sd":[414,102],"./sd.js":[414,102],"./se":[415,103],"./se.js":[415,103],"./si":[416,104],"./si.js":[416,104],"./sk":[417,105],"./sk.js":[417,105],"./sl":[418,106],"./sl.js":[418,106],"./sq":[419,107],"./sq.js":[419,107],"./sr":[421,109],"./sr-cyrl":[420,108],"./sr-cyrl.js":[420,108],"./sr.js":[421,109],"./ss":[422,110],"./ss.js":[422,110],"./sv":[423,111],"./sv.js":[423,111],"./sw":[424,112],"./sw.js":[424,112],"./ta":[425,113],"./ta.js":[425,113],"./te":[426,114],"./te.js":[426,114],"./tet":[427,115],"./tet.js":[427,115],"./tg":[428,116],"./tg.js":[428,116],"./th":[429,117],"./th.js":[429,117],"./tk":[430,118],"./tk.js":[430,118],"./tl-ph":[431,119],"./tl-ph.js":[431,119],"./tlh":[432,120],"./tlh.js":[432,120],"./tr":[433,121],"./tr.js":[433,121],"./tzl":[434,122],"./tzl.js":[434,122],"./tzm":[436,124],"./tzm-latn":[435,123],"./tzm-latn.js":[435,123],"./tzm.js":[436,124],"./ug-cn":[437,125],"./ug-cn.js":[437,125],"./uk":[438,126],"./uk.js":[438,126],"./ur":[439,127],"./ur.js":[439,127],"./uz":[441,129],"./uz-latn":[440,128],"./uz-latn.js":[440,128],"./uz.js":[441,129],"./vi":[442,130],"./vi.js":[442,130],"./x-pseudo":[443,131],"./x-pseudo.js":[443,131],"./yo":[444,132],"./yo.js":[444,132],"./zh-cn":[445,133],"./zh-cn.js":[445,133],"./zh-hk":[446,134],"./zh-hk.js":[446,134],"./zh-mo":[447,135],"./zh-mo.js":[447,135],"./zh-tw":[448,136],"./zh-tw.js":[448,136]};function n(e){if(!t.o(r,e))return Promise.resolve().then((function(){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=r[e],n=s[0];return t.e(s[1]).then((function(){return t.t(n,7)}))}n.keys=function(){return Object.keys(r)},n.id=310,e.exports=n},738:function(e,s,t){},739:function(e,s,t){"use strict";t.r(s);var r=t(9),n=t(1),j=t.n(n),_=t(31),P=t.n(_),o=t(62),i=t(72),c=t.n(i),A=t(11);const a=e=>{let{D2App:s,config:t,propsFromParent:r,resizePluginHeight:j,resizePluginWidth:_}=e;const P=Object(n.useRef)(),o=Object(n.useRef)();Object(n.useEffect)((()=>{if(P&&P.current&&j){new ResizeObserver((()=>{j&&j(P.current.offsetHeight+20)})).observe(P.current)}}),[j]);const i=Object(n.useRef)(),c=Object(n.useCallback)((()=>{var e;const s=null===(e=o.current)||void 0===e?void 0:e.scrollWidth;_&&s&&(i.current&&Math.abs(s-i.current)>20&&_(s+20),i.current=s),requestAnimationFrame(c)}),[_]);return Object(n.useEffect)((()=>{_&&requestAnimationFrame(c)}),[c,_]),Object(A.jsx)("div",{ref:P,children:Object(A.jsx)("div",{style:{display:"flex",width:"fitContent"},children:Object(A.jsx)("div",{id:"innerDiv",ref:o,children:Object(A.jsx)(s,{config:t,resizePluginWidth:_,...r})})})})},E=e=>{let{config:s,requiredProps:t,D2App:_}=e;const[P,i]=Object(n.useState)({}),[E,l]=Object(n.useState)([]),[u,S]=Object(n.useState)((()=>()=>{})),[O,R]=Object(n.useState)(!1),[d,b]=Object(n.useState)((()=>()=>{})),[C,h]=Object(n.useState)((()=>()=>{})),[T,I]=Object(n.useState)(null),[p,f]=Object(n.useState)(null),m=Object(n.useCallback)((e=>{const{data:s}=e,{setInErrorState:r,setCommunicationReceived:n,alertsAdd:j,showAlertsInPlugin:_,height:P,setPluginHeight:o,width:c,setPluginWidth:A,onError:a,...E}=s;i(E);const u=null===t||void 0===t?void 0:t.filter((e=>!E[e]));u&&u.length>0&&(console.error(`These props are missing: ${u.join()}`),l(u)),r&&a&&b((()=>e=>{a(e)})),n&&h((()=>()=>{n(!1)})),j&&S((()=>(e,s)=>{j(e,s)})),_&&R(Boolean(_)),!P&&o&&I((()=>e=>o(e))),!c&&A&&f((()=>e=>A(e)))}),[t,b,h,S,R,I,f]);return Object(n.useEffect)((()=>{c.a.send(window.top,"getPropsFromParent").then(m).catch((e=>{console.error(e)}))}),[m]),Object(n.useEffect)((()=>{const e=c.a.on("updated",{window:window.top},(e=>{m(e)}));return()=>e.cancel()}),[m]),Object(n.useEffect)((()=>{if(E.length>0)throw new Error(`These props are missing: ${E.join()}`)}),[E]),Object(A.jsx)(o.a,{parentAlertsAdd:u,showAlertsInPlugin:O,onPluginError:d,clearPluginError:C,...s,children:Object(A.jsx)(j.a.Suspense,{fallback:Object(A.jsx)(r.qb,{translucent:!0,level:r.Ub.alert,children:Object(A.jsx)(r.f,{children:Object(A.jsx)(r.i,{})})}),children:Object(A.jsx)(a,{D2App:_,config:s,propsFromParent:P,resizePluginHeight:T,resizePluginWidth:p})})})};class l extends n.Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,s){this.setState({error:e,errorInfo:s})}render(){const{children:e}=this.props;return this.state.error?Object(A.jsx)("p",{children:"Plugin outermost error boundary"}):e}}const u=j.a.lazy((()=>Promise.all([t.e(140),t.e(137)]).then(t.bind(null,2439)))),S="true"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.68.7",REACT_APP_DHIS2_APP_DIRECTION:"auto",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_DHIS2_APP_LOGINAPP:"false",REACT_APP_VERSION:"100.68.7",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_APP_PLUGIN,O=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.68.7",REACT_APP_DHIS2_APP_DIRECTION:"auto",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_DHIS2_APP_LOGINAPP:"false",REACT_APP_VERSION:"100.68.7",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_APP_SKIPPLUGINLOGIC,R=(d=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.68.7",REACT_APP_DHIS2_APP_DIRECTION:"auto",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_DHIS2_APP_LOGINAPP:"false",REACT_APP_VERSION:"100.68.7",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_APP_REQUIREDPROPS)&&""!==d?d.split(","):[];var d;const b={url:(()=>{var e;const s=null===(e=document.querySelector('meta[name="dhis2-base-url"]'))||void 0===e?void 0:e.getAttribute("content");return s&&"__DHIS2_BASE_URL__"!==s?s:null})()||"..",appName:"Capture",appVersion:"100.68.7",apiVersion:parseInt(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.68.7",REACT_APP_DHIS2_APP_DIRECTION:"auto",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_DHIS2_APP_LOGINAPP:"false",REACT_APP_VERSION:"100.68.7",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_API_VERSION),pwaEnabled:"true"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.68.7",REACT_APP_DHIS2_APP_DIRECTION:"auto",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_DHIS2_APP_LOGINAPP:"false",REACT_APP_VERSION:"100.68.7",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_APP_PWA_ENABLED,plugin:S,loginApp:!1,direction:"auto"},C={...b,requiredProps:R},h=e=>{let{config:s}=e;return Object(A.jsx)(o.a,{...s,children:Object(A.jsx)(j.a.Suspense,{fallback:Object(A.jsx)(r.qb,{level:r.Ub.alert,children:Object(A.jsx)(r.f,{children:Object(A.jsx)(r.i,{})})}),children:Object(A.jsx)(u,{config:s})})})},T=e=>{let{config:s}=e;return Object(A.jsx)(l,{children:Object(A.jsx)(E,{config:s,requiredProps:R,D2App:u})})};var I=()=>S&&!O?Object(A.jsx)(T,{config:C}):Object(A.jsx)(h,{config:b});t(311),t(738);P.a.render(Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(r.j,{}),Object(A.jsx)(I,{})]}),document.getElementById("dhis2-app-root"))}},[[739,139,141]]]);