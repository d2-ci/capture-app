(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[138],{323:function(s,e,t){var r={"./af":[325,0],"./af.js":[325,0],"./ar":[333,8],"./ar-dz":[326,1],"./ar-dz.js":[326,1],"./ar-kw":[327,2],"./ar-kw.js":[327,2],"./ar-ly":[328,3],"./ar-ly.js":[328,3],"./ar-ma":[329,4],"./ar-ma.js":[329,4],"./ar-ps":[330,5],"./ar-ps.js":[330,5],"./ar-sa":[331,6],"./ar-sa.js":[331,6],"./ar-tn":[332,7],"./ar-tn.js":[332,7],"./ar.js":[333,8],"./az":[334,9],"./az.js":[334,9],"./be":[335,10],"./be.js":[335,10],"./bg":[336,11],"./bg.js":[336,11],"./bm":[337,12],"./bm.js":[337,12],"./bn":[339,14],"./bn-bd":[338,13],"./bn-bd.js":[338,13],"./bn.js":[339,14],"./bo":[340,15],"./bo.js":[340,15],"./br":[341,16],"./br.js":[341,16],"./bs":[342,17],"./bs.js":[342,17],"./ca":[343,18],"./ca.js":[343,18],"./cs":[344,19],"./cs.js":[344,19],"./cv":[345,20],"./cv.js":[345,20],"./cy":[346,21],"./cy.js":[346,21],"./da":[347,22],"./da.js":[347,22],"./de":[350,25],"./de-at":[348,23],"./de-at.js":[348,23],"./de-ch":[349,24],"./de-ch.js":[349,24],"./de.js":[350,25],"./dv":[351,26],"./dv.js":[351,26],"./el":[352,27],"./el.js":[352,27],"./en-au":[353,28],"./en-au.js":[353,28],"./en-ca":[354,29],"./en-ca.js":[354,29],"./en-gb":[355,30],"./en-gb.js":[355,30],"./en-ie":[356,31],"./en-ie.js":[356,31],"./en-il":[357,32],"./en-il.js":[357,32],"./en-in":[358,33],"./en-in.js":[358,33],"./en-nz":[359,34],"./en-nz.js":[359,34],"./en-sg":[360,35],"./en-sg.js":[360,35],"./eo":[361,36],"./eo.js":[361,36],"./es":[365,40],"./es-do":[362,37],"./es-do.js":[362,37],"./es-mx":[363,38],"./es-mx.js":[363,38],"./es-us":[364,39],"./es-us.js":[364,39],"./es.js":[365,40],"./et":[366,41],"./et.js":[366,41],"./eu":[367,42],"./eu.js":[367,42],"./fa":[368,43],"./fa.js":[368,43],"./fi":[369,44],"./fi.js":[369,44],"./fil":[370,45],"./fil.js":[370,45],"./fo":[371,46],"./fo.js":[371,46],"./fr":[374,49],"./fr-ca":[372,47],"./fr-ca.js":[372,47],"./fr-ch":[373,48],"./fr-ch.js":[373,48],"./fr.js":[374,49],"./fy":[375,50],"./fy.js":[375,50],"./ga":[376,51],"./ga.js":[376,51],"./gd":[377,52],"./gd.js":[377,52],"./gl":[378,53],"./gl.js":[378,53],"./gom-deva":[379,54],"./gom-deva.js":[379,54],"./gom-latn":[380,55],"./gom-latn.js":[380,55],"./gu":[381,56],"./gu.js":[381,56],"./he":[382,57],"./he.js":[382,57],"./hi":[383,58],"./hi.js":[383,58],"./hr":[384,59],"./hr.js":[384,59],"./hu":[385,60],"./hu.js":[385,60],"./hy-am":[386,61],"./hy-am.js":[386,61],"./id":[387,62],"./id.js":[387,62],"./is":[388,63],"./is.js":[388,63],"./it":[390,65],"./it-ch":[389,64],"./it-ch.js":[389,64],"./it.js":[390,65],"./ja":[391,66],"./ja.js":[391,66],"./jv":[392,67],"./jv.js":[392,67],"./ka":[393,68],"./ka.js":[393,68],"./kk":[394,69],"./kk.js":[394,69],"./km":[395,70],"./km.js":[395,70],"./kn":[396,71],"./kn.js":[396,71],"./ko":[397,72],"./ko.js":[397,72],"./ku":[399,74],"./ku-kmr":[398,73],"./ku-kmr.js":[398,73],"./ku.js":[399,74],"./ky":[400,75],"./ky.js":[400,75],"./lb":[401,76],"./lb.js":[401,76],"./lo":[402,77],"./lo.js":[402,77],"./lt":[403,78],"./lt.js":[403,78],"./lv":[404,79],"./lv.js":[404,79],"./me":[405,80],"./me.js":[405,80],"./mi":[406,81],"./mi.js":[406,81],"./mk":[407,82],"./mk.js":[407,82],"./ml":[408,83],"./ml.js":[408,83],"./mn":[409,84],"./mn.js":[409,84],"./mr":[410,85],"./mr.js":[410,85],"./ms":[412,87],"./ms-my":[411,86],"./ms-my.js":[411,86],"./ms.js":[412,87],"./mt":[413,88],"./mt.js":[413,88],"./my":[414,89],"./my.js":[414,89],"./nb":[415,90],"./nb.js":[415,90],"./ne":[416,91],"./ne.js":[416,91],"./nl":[418,93],"./nl-be":[417,92],"./nl-be.js":[417,92],"./nl.js":[418,93],"./nn":[419,94],"./nn.js":[419,94],"./oc-lnc":[420,95],"./oc-lnc.js":[420,95],"./pa-in":[421,96],"./pa-in.js":[421,96],"./pl":[422,97],"./pl.js":[422,97],"./pt":[424,99],"./pt-br":[423,98],"./pt-br.js":[423,98],"./pt.js":[424,99],"./ro":[425,100],"./ro.js":[425,100],"./ru":[426,101],"./ru.js":[426,101],"./sd":[427,102],"./sd.js":[427,102],"./se":[428,103],"./se.js":[428,103],"./si":[429,104],"./si.js":[429,104],"./sk":[430,105],"./sk.js":[430,105],"./sl":[431,106],"./sl.js":[431,106],"./sq":[432,107],"./sq.js":[432,107],"./sr":[434,109],"./sr-cyrl":[433,108],"./sr-cyrl.js":[433,108],"./sr.js":[434,109],"./ss":[435,110],"./ss.js":[435,110],"./sv":[436,111],"./sv.js":[436,111],"./sw":[437,112],"./sw.js":[437,112],"./ta":[438,113],"./ta.js":[438,113],"./te":[439,114],"./te.js":[439,114],"./tet":[440,115],"./tet.js":[440,115],"./tg":[441,116],"./tg.js":[441,116],"./th":[442,117],"./th.js":[442,117],"./tk":[443,118],"./tk.js":[443,118],"./tl-ph":[444,119],"./tl-ph.js":[444,119],"./tlh":[445,120],"./tlh.js":[445,120],"./tr":[446,121],"./tr.js":[446,121],"./tzl":[447,122],"./tzl.js":[447,122],"./tzm":[449,124],"./tzm-latn":[448,123],"./tzm-latn.js":[448,123],"./tzm.js":[449,124],"./ug-cn":[450,125],"./ug-cn.js":[450,125],"./uk":[451,126],"./uk.js":[451,126],"./ur":[452,127],"./ur.js":[452,127],"./uz":[454,129],"./uz-latn":[453,128],"./uz-latn.js":[453,128],"./uz.js":[454,129],"./vi":[455,130],"./vi.js":[455,130],"./x-pseudo":[456,131],"./x-pseudo.js":[456,131],"./yo":[457,132],"./yo.js":[457,132],"./zh-cn":[458,133],"./zh-cn.js":[458,133],"./zh-hk":[459,134],"./zh-hk.js":[459,134],"./zh-mo":[460,135],"./zh-mo.js":[460,135],"./zh-tw":[461,136],"./zh-tw.js":[461,136]};function n(s){if(!t.o(r,s))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+s+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[s],n=e[0];return t.e(e[1]).then((function(){return t.t(n,7)}))}n.keys=function(){return Object.keys(r)},n.id=323,s.exports=n},750:function(s,e,t){},751:function(s,e,t){"use strict";t.r(e);var r=t(9),n=t(1),j=t.n(n),i=t(31),c=t.n(i),o=t(62),a=t(72),l=t.n(a),_=t(11);const u=s=>{let{D2App:e,config:t,propsFromParent:r,resizePluginHeight:j,resizePluginWidth:i}=s;const c=Object(n.useRef)(),o=Object(n.useRef)();Object(n.useEffect)((()=>{if(c&&c.current&&j){new ResizeObserver((()=>{j&&j(c.current.offsetHeight+20)})).observe(c.current)}}),[j]);const a=Object(n.useRef)(),l=Object(n.useCallback)((()=>{var s;const e=null===(s=o.current)||void 0===s?void 0:s.scrollWidth;i&&e&&(a.current&&Math.abs(e-a.current)>20&&i(e+20),a.current=e),requestAnimationFrame(l)}),[i]);return Object(n.useEffect)((()=>{i&&requestAnimationFrame(l)}),[l,i]),Object(_.jsx)("div",{ref:c,children:Object(_.jsx)("div",{style:{display:"flex",width:"fitContent"},children:Object(_.jsx)("div",{id:"innerDiv",ref:o,children:Object(_.jsx)(e,{config:t,resizePluginWidth:i,...r})})})})},P=s=>{let{config:e,requiredProps:t,D2App:i}=s;const[c,a]=Object(n.useState)({}),[P,E]=Object(n.useState)([]),[d,A]=Object(n.useState)((()=>()=>{})),[O,b]=Object(n.useState)(!1),[S,h]=Object(n.useState)((()=>()=>{})),[R,p]=Object(n.useState)((()=>()=>{})),[f,m]=Object(n.useState)(null),[C,T]=Object(n.useState)(null),g=Object(n.useCallback)((s=>{const{data:e}=s,{setInErrorState:r,setCommunicationReceived:n,alertsAdd:j,showAlertsInPlugin:i,height:c,setPluginHeight:o,width:l,setPluginWidth:_,onError:u,...P}=e;a(P);const d=null===t||void 0===t?void 0:t.filter((s=>!P[s]));d&&d.length>0&&(console.error(`These props are missing: ${d.join()}`),E(d)),r&&u&&h((()=>s=>{u(s)})),n&&p((()=>()=>{n(!1)})),j&&A((()=>(s,e)=>{j(s,e)})),i&&b(Boolean(i)),!c&&o&&m((()=>s=>o(s))),!l&&_&&T((()=>s=>_(s)))}),[t,h,p,A,b,m,T]);return Object(n.useEffect)((()=>{l.a.send(window.top,"getPropsFromParent").then(g).catch((s=>{console.error(s)}))}),[g]),Object(n.useEffect)((()=>{const s=l.a.on("updated",{window:window.top},(s=>{g(s)}));return()=>s.cancel()}),[g]),Object(n.useEffect)((()=>{if(P.length>0)throw new Error(`These props are missing: ${P.join()}`)}),[P]),Object(_.jsx)(o.a,{parentAlertsAdd:d,showAlertsInPlugin:O,onPluginError:S,clearPluginError:R,...e,children:Object(_.jsx)(j.a.Suspense,{fallback:Object(_.jsx)(r.qb,{translucent:!0,level:r.Ub.alert,children:Object(_.jsx)(r.f,{children:Object(_.jsx)(r.i,{})})}),children:Object(_.jsx)(u,{D2App:i,config:e,propsFromParent:c,resizePluginHeight:f,resizePluginWidth:C})})})};class E extends n.Component{constructor(s){super(s),this.state={error:null,errorInfo:null}}componentDidCatch(s,e){this.setState({error:s,errorInfo:e})}render(){const{children:s}=this.props;return this.state.error?Object(_.jsx)("p",{children:"Plugin outermost error boundary"}):s}}const d=j.a.lazy((()=>Promise.all([t.e(140),t.e(137)]).then(t.bind(null,2451)))),A="true"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.70.9",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_VERSION:"100.70.9",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_APP_PLUGIN,O=(b=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.70.9",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_VERSION:"100.70.9",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_APP_REQUIREDPROPS)&&""!==b?b.split(","):[];var b;const S={url:"..",appName:"Capture",appVersion:"100.70.9",apiVersion:parseInt(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.70.9",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_VERSION:"100.70.9",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_API_VERSION),pwaEnabled:"true"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_VERSION:"38",REACT_APP_DHIS2_APP_VERSION:"100.70.9",REACT_APP_DHIS2_APP_NAME:"Capture",REACT_APP_VERSION:"100.70.9",REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_CACHE_VERSION:"7"}).REACT_APP_DHIS2_APP_PWA_ENABLED,plugin:A},h={...S,requiredProps:O},R=s=>{let{config:e}=s;return Object(_.jsx)(o.a,{...e,children:Object(_.jsx)(j.a.Suspense,{fallback:Object(_.jsx)(r.qb,{level:r.Ub.alert,children:Object(_.jsx)(r.f,{children:Object(_.jsx)(r.i,{})})}),children:Object(_.jsx)(d,{config:e})})})},p=s=>{let{config:e}=s;return Object(_.jsx)(E,{children:Object(_.jsx)(P,{config:e,requiredProps:O,D2App:d})})};var f=()=>A?Object(_.jsx)(p,{config:h}):Object(_.jsx)(R,{config:S});t(324),t(750);c.a.render(Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(r.j,{}),Object(_.jsx)(f,{})]}),document.getElementById("dhis2-app-root"))}},[[751,139,141]]]);